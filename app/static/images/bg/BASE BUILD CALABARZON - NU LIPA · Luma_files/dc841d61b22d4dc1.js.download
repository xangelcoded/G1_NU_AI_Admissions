(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,659592,e=>{"use strict";e.s(["LumaEventInput",()=>p]);var i=e.i(391398),s=e.i(359626);e.i(89695);var a=e.i(103800),t=e.i(191788),n=e.i(31197),l=e.i(454657),r=e.i(431275),c=e.i(86316),o=e.i(56989),d=e.i(581455),m=e.i(348688);let p=(0,t.forwardRef)((e,s)=>{let{onEvent:a,submitting_to:n,autoFocus:l}=e,[r,c]=(0,t.useState)("");return(0,i.jsx)(u,{onEvent:a,value:r,setValue:c,submitting_to:n,autoFocus:l,ref:s})}),u=(0,t.forwardRef)((e,p)=>{let{onEvent:u,value:g,setValue:v,submitting_to:b,exclude_event_api_ids:h,autoFocus:f}=e,y=(0,r.useDebounce)(g,500),[j,_]=(0,t.useState)({}),k=(0,t.useCallback)((e,i)=>{_(s=>({...s,[e]:i})),(null==i?void 0:i.validation.can_submit)&&!(null==h?void 0:h.includes(i.event.api_id))?u(i.event):u(null)},[_]),B=(0,c.useT)(),w=(0,t.useCallback)(async e=>{try{let i=e.startsWith("http")?e:"https://".concat(e),s=new URL(i),a=s.host.toLowerCase();if(d.config.WEB_URLS.some(e=>{let i=new URL(e).host.toLowerCase();return a===i})){let e=null;if(s.pathname.startsWith("/event/manage/")){let i=s.pathname.slice(14);i&&(e={event_api_id:i,...b})}else{let i=s.pathname.split("/")[1];i&&(e={url:i,...b})}if(e){let{event:i,validation:a}=await m.APIClient.get("/discover/get-event-for-submission",e),t=s.origin+"/".concat(i.url);v(t),k(t,{event:i,validation:a});return}}k(e,null)}catch(i){console.error(i),k(e,null)}},[k,v,b]);(0,t.useEffect)(()=>{w(y)},[y]);let R=j[y],N=void 0===R,z=R&&(null==h?void 0:h.includes(R.event.api_id));return(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3",children:[(0,i.jsx)(l.LuxInput,{value:g,onChange:v,autoFocus:f,label:B({defaultMessage:"Luma Event Link",id:"CFl8TZ",description:"Label for input to enter a Luma event link"}),placeholder:"https://luma.com/myevent",ref:p,type:"url"}),(0,i.jsx)(n.LuxCollapse,{show:!!(y&&g),children:(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 pt-2",children:(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 rounded-border status-container",children:R&&!z?(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3",children:[(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3 flex-center gap-25",children:[(0,i.jsx)("img",{alt:R.event.name,src:(0,o.getImageUrl)({url:R.event.cover_url,width:400}),width:40,height:40,className:"jsx-170ddc275e6d15b3 rounded flex-shrink-0"}),(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3 min-width-0",children:[(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 fw-medium text-ellipses",children:R.event.name}),(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 text-tertiary-alpha fs-sm",children:a.DateTime.fromISO(R.event.start_at,{zone:R.event.timezone}).toLocaleString({weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})})]})]}),R&&R.validation.errors.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:"jsx-170ddc275e6d15b3 error-divider"}),(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3 flex-column fs-sm mt-2 errors",children:[(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3",children:B({defaultMessage:"This event cannot be submitted because:",id:"SHG7TV",description:"What follows is a list of issues."})}),(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 flex-column gap-2 mt-2",children:(0,i.jsx)("ul",{className:"jsx-170ddc275e6d15b3",children:R.validation.errors.map((e,s)=>(0,i.jsx)("li",{className:"jsx-170ddc275e6d15b3",children:e},s))})})]})]})]}):N?(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3 shimmer-wrapper flex-center gap-25",children:[(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 shimmer cover rounded"}),(0,i.jsxs)("div",{className:"jsx-170ddc275e6d15b3 flex-1",children:[(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 shimmer name"}),(0,i.jsx)("div",{className:"jsx-170ddc275e6d15b3 shimmer date"})]})]}):z?(0,i.jsx)(x,{title:B({defaultMessage:"Duplicate Event",id:"uHLdqM",description:"Message indicating an event is a dupe."}),desc:B({defaultMessage:"This event has already been added.",id:"+pkwYB",description:"Message indicating the link entered by the user is a dupe."})}):(0,i.jsx)(x,{title:B({defaultMessage:"Event Not Found",id:"Hzsi+m",description:"Message indicating an event not found."}),desc:B({defaultMessage:"Please make sure you enter a valid Luma event link.",id:"HQJcXj",description:"Message indicating the link entered by the user is invalid."})})})})}),(0,i.jsx)(s.default,{id:"170ddc275e6d15b3",children:".status-container.jsx-170ddc275e6d15b3{background-color:var(--slight-translucent-elevated-bg-color);padding:.625rem .875rem}hr.error-divider.jsx-170ddc275e6d15b3{margin:.75rem -.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3{margin-top:0;margin-bottom:0}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:not(:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){padding-left:.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:not(:-moz-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){padding-left:.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:not(:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){padding-left:.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){padding-right:.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:-moz-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){padding-right:.875rem}.errors.jsx-170ddc275e6d15b3 ul.jsx-170ddc275e6d15b3:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){padding-right:.875rem}.shimmer-wrapper.jsx-170ddc275e6d15b3 .cover.jsx-170ddc275e6d15b3{width:50px;height:50px;margin-bottom:0}.shimmer-wrapper.jsx-170ddc275e6d15b3 .name.jsx-170ddc275e6d15b3{width:60%;height:.75rem}.shimmer-wrapper.jsx-170ddc275e6d15b3 .date.jsx-170ddc275e6d15b3{width:40%;height:.5rem;margin-bottom:0}"})]})}),x=e=>{let{title:s,desc:a}=e;return(0,i.jsxs)("div",{className:"text-center py-1 text-tertiary-alpha",children:[(0,i.jsx)("div",{className:"fw-medium",children:s}),(0,i.jsx)("div",{className:"fs-sm",children:a})]})}},144367,e=>{"use strict";e.s(["continentName",()=>a,"eventListSections",()=>s,"placesByContinent",()=>t]),e.i(89695);var i=e.i(103800);let s=e=>{let{events:s,calendars:a,timezone:t}=e;if(!a||!a.length||!s||s.length<8)return{first:s||[],second:[]};let n=[],l="";for(let e of s){let s=i.DateTime.fromISO(e.start_at,{zone:t}).startOf("day");if(n.length>1)n[n.length-1].push(e);else{let i=s.toISODate();i!==l&&(0===n.length||n[0].length>4)?n.push([e]):n[0].push(e),l=i}}return n.length<2?{first:s||[],second:[]}:{first:n[0],second:n[1]}},a=(e,i)=>{switch(e){case"apac":return i({defaultMessage:"Asia & Pacific",id:"MPUb+0",description:"Asia and Pacific continents."});case"europe":return i({defaultMessage:"Europe",id:"X3AIiK"});case"africa":return i({defaultMessage:"Africa",id:"VH7A0a"});case"na":return i({defaultMessage:"North America",id:"rn1UqJ"});case"sa":return i({defaultMessage:"South America",id:"1T84kB"});case"other":return i({defaultMessage:"Other",id:"/VnDMl"})}},t=e=>{let{places:i,locale:s}=e,a={},t=[];return i.infos.forEach(e=>{let i=e.place.geo_continent||"other";void 0===a[i]?(a[i]=[e],t.push(i)):a[i].push(e)}),t.map(e=>({geo_continent:e,places:a[e].sort((e,i)=>e.place.name.localeCompare(i.place.name,s))}))}},880519,e=>{"use strict";e.s(["DiscoverPlaceSocialHead",()=>t,"discoverPlaceSocialDescription",()=>n]);var i=e.i(391398),s=e.i(86316),a=e.i(646037);let t=e=>{let{place:t,tab:l}=e,r=(0,s.useT)(),c=n({place:t,t:r}),o="/".concat(t.slug);return"map"===l&&(o="/".concat(t.slug,"/map")),(0,i.jsx)(a.SocialHead,{title:r({defaultMessage:"Popular events in {place_name}",id:"n93SKA",description:"Discover place page title. {place_name} will be the translated place name."},{place_name:t.name}),baseTitle:r({defaultMessage:"Events Calendar",id:"5T8pwc",description:"Discover place page. Base page title. (Page title consisting of '{page_title} Â· {base_title}')."}),description:c,imageUrl:t.social_image_url,imageSize:{width:2400,height:1260},deeplinkUrl:"luma://discover/".concat(t.slug),canonicalPath:o})},n=e=>{let{place:i,t:s}=e;return s({defaultMessage:"Discover the hottest events in {place_name}, and get notified of new events before they sell out.",id:"ch9IzT",description:"Discover place callout. {place_name} will be the translated place name."},{place_name:i.name})}},962361,e=>{"use strict";e.s(["DiscoverPage",()=>e_,"DiscoverPlaceLoadingState",()=>eB],962361);var i=e.i(391398),s=e.i(359626),a=e.i(272043),t=e.i(191788),n=e.i(344731),l=e.i(424017),r=e.i(679905),c=e.i(206046),o=e.i(332587),d=e.i(826420),m=e.i(106946),p=e.i(426426),u=e.i(860040),x=e.i(405155),g=e.i(543013),v=e.i(529649),v=v,b=e.i(711043),h=e.i(851800),f=e.i(922323),y=e.i(86316),j=e.i(655794),_=e.i(388855),k=e.i(834300),B=e.i(829900),w=e.i(356582),R=e.i(179055),N=e.i(63883),z=e.i(588529),S=e.i(411160),T=e.i(581254),C=e.i(632144),M=e.i(98583),P=e.i(565867),L=e.i(348688),D=e.i(979637),I=e.i(990301),E=e.i(395096),A=e.i(169221),U=e.i(438154),F=e.i(442357),W=e.i(8084);let q=e=>{let{title:a,calendars:t}=e;return(0,i.jsxs)("div",{className:"jsx-8f58f711af46b2cb calendars-section",children:[(0,i.jsxs)("div",{className:"jsx-8f58f711af46b2cb flex-center title text-tertiary-alpha mb-2 gap-25",children:[(0,i.jsx)(U.default,{}),a]}),(0,i.jsxs)("div",{className:"jsx-8f58f711af46b2cb calendar-list",children:[t.map(e=>(0,i.jsx)(H,{calendar:e},e.api_id)),(0,i.jsx)("div",{className:"jsx-8f58f711af46b2cb line"})]}),(0,i.jsx)(s.default,{id:"8f58f711af46b2cb",children:".calendars-section.jsx-8f58f711af46b2cb{border-top:1px dashed var(--divider-color);margin:2rem 0 1.5rem;padding:1.5rem 0 1rem}.calendars-section.jsx-8f58f711af46b2cb:not(:last-child){border-bottom:1px dashed var(--divider-color)}.calendars-section.jsx-8f58f711af46b2cb .calendar-list.jsx-8f58f711af46b2cb{margin-left:1rem;position:relative}.calendars-section.jsx-8f58f711af46b2cb .line.jsx-8f58f711af46b2cb{border-left:.125rem dashed var(--opacity-light);position:absolute;top:0;bottom:0;left:-.5625rem;-webkit-mask-image:linear-gradient(#000 0%,#000 calc(100% - 120px),transparent 100%);mask-image:linear-gradient(#000 0%,#000 calc(100% - 120px),transparent 100%)}"})]})},H=e=>{let{calendar:a}=e;return(0,i.jsx)(r.LuxLink,{href:F.LumaRoutes.calendar.publicPath({calendar:a}),children:(0,i.jsxs)("div",{className:"jsx-54cb1efbb593b3b4 calendar-item flex-center animated",children:[(0,i.jsx)(W.CalendarAvatar,{calendar:a,rem:3.25}),(0,i.jsxs)("div",{className:"jsx-54cb1efbb593b3b4 info",children:[(0,i.jsx)("div",{className:"jsx-54cb1efbb593b3b4 title text-primary fw-medium",children:a.name}),a.description_short&&(0,i.jsx)("div",{className:"jsx-54cb1efbb593b3b4 desc fs-sm text-tertiary-alpha",children:a.description_short})]}),(0,i.jsx)(s.default,{id:"54cb1efbb593b3b4",children:".calendar-item.jsx-54cb1efbb593b3b4{border-radius:var(--border-radius);gap:.875rem;padding:.625rem .75rem}@media (hover:hover){.calendar-item.jsx-54cb1efbb593b3b4:hover{background-color:var(--hover-bg-color)}}.desc.jsx-54cb1efbb593b3b4{line-clamp:2;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-top:.125rem;display:-webkit-box;overflow:hidden}"})]})})};var O=e.i(754662);let V=e=>{var s;let{className:a,place:t}=e,n=(0,d.useBoolean)(),{data:l}=(0,T.useAPI)({path:"/discover/place/get-points-for-mini-map",args:{discover_place_api_id:t.api_id},pause:!n.value});return(0,i.jsx)(O.MiniMap,{entity:t,items:null!=(s=null==l?void 0:l.points)?s:null,href:"/".concat(t.slug,"/map"),width:260,height:260,className:a,tinted:!0,setOnScreen:n.setValue})};var K=e.i(880519),G=e.i(567019);e.i(617963);var J=e.i(56989);let Z=e=>{let{icon:t,title:n,meta:l,desc:r,cta:c,desktopBackgroundUrl:o,mobileBackgroundUrl:d,wide:m,right:p,desktopFallbackUrl:u,mobileFallbackUrl:g}=e;return(0,i.jsxs)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" discover-hero flex-column",children:[(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" fader"}),(0,i.jsx)(X,{desktopFallbackUrl:null!=u?u:null,mobileFallbackUrl:null!=g?g:null,desktopBackgroundUrl:o,mobileBackgroundUrl:d}),(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" zm-container",children:(0,i.jsxs)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" flex-center",children:[(0,i.jsxs)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" "+((0,a.default)("content",{wide:m})||""),children:[(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" icon",children:t}),n,l,r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])}),(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" desc",children:r})]}),c&&(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" cta",children:c})]}),p&&(0,i.jsx)("div",{className:s.default.dynamic([["e3298244276f8c37",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small]]])+" right flex-1 flex-center-center",children:p})]})}),(0,i.jsx)(s.default,{id:"e3298244276f8c37",dynamic:[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small],children:".discover-hero.__jsx-style-dynamic-selector{justify-content:center;height:50vw;min-height:700px;max-height:800px;margin-top:-5rem;position:relative}.discover-hero.__jsx-style-dynamic-selector .fader.__jsx-style-dynamic-selector{z-index:1;opacity:.3;pointer-events:none;background:linear-gradient(#000 0%,rgba(0,0,0,.99) 7%,rgba(0,0,0,.92) 20%,rgba(0,0,0,.85) 27%,rgba(0,0,0,.67) 40%,rgba(0,0,0,.33) 60%,rgba(0,0,0,.15) 74%,rgba(0,0,0,.08) 80%,rgba(0,0,0,.01) 94%,transparent 100%);width:100%;height:8rem;position:absolute;top:0;left:0}.discover-hero.__jsx-style-dynamic-selector .zm-container.__jsx-style-dynamic-selector{z-index:1;width:100%;padding:6rem 1rem 3rem}.discover-hero.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{color:#fff;width:50%}.discover-hero.__jsx-style-dynamic-selector .content.wide.__jsx-style-dynamic-selector{width:60%}.discover-hero.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-bottom:1.5rem}.discover-hero.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{border:0;border-top:1px solid var(--white-opacity-16);margin:1.5rem 0}.discover-hero.__jsx-style-dynamic-selector .cta.__jsx-style-dynamic-selector{margin-top:2rem}@media (min-width:2000px){.discover-hero.__jsx-style-dynamic-selector{width:1600px;margin:auto}.discover-hero.__jsx-style-dynamic-selector .fader.__jsx-style-dynamic-selector{display:none}}@media (max-width:".concat(x.ResponsiveBreakpoint.large,"){.discover-hero.__jsx-style-dynamic-selector{min-height:650px}}@media (max-width:").concat(x.ResponsiveBreakpoint.medium,"){.discover-hero.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{width:60%}.discover-hero.__jsx-style-dynamic-selector .content.wide.__jsx-style-dynamic-selector{width:70%}.discover-hero.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{display:none}}@media (max-width:").concat(x.ResponsiveBreakpoint.small,"){.discover-hero.__jsx-style-dynamic-selector{justify-content:flex-end;height:85vh}.discover-hero.__jsx-style-dynamic-selector .zm-container.__jsx-style-dynamic-selector{padding:5rem 1rem 2rem}.discover-hero.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector,.discover-hero.__jsx-style-dynamic-selector .content.wide.__jsx-style-dynamic-selector{width:100%}.discover-hero.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-bottom:1rem}.discover-hero.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{margin:1rem 0}.discover-hero.__jsx-style-dynamic-selector .cta.__jsx-style-dynamic-selector{margin-top:1.5rem}}")})]})},X=e=>{let{desktopFallbackUrl:n,mobileFallbackUrl:l,desktopBackgroundUrl:r,mobileBackgroundUrl:c}=e,o=(0,d.useBoolean)(!n||!l),{width:m}=(0,u.useWindowSize)(),p=m&&m<=x.ResponsiveBreakpointNumbers.tiny;(0,t.useEffect)(()=>{let e=new Image;e.src=p?r:c,e.onload=o.setTrue,e.complete&&o.setTrue()},[r,c,p]);let g=(0,J.getImageUrl)({url:r,width:1080}),v=(0,J.getImageUrl)({url:c,width:585});return(0,i.jsxs)(i.Fragment,{children:[n&&l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:n,className:s.default.dynamic([["b42645b24c7a3ca2",[g,x.ResponsiveBreakpoint.small,v,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.small]]])+" image-fallback desktop-fallback"}),(0,i.jsx)("img",{src:l,className:s.default.dynamic([["b42645b24c7a3ca2",[g,x.ResponsiveBreakpoint.small,v,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.small]]])+" image-fallback mobile-fallback"})]}),(0,i.jsx)("div",{className:s.default.dynamic([["b42645b24c7a3ca2",[g,x.ResponsiveBreakpoint.small,v,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.small]]])+" "+((0,a.default)("background-image",{loaded:o.value})||"")}),(0,i.jsx)(s.default,{id:"b42645b24c7a3ca2",dynamic:[g,x.ResponsiveBreakpoint.small,v,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.small],children:".background-image.__jsx-style-dynamic-selector{background-color:var(--opacity-light);z-index:0;opacity:0;transition-duration:var(--fast-transition-duration);transition-timing-function:var(--transition-fn);background-image:url(".concat(g,");background-position:50%;background-size:cover;transition-property:opacity}.background-image.loaded.__jsx-style-dynamic-selector{opacity:1}@media (max-width:").concat(x.ResponsiveBreakpoint.small,"){.background-image.__jsx-style-dynamic-selector{background-image:url(").concat(v,");background-position:top}}.background-image.__jsx-style-dynamic-selector,.image-fallback.__jsx-style-dynamic-selector{position:absolute;top:0;bottom:0;left:0;right:0}@media (min-width:2000px){.background-image.__jsx-style-dynamic-selector,.image-fallback.__jsx-style-dynamic-selector{border-radius:var(--large-border-radius)}}.desktop-fallback.__jsx-style-dynamic-selector{display:block}@media (max-width:").concat(x.ResponsiveBreakpoint.small,"){.desktop-fallback.__jsx-style-dynamic-selector{display:none}}.mobile-fallback.__jsx-style-dynamic-selector{display:none}@media (max-width:").concat(x.ResponsiveBreakpoint.small,"){.mobile-fallback.__jsx-style-dynamic-selector{display:block}}.image-fallback.__jsx-style-dynamic-selector{object-fit:cover;width:100%;height:100%}")})]})},Y=e=>{let{url:a,alt:t}=e;return(0,i.jsxs)("div",{className:s.default.dynamic([["548f623fa0dcad4f",[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" discover-page-glass-icon",children:[(0,i.jsx)("img",{src:a,alt:t,className:s.default.dynamic([["548f623fa0dcad4f",[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])}),(0,i.jsx)(s.default,{id:"548f623fa0dcad4f",dynamic:[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny],children:".discover-page-glass-icon.__jsx-style-dynamic-selector{background-color:var(--white-opacity-8);border:1px solid var(--white-opacity-8);width:3.5rem;height:3.5rem;-webkit-backdrop-filter:var(--backdrop-blur);backdrop-filter:var(--backdrop-blur);border-radius:50%}.discover-page-glass-icon.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{object-fit:contain;width:100%;height:100%}@media (max-width:".concat(x.ResponsiveBreakpoint.small,"){.discover-page-glass-icon.__jsx-style-dynamic-selector{width:3rem;height:3rem}}@media (max-width:").concat(x.ResponsiveBreakpoint.tiny,"){.discover-page-glass-icon.__jsx-style-dynamic-selector{width:2.75rem;height:2.75rem}}")})]})},Q=()=>(0,i.jsxs)("div",{className:s.default.dynamic([["44f8bdb3441183c",[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" shimmer-wrapper",children:[(0,i.jsx)("div",{className:s.default.dynamic([["44f8bdb3441183c",[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" shimmer"}),(0,i.jsx)(s.default,{id:"44f8bdb3441183c",dynamic:[x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny],children:".shimmer.__jsx-style-dynamic-selector{border-radius:50%;width:3.5rem;height:3.5rem;margin-bottom:0}@media (max-width:".concat(x.ResponsiveBreakpoint.small,"){.shimmer.__jsx-style-dynamic-selector{width:3rem;height:3rem}}@media (max-width:").concat(x.ResponsiveBreakpoint.tiny,"){.shimmer.__jsx-style-dynamic-selector{width:2.75rem;height:2.75rem}}")})]}),$=e=>{let{title:t,subtitle:n,subtitlePosition:l="top"}=e;return(0,i.jsxs)("div",{className:s.default.dynamic([["2c5789ad035bea8a",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" "+((0,a.default)("discover-page-title",{"subtitle-bottom":n&&"bottom"===l})||""),children:[n&&"top"===l&&(0,i.jsx)("h2",{className:s.default.dynamic([["2c5789ad035bea8a",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" subtitle",children:n}),(0,i.jsx)("h1",{className:s.default.dynamic([["2c5789ad035bea8a",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" "+((0,a.default)("title",{long:"string"==typeof t&&t.length>20})||""),children:t}),n&&"bottom"===l&&(0,i.jsx)("h2",{className:s.default.dynamic([["2c5789ad035bea8a",[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny]]])+" subtitle",children:n}),(0,i.jsx)(s.default,{id:"2c5789ad035bea8a",dynamic:[x.ResponsiveBreakpoint.large,x.ResponsiveBreakpoint.medium,x.ResponsiveBreakpoint.small,x.ResponsiveBreakpoint.tiny],children:".discover-page-title.__jsx-style-dynamic-selector{--subtitle-text-size:1.75rem;--title-text-size:3.25rem;--long-title-text-size:2.75rem;--title-margin-bottom:.75rem;margin-bottom:var(--title-margin-bottom)}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector{--subtitle-text-size:2.25rem;--title-text-size:3rem;--long-title-text-size:2.5rem;--title-margin-bottom:1rem}.discover-page-title.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector,.discover-page-title.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector{color:var(--primary-color)}.discover-page-title.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector{opacity:.5;font-size:var(--subtitle-text-size);font-weight:var(--font-weight-regular);margin:0}.discover-page-title.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector:first-child{margin-bottom:.125rem}.discover-page-title.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector:last-child{margin-top:.25rem}.discover-page-title.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{font-size:var(--title-text-size);font-weight:var(--font-weight-medium);margin:0}.discover-page-title.__jsx-style-dynamic-selector .title.long.__jsx-style-dynamic-selector{font-size:var(--long-title-text-size)}@media (max-width:".concat(x.ResponsiveBreakpoint.large,"){.discover-page-title.__jsx-style-dynamic-selector{--title-text-size:2.75rem;--long-title-text-size:2.375rem}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector{--subtitle-text-size:2rem;--title-text-size:2.5rem;--long-title-text-size:2.125rem}}@media (max-width:").concat(x.ResponsiveBreakpoint.medium,"){.discover-page-title.__jsx-style-dynamic-selector{--subtitle-text-size:1.5rem;--title-text-size:2.5rem;--long-title-text-size:2.25rem;--title-margin-bottom:.625rem}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector{--subtitle-text-size:1.75rem;--title-text-size:2.25rem;--long-title-text-size:2rem;--title-margin-bottom:.875rem}}@media (max-width:").concat(x.ResponsiveBreakpoint.small,"){.discover-page-title.__jsx-style-dynamic-selector{--subtitle-text-size:1.25rem;--title-text-size:2.25rem;--long-title-text-size:1.875rem;--title-margin-bottom:.5rem}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector{--subtitle-text-size:1.625rem;--title-text-size:2rem;--long-title-text-size:1.75rem}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector{margin-top:.125rem}}@media (max-width:").concat(x.ResponsiveBreakpoint.tiny,"){.discover-page-title.__jsx-style-dynamic-selector{--title-text-size:2rem;--long-title-text-size:1.75rem}.discover-page-title.subtitle-bottom.__jsx-style-dynamic-selector{--subtitle-text-size:1.5rem;--title-text-size:1.875rem;--long-title-text-size:1.625rem}}")})]})},ee=()=>(0,i.jsxs)("div",{className:"jsx-e19e0f95fbc8ce42",children:[(0,i.jsx)($,{subtitle:(0,i.jsx)(c.TextShimmer,{width:"8rem",textSizeVariable:"--subtitle-text-size"}),title:(0,i.jsx)(c.TextShimmer,{width:"70%",textSizeVariable:"--title-text-size"})}),(0,i.jsx)(s.default,{id:"e19e0f95fbc8ce42",children:"div.jsx-e19e0f95fbc8ce42 .discover-page-title .subtitle{opacity:1!important}"})]}),ei=e=>{let{icon:a,label:t}=e;return(0,i.jsxs)("div",{className:s.default.dynamic([["c64da19590f5c3f6",[x.ResponsiveBreakpoint.tiny]]])+" discover-hero-meta-row flex-center mb-3",children:[(0,i.jsx)("div",{className:s.default.dynamic([["c64da19590f5c3f6",[x.ResponsiveBreakpoint.tiny]]])+" icon mr-2",children:a}),(0,i.jsx)("div",{className:s.default.dynamic([["c64da19590f5c3f6",[x.ResponsiveBreakpoint.tiny]]])+" label",children:t}),(0,i.jsx)(s.default,{id:"c64da19590f5c3f6",dynamic:[x.ResponsiveBreakpoint.tiny],children:".discover-hero-meta-row.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{opacity:.375}.discover-hero-meta-row.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector{opacity:.5}@media (max-width:".concat(x.ResponsiveBreakpoint.tiny,"){.discover-hero-meta-row.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.discover-hero-meta-row.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector svg{width:var(--font-size-sm);height:var(--font-size-sm)}}")})]})},es=()=>(0,i.jsxs)("div",{className:s.default.dynamic([["da84851d3844c29a",[x.ResponsiveBreakpoint.tiny]]])+" discover-hero-meta-row flex-center mb-3",children:[(0,i.jsx)(c.Shimmer,{shape:"circle",width:"1rem",height:"1rem"}),(0,i.jsx)(c.TextShimmer,{width:"6rem",textSizeVariable:"--text-size",className:"ml-2"}),(0,i.jsx)(s.default,{id:"da84851d3844c29a",dynamic:[x.ResponsiveBreakpoint.tiny],children:".discover-hero-meta-row.__jsx-style-dynamic-selector{--text-size:var(--font-size-md)}@media (max-width:".concat(x.ResponsiveBreakpoint.tiny,"){.discover-hero-meta-row.__jsx-style-dynamic-selector{--text-size:var(--font-size-sm)}}")})]}),ea=()=>(0,i.jsxs)("div",{className:"jsx-69ec9129cf2734a1",children:[(0,i.jsx)(Z,{icon:(0,i.jsx)(Q,{}),title:(0,i.jsx)(ee,{}),desc:(0,i.jsxs)("div",{className:"jsx-69ec9129cf2734a1",children:[(0,i.jsx)(c.TextShimmer,{width:"90%"}),(0,i.jsx)(c.TextShimmer,{width:"40%"})]}),meta:(0,i.jsx)(es,{}),cta:(0,i.jsx)(c.Shimmer,{className:"button-shimmer",width:"10rem",height:"var(--input-height)"}),desktopBackgroundUrl:"",mobileBackgroundUrl:""}),(0,i.jsx)(s.default,{id:"69ec9129cf2734a1",children:"div.jsx-69ec9129cf2734a1 hr{border-color:var(--opacity-light)!important}div.jsx-69ec9129cf2734a1 .button-shimmer .shimmer{border-radius:100px!important}"})]});var et=e.i(166685),en=e.i(220610);let el=e=>{let{icon:n,title:l,cta:r,shownBreakpoint:c="small",forceHide:o}=e,m=t.default.useRef(null),{width:p}=(0,u.useWindowSize)(),g=(0,en.default)(),v=(0,d.useBoolean)(!1);return(0,t.useEffect)(()=>{var e;v.setValue(0>((null==(e=m.current)?void 0:e.getBoundingClientRect().top)||100))},[g,p,v,m]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" "+((0,a.default)("sticky-bar animated",c,{show:v.value&&!o})||""),children:(0,i.jsxs)("div",{className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" zm-container px-3 flex-center gap-2",children:[(0,i.jsx)("div",{className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" icon",children:n}),(0,i.jsx)("div",{className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" title flex-1 fw-medium ml-1",children:l}),(0,i.jsx)("div",{className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" cta",children:r})]})}),(0,i.jsx)("div",{ref:m,className:s.default.dynamic([["6c729aa8b8d8b1dd",[x.ResponsiveBreakpoint.small]]])+" sticky-bar-tracker"}),(0,i.jsx)(s.default,{id:"6c729aa8b8d8b1dd",dynamic:[x.ResponsiveBreakpoint.small],children:".sticky-bar.__jsx-style-dynamic-selector{z-index:100;background-color:var(--bg-opacity-64);-webkit-backdrop-filter:var(--backdrop-blur);backdrop-filter:var(--backdrop-blur);border-bottom:1px solid var(--divider-color);opacity:0;pointer-events:none;padding:.75rem 0;position:fixed;top:0;left:0;right:0;transform:translateY(-100%)}.sticky-bar.small.__jsx-style-dynamic-selector{display:none}.sticky-bar.show.__jsx-style-dynamic-selector{opacity:1;pointer-events:auto;transform:none}@media (max-width:".concat(x.ResponsiveBreakpoint.small,"){.sticky-bar.small.__jsx-style-dynamic-selector{display:inherit}}")})]})};var er=e.i(538865),ec=e.i(203828),eo=e.i(476979),ed=e.i(427133),em=e.i(992354),ep=e.i(883720),eu=e.i(988124),ex=e.i(827283),eg=e.i(805516),ev=e.i(659592);let eb=e=>{let{discover_place_api_id:s,buttonProps:a}=e,t=(0,m.useModalState)(),n=(0,ec.useRouter)(),{user:r}=(0,B.useUserContext)(),c=(0,y.useT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.LuxButton,{label:c({defaultMessage:"Submit Event",id:"NraD22",description:"CTA for submitting an event to be featured."}),color:"light",icon:(0,i.jsx)(ex.Plus16Icon,{}),...a,...r?{onClick:t.onShow}:{href:"/signin?".concat(eo.default.stringify({next:n.asPath}))}}),(0,i.jsx)(eh,{...t,discover_place_api_id:s})]})},eh=e=>{let{show:a,onHide:t,discover_place_api_id:n}=e,l=(0,y.useT)();return(0,i.jsx)(em.LuxModalContainer,{onHide:t,variant:"lux-alert",children:a&&(0,i.jsxs)("div",{className:"jsx-d7011e0e6f98814",children:[(0,i.jsx)(ed.LuxAlertTop,{icon:(0,i.jsx)(eg.default,{}),title:l({defaultMessage:"Submit Event",id:"1udtum",description:"Modal title for submitting an event to be featured."}),desc:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"jsx-d7011e0e6f98814 mb-2",children:l({defaultMessage:"Submit your event for a chance to be featured on this page and the weekly newsletter.",id:"bwvcS2",description:"Description for modal for submitting an event to be featured."})}),(0,i.jsx)("div",{className:"jsx-d7011e0e6f98814 text-warning",children:l({defaultMessage:"Only a fraction of eligible events are featured. Follow <link>our guidelines</link> to improve your chance.",id:"POseU3",description:"Description for modal for submitting an event to be featured."},{link:e=>(0,i.jsx)(r.LuxLink,{className:"guidelines-link fw-medium",href:"https://help.luma.com/p/featuring-your-event-on-luma",openInNewTab:!0,children:e},"link")})})]})}),(0,i.jsx)(er.Formik,{initialValues:{event_api_id:null},onSubmit:async e=>{let{event_api_id:i}=e;i&&await (0,eu.callWithToast)(async()=>{await L.APIClient.post("/discover/submit-event",{discover_place_api_id:n,event_api_id:i}),t()},{error:l({defaultMessage:"There was an error submitting your event.",id:"7hxePN"}),success:l({defaultMessage:"Thank you for submitting your event!",id:"KWww3p"})})},children:e=>{let{setFieldValue:s,values:a}=e;return(0,i.jsxs)(er.Form,{className:"mt-25",children:[(0,i.jsx)(ev.LumaEventInput,{autoFocus:!0,submitting_to:{type:"discover_place",discover_place_api_id:n},onEvent:e=>s("event_api_id",null==e?void 0:e.api_id)}),(0,i.jsx)(ep.LuxSubmitButton,{disabled:!a.event_api_id,label:l(j.CT.Submit),fullWidth:!0,className:"mt-3"})]})}}),(0,i.jsx)(s.default,{id:"d7011e0e6f98814",children:".guidelines-link{color:var(--warning-active-color);border-bottom:1px solid var(--warning-pale-bg-color)}@media (hover:hover){.guidelines-link:hover{color:var(--warning-active-color);border-bottom:1px solid var(--warning-active-color)}}"})]})})};var ef=e.i(778454),ey=e.i(144367);let ej=(0,D.safeDynamic)({loader:()=>e.A(739035).then(e=>e.DiscoverMap),fallback:()=>null}),e_=e=>{var c,m,b,j;let{page:M,pathComponents:P,events:D,calendars:A}=e,{place:U}=M,{user:F}=(0,B.useUserContext)(),W=(0,y.useT)(),H=(0,p.useNow)(),{width:O}=(0,u.useWindowSize)(),J=(0,d.useBoolean)(!1),X=(0,h.useLocale)(),Q=U.api_id,{data:ee,refresh:es}=(0,T.useAPI)({path:"/discover/get-place-v2",args:{discover_place_api_id:Q},swrConfig:{fallbackData:M}}),{data:ea}=(0,T.useAPI)({path:"/discover/get-calendars",args:{discover_place_api_id:Q}}),{entries:en,isLoading:er,loadMoreDiv:ec}=(0,E.usePaginated)({path:"/discover/get-paginated-events",args:{discover_place_api_id:Q},limit:25}),eo=0===en.length&&er,ed=(0,t.useMemo)(()=>eo?null!=D?D:[]:en,[D,en,eo]),em=null!=(m=null==ea?void 0:ea.calendars)?m:A,ep=(0,S.useEventPanel)({events:ed||[]}),{first:eu,second:ex}=(0,t.useMemo)(()=>(0,ey.eventListSections)({events:ed,calendars:em,timezone:U.timezone}),[ed,em,U.timezone]),eg=ee.is_subscriber||J.value,ev=(0,t.useCallback)(async e=>{let{email:i,previous_path:s}=e;await L.APIClient.post("/discover/place/subscribe",{discover_place_api_id:U.api_id,referring_path:s,email:i})},[U.api_id]),eh=(0,t.useCallback)(async()=>{await L.APIClient.post("/discover/place/unsubscribe",{discover_place_api_id:U.api_id})},[U.api_id]);if(P.length>=1&&"map"===P[0])return(0,i.jsx)(ej,{place:U});let e_=(0,K.discoverPlaceSocialDescription)({place:U,t:W});return(0,i.jsxs)(ew,{children:[(0,i.jsx)(K.DiscoverPlaceSocialHead,{place:U,tab:null}),(0,i.jsx)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" tint-root dark",children:(0,i.jsx)(Z,{icon:(0,i.jsx)(Y,{url:U.icon_url||""}),title:(0,i.jsx)($,{subtitle:W({defaultMessage:"Whatâs Happening in",id:"wNJxsb",description:"Discover page. First line of the page hero. Second line is the city name."}),title:U.name}),meta:(0,i.jsx)(n.AfterMounted,{children:(0,i.jsx)(ei,{icon:(0,i.jsx)(g.Clock16Icon,{}),label:H.setZone(U.timezone).toLocaleString({timeStyle:"short"})+" "+(0,I.getTimezoneAbbr)({timezone:U.timezone,locale:X})})}),desc:U.description||e_,desktopBackgroundUrl:U.hero_image_desktop_url||"",mobileBackgroundUrl:U.hero_image_mobile_url||"",cta:(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" flex-center spread gap-4",children:[(0,i.jsx)(ef.SubscribeCTA,{onSubscribe:ev,onUnsubscribe:eh,subscribed:ee.is_subscriber,subscribedWithEmail:J,refresh:es,forceDark:!0}),(0,i.jsx)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" mobile-only theme-root dark mobile-map",children:(0,i.jsx)(l.LuxButton,{href:"/".concat(U.slug,"/map"),color:"light",rounded:!0,label:"Map",iconPlacement:"icon-only",icon:(0,i.jsx)(v.default,{})})})]})})}),(0,i.jsx)(el,{icon:(0,i.jsx)(G.DiscoveryIcon,{url:U.icon_url||"",tintColor:U.tint_color,rem:1.5}),title:U.name,cta:(0,i.jsx)(ef.SubscribeButton,{onSubscribe:ev,subscribed:ee.is_subscriber,subscribedWithEmail:J,refresh:es}),forceHide:eg}),(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" main-content-wrapper zm-container",children:[(0,i.jsx)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" right-panel",children:(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" content",children:[(0,i.jsx)(et.InfoCard,{icon:(0,i.jsx)(et.DiscoverPageColorIcon,{tintColor:null!=(b=U.tint_color)?b:"#000",url:U.icon_url||""}),title:U.name,desc:e_,cta:(0,i.jsx)(ef.SubscribeCTA,{onSubscribe:ev,onUnsubscribe:eh,subscribed:ee.is_subscriber,subscribedWithEmail:J,refresh:es,preferFullWidth:!0})}),(0,i.jsx)(o.TintWrapper,{tintColor:U.tint_color,renderMetaColor:!1,mode:"calendar-page",children:(0,i.jsx)(V,{className:"mt-3",place:U})}),!!(F&&(F.is_admin||(null==(c=F.support_roles)?void 0:c.includes(k.UserSupportRole.Support))))&&(0,i.jsx)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" flex-center-center mt-2",children:(0,i.jsx)(r.LuxLink,{href:"/__admin/discover/".concat(ee.place.slug),className:"fs-sm text-tertiary-alpha",openInNewTab:!0,children:"Admin Dashboard"})})]})}),(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" "+((0,a.default)("events flex-1",{subscribed:eg})||""),children:[(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" page-section-title flex-center spread",children:[(0,i.jsx)("h2",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]]),children:W({defaultMessage:"Events",id:"pGxdSk",description:"Title for section with a list of events."})}),(0,i.jsxs)("div",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" flex-center gap-1",children:[(0,i.jsx)(eb,{discover_place_api_id:ee.place.api_id,buttonProps:{size:"small"}}),(0,i.jsx)(w.AddToWebCalendarButton,{request:{entity:_.IcsApi.Entity.Discover,id:Q}}),(0,i.jsx)(ek,{discover_place_api_id:Q})]})]}),(0,i.jsx)(N.EventTimeline,{events:eu.map(e=>({...e,start_at:e.event.start_at})),fetching:er,timezone:U.timezone,singleColumnBreakpoint:"always",singleColumnStickyOffsetRem:eg||!O||O>x.ResponsiveBreakpointNumbers.small?1:4.5,stickyHeader:"always",renderer:e=>(0,i.jsx)(R.EventCard,{selectedTimezone:U.timezone,card:e,mode:"public",onSelect:()=>ep.selectEvent(e)},e.event.api_id)}),em&&em.length>0&&(0,i.jsx)(q,{title:(0,i.jsx)("h4",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" fw-medium mb-0",children:(0,i.jsx)(f.T,{defaultMessage:"Popular Calendars in {city}",id:"KIUKlp",values:{city:(0,i.jsx)("span",{className:s.default.dynamic([["e5ce87042077abf2",[x.ResponsiveBreakpoint.small]]])+" city",children:U.name},"city")}})}),calendars:em}),ex.length>0&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.EventTimeline,{events:null!=(j=ex.map(e=>({...e,start_at:e.event.start_at})))?j:[],timezone:U.timezone,fetching:er,singleColumnBreakpoint:"always",singleColumnStickyOffsetRem:eg||!O||O>x.ResponsiveBreakpointNumbers.small?1:4.5,stickyHeader:"always",renderer:e=>(0,i.jsx)(R.EventCard,{selectedTimezone:U.timezone,card:e,mode:"public",onSelect:()=>ep.selectEvent(e)},e.event.api_id)})}),ec]})]}),(0,i.jsx)(C.Footer,{}),(0,i.jsx)(z.LumaEventPanel,{...ep,opened_from:{source:"place",discover_place_api_id:U.api_id}}),(0,i.jsx)(s.default,{id:"e5ce87042077abf2",dynamic:[x.ResponsiveBreakpoint.small],children:"@media (max-width:".concat(x.ResponsiveBreakpoint.small,"){.events.__jsx-style-dynamic-selector:not(.subscribed){--timeline-sticky-header-offset:4.5rem}}.mobile-map.__jsx-style-dynamic-selector{background:0 0}")})]})},ek=e=>{let{discover_place_api_id:s}=e,a=(0,m.useModalState)(),t=(0,y.useT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.LuxButton,{label:t(j.CT.Search),icon:(0,i.jsx)(b.Search16Icon,{}),size:"small",color:"light",iconPlacement:"icon-only",onClick:a.onShow}),(0,i.jsx)(P.DiscoverPlaceEventSearch,{discoverPlaceApiId:s,...a})]})},eB=()=>(0,i.jsxs)(ew,{loading:!0,children:[(0,i.jsx)(ea,{}),(0,i.jsxs)("div",{className:"main-content-wrapper zm-container",children:[(0,i.jsx)("div",{className:"right-panel",children:(0,i.jsx)("div",{className:"content",children:(0,i.jsx)(et.InfoCardLoading,{})})}),(0,i.jsxs)("div",{className:"events flex-1",children:[(0,i.jsx)("div",{className:"page-section-title",children:(0,i.jsx)(c.TextShimmer,{width:"10rem",textSizeVariable:"--section-title-font-size"})}),(0,i.jsx)(N.EventTimeline,{events:[],fetching:!0,singleColumnBreakpoint:"always",renderer:()=>(0,i.jsx)(i.Fragment,{})})]})]})]}),ew=e=>{let{loading:s,children:a,immersiveTopSection:t=!0}=e,{width:n}=(0,u.useWindowSize)();return(0,i.jsx)(M.PageWrapper,{tab:null,topNavSticky:!1,hideGradient:t,forceDarkNav:!s&&2e3>(n||0)&&t,wide:!0,children:(0,i.jsxs)("div",{className:"discover-page",children:[a,(0,i.jsx)(A.BaseDiscoverPageStyles,{})]})})}}]);