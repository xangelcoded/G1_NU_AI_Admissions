(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,171548,70355,451046,544712,157626,38891,222099,639298,e=>{"use strict";e.s(["EventPageFetcher",()=>e_,"EventPageProvider",()=>ew,"getInitialTicketTypeToSelection",()=>ek,"useEventPageContext",()=>eN],171548);var t,a=e.i(391398);e.i(89695);var i=e.i(103800),s=e.i(203828),n=e.i(191788),r=e.i(876412),o=e.i(956015),l=e.i(672183),d=e.i(729506),c=e.i(988124),u=e.i(602533),m=e.i(685479),p=e.i(86316),f=e.i(145897),x=e.i(224631),h=e.i(136266),v=e.i(472572),g=e.i(443415),y=e.i(101971),b=e.i(692303),j=e.i(829900),_=e.i(231436),w=e.i(581254),T=e.i(556775),k=e.i(204177),N=e.i(378393),C=e.i(348688),S=e.i(343318),E=e.i(977470);e.s(["GetTokenButton",()=>L,"getCryptoRequirement",()=>q],70355);var A=e.i(424017),M=e.i(106946),P=e.i(82602),R=e.i(935010);let L=e=>{let{req:t,label:i,onCryptoInfo:s,disabled:n,fullWidth:r,size:o="medium",color:l="primary",icon:d}=e,u=(0,p.useT)(),{user:m}=(0,j.useUserContext)();return m&&m.eth_address?(0,a.jsx)(A.LuxButton,{label:i,fullWidth:r,disabled:n,size:o,color:l,icon:d,onClick:async()=>{await (0,c.callWithToast)(async()=>{let{tokens:e}=await C.APIClient.post("/ethereum/get-tokens",{address:m.eth_address,filters:t}),[a]=e;if(a)s({token:a,owner_address:m.eth_address,auth_method:"user"});else throw Error("Could not find token")},{error:u({defaultMessage:"We could not find a valid token to register with.",id:"lqt7tu",description:"Token ownership verification button. Error toast message."}),success:u({defaultMessage:"Token ownership verified successfully!",id:"VlXTW5",description:"Token ownership verification button. Success toast message."})})}}):(0,a.jsx)(I,{fullWidth:r,filters:t,label:i,disabled:n,size:o,color:l,icon:d,onTokenSigned:e=>{let{token:t,message:a,signature:i,owner_address:n}=e;s({token:t,auth_method:"signature",message:a,owner_address:n,signature:i})}})},I=e=>{let{onTokenSigned:t,filters:i,label:s,disabled:n,fullWidth:r,size:o="medium",color:l="primary",icon:d}=e,c=(0,p.useT)(),u=(0,M.useModalState)();return(0,a.jsx)(R.EthereumSignMessageButton,{fullWidth:r,disabled:n,size:o,label:s,color:l,icon:d,onSignature:async e=>{let{address:a,signature:s,message:n}=e,r=null;try{let{tokens:e}=await C.APIClient.post("/ethereum/get-tokens",{address:a,filters:i});[r]=e}catch(e){(0,P.toastError)(c({defaultMessage:"There was an error fetching your tokens. Please try again later.",id:"4j0KrW",description:"Token ownership verification button. Error toast message."}));return}if(!r){(0,P.toastError)(c({defaultMessage:"We could not find the necessary token in your wallet.",id:"7xCjRm",description:"Token ownership verification button. Error toast message."})),u.onHide();return}try{t({token:r,message:n,owner_address:a,signature:s}),u.onHide()}catch(e){(0,P.toastError)(c({defaultMessage:"There was an error validating your address.",id:"2IT+Z1",description:"Token ownership verification button. Error toast message."}));return}}})},q=e=>{let{ticket_types:t,ticketTypeToSelection:a}=e,i=null;for(let e of t){var s,n;(null!=(n=null==(s=a[e.api_id])?void 0:s.count)?n:0)>0&&(i=i?i.concat(e.ethereum_token_requirements):e.ethereum_token_requirements)}return(null==i?void 0:i.length)===0&&(i=null),i};e.s(["TicketTypeSelector",()=>eh,"isTicketTypeAvailable",()=>eb,"shouldHideTicketTypeSelector",()=>ev],639298);var B=e.i(359626),U=e.i(272043),F=e.i(620317),z=e.i(344731),O=e.i(497061),D=e.i(31197),W=e.i(78296),V=e.i(173766),K=e.i(426426),Y=e.i(689795),Q=e.i(851800),H=e.i(655794),G=e.i(361941),Z=e.i(57316),J=e.i(89685),X=e.i(657896);e.s(["TaxUtils",()=>t],451046),function(e){e.taxAmount=e=>{var t;let{amount:a,tax_config:i}=e;return i?Math.round((null!=(t=i.tax_percent)?t:0)/100*a):0},e.amountWithTax=t=>{let{amount:a,tax_config:i}=t;if(!i)return a;let s=e.taxAmount({amount:a,tax_config:i});return a+s}}(t||(t={})),e.s(["parseEventTokenFilters",()=>ee],544712);var $=e.i(268620);let ee=e=>{let t=[],a={};for(let i of e||[]){let e=null;"erc-721"===i.type&&(e=et({min_token_id:i.min_token_id,max_token_id:i.max_token_id})),"erc-20"===i.type&&(e=ea({min_token_balance:i.min_token_balance,decimals:i.contract.decimals}));let s=i.contract.contract_address;null==a[s]?(a[s]=t.length,t.push({name:"erc-721"===i.contract.type?i.contract.contract_name:i.contract.contract_name||i.contract.symbol||i.contract.contract_address,desc:e,type:i.contract.type,address:i.contract.contract_address})):e?t[a[s]].desc&&(t[a[s]].desc+=", ".concat(e)):t[a[s]].desc=null}return t},et=e=>{let{min_token_id:t,max_token_id:a}=e;return null==t&&null==a?null:t===a?"".concat(t):null==t?"".concat(a," or lower"):null==a?"".concat(t," or higher"):BigInt(t)>BigInt(a)?null:"".concat(t,"—").concat(a)},ea=e=>{let{min_token_balance:t,decimals:a}=e;return t&&"0"!==t?"> ".concat($.Ethereum.Erc20TokenAmount.toDisplay({decimals:a,amount:t})):null};e.s(["TicketTypeMembershipRestriction",()=>es],157626);var ei=e.i(196084);let es=e=>{let{ticketType:t,tiers:i,t:s,className:n}=e,r=t.membership_restriction;if(!r||"memberships"===r.type&&0===r.calendar_membership_tier_api_ids.length)return null;let o=s({defaultMessage:"Members-Only",id:"+s/Ycu",description:"Indicating that a ticket type is members-only."});if("memberships"===r.type){let e=r.calendar_membership_tier_api_ids.map(e=>{let t=i.find(t=>t.api_id===e);return t?t.name:null}).filter(e=>e);e.length>0&&(o=s({defaultMessage:"Members-Only: {tiers}",id:"nL4MKh",description:"Indicating that a ticket type is exclusive to certain membership tiers."},{tiers:e.join(s(H.CT.Comma_Symbol))}))}return(0,a.jsxs)("div",{className:"jsx-bcc44a4dc464b5c3 "+((0,U.default)(n,"flex-center member-restriction")||""),children:[(0,a.jsx)("div",{className:"jsx-bcc44a4dc464b5c3 icon",children:(0,a.jsx)(ei.default,{})}),(0,a.jsx)("div",{className:"jsx-bcc44a4dc464b5c3",children:o}),(0,a.jsx)(B.default,{id:"bcc44a4dc464b5c3",children:".member-restriction.jsx-bcc44a4dc464b5c3{gap:.375rem}.icon.jsx-bcc44a4dc464b5c3 svg{width:.6875rem;height:.6875rem}"})]})};e.s(["TicketTypeValidityPeriod",()=>ed,"ticketTypeSalesPeriod",()=>ec],38891);var en=e.i(512595),er=e.i(922323),eo=e.i(132571),el=e.i(257983);let ed=e=>{let t,{ticket:s,className:n,showAvailable:r,useEventTzIfVirtual:o,event:l}=e,d=(0,p.useT)(),c=null!=s.max_capacity&&s.num_guests>=s.max_capacity,u=(0,K.useNow)(),m=s.valid_start_at?i.DateTime.fromISO(s.valid_start_at):null,f=s.valid_end_at?i.DateTime.fromISO(s.valid_end_at):null,x=!!(m&&u<m),h=!!(f&&u>f),v=l.location_type===el.EventLocationType.Offline||o?l.timezone:(0,eo.getTimezoneIana)();if(c)t=d(H.CT.SoldOut);else if(m&&x)t=(0,a.jsx)(er.T,{defaultMessage:"Available starting {date}",id:"lVF4mj",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:(0,a.jsx)(en.Time,{at:m,month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:v,timeZoneName:"short-if-different"},"date")}});else if(f){let e=(0,a.jsx)(en.Time,{at:f,month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:v,timeZoneName:"short-if-different"},"date");t=h?(0,a.jsx)(er.T,{defaultMessage:"Sales ended {date}",id:"govC10",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:e}}):(0,a.jsx)(er.T,{defaultMessage:"Available until {date}",id:"DpgoF8",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:e}})}else{if(!r)return null;t=(0,a.jsx)(er.T,{defaultMessage:"Available",id:"nNBhVV",tagName:"span",description:"Ticket type validity indicator."})}return(0,a.jsxs)("div",{className:"jsx-262dc6f54ab6950f "+((0,U.default)("period flex-center",n,{available:!c&&!x&&!h,"available-in-future":!c&&x&&!h})||""),children:[(0,a.jsx)("div",{className:"jsx-262dc6f54ab6950f icon"}),t,(0,a.jsx)(B.default,{id:"262dc6f54ab6950f",children:".period.jsx-262dc6f54ab6950f{gap:.4375rem}.period.available.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{background-color:var(--success-content-color)}.period.available-in-future.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{border:1.5px solid var(--tertiary-color-alpha);background-color:transparent}.period.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{background-color:var(--quaternary-color-alpha);border-radius:100px;width:.5625rem;height:.5625rem;margin-left:.0625rem}"})]})},ec=e=>{let{ticketType:t,timezone:s,t:n}=e,r={month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:s||(0,eo.getTimezoneIana)(),timeZoneName:"short-if-different",allowRelative:!1};return!t.valid_start_at&&t.valid_end_at?n({defaultMessage:"Until {date}",id:"fKYlq5",description:"Ticket sales period. {date} will be formatted date."},{date:(0,a.jsx)(en.Time,{at:i.DateTime.fromISO(t.valid_end_at),...r},"date")}):t.valid_start_at&&!t.valid_end_at?n({defaultMessage:"Starting {date}",id:"N616s3",description:"Ticket sales period. {date} will be formatted date."},{date:(0,a.jsx)(en.Time,{at:i.DateTime.fromISO(t.valid_start_at),...r},"date")}):t.valid_start_at&&t.valid_end_at?n({defaultMessage:"{start} to {end}",id:"n+gIeq",description:"Ticket sales period. {start} and {end} will be formatted dates."},{start:(0,a.jsx)(en.Time,{at:i.DateTime.fromISO(t.valid_start_at),...r},"start"),end:(0,a.jsx)(en.Time,{at:i.DateTime.fromISO(t.valid_end_at),...r},"end")}):null};e.s(["eventPrice",()=>ef,"eventTicketTypesTimeAvailability",()=>em,"maxAllowedCountForTicketType",()=>eu,"singleTicketTypeTimeAvailability",()=>ep],222099);let eu=e=>{let{ticket_info:t,ticket_type:a,other_selected_count:i=0}=e;if(null==a.max_capacity)return(null==t?void 0:t.spots_remaining)?{count:t.spots_remaining-i,reason:"event-cap"}:{count:100,reason:"global-ticket-cap"};let s="ticket-cap",n=Math.max(a.max_capacity-a.num_guests,0),r=(null==t?void 0:t.spots_remaining)?t.spots_remaining-i:null;return null!=r&&r<n&&(s="event-cap",n=r),{reason:s,count:n}},em=e=>{let{ticket_types:t,now:a}=e;if(0===t.length)return"available";let s="available";for(let e of t){if(!e.valid_start_at&&!e.valid_end_at){if(!e.is_disabled)return"available";continue}if(e.valid_start_at&&a<i.DateTime.fromISO(e.valid_start_at)){e.is_disabled||(s="not-started");continue}if(e.valid_end_at&&a>i.DateTime.fromISO(e.valid_end_at)){s="ended";continue}if(!e.is_disabled)return"available"}return s},ep=e=>{let{ticket_type:t,now:a}=e;if(!t.valid_start_at&&!t.valid_end_at)return{state:"available",endTime:null};let s=t.valid_start_at?i.DateTime.fromISO(t.valid_start_at):null;if(s&&a<s)return{state:"not-started",time:s};let n=t.valid_end_at?i.DateTime.fromISO(t.valid_end_at):null;return n&&a>n?{state:"ended",time:n}:s&&a<s.plus({minutes:5})?{state:"just-started",time:s}:{state:"available",endTime:n}},ef=e=>{let{ticket_types:a,tax_config:i}=e;if(1===a.length){let[e]=a;if(e.cents){let a=t.taxAmount({amount:e.cents,tax_config:i});return{cents:e.cents+a,minCents:e.min_cents||0,flexible:e.is_flexible,currency:e.currency}}}return null},ex=e=>{var i,s;let{canRegisterForMultipleTickets:n,ticketType:r,ticketTypeToSelection:o,setCount:l,requiredCurrency:d,requiredTokenGate:c,addTax:u,disabled:m}=e,x=(0,Q.useLocale)(),{event:h,ticket_info:v,calendar:g,membership_tiers:y}=eN(),b=r.require_approval,j=ee(r.ethereum_token_requirements),_=(0,K.useNow)(),w=(0,p.useT)(),T=null!=(s=null==(i=o[r.api_id])?void 0:i.count)?s:0,k=T>0,N=n?(0,f.sum)(Object.entries(o).filter(e=>{let[t]=e;return t!==r.api_id}).map(e=>{var t;let[a,i]=e;return null!=(t=i.count)?t:0})):0,C=eu({ticket_type:r,other_selected_count:N,ticket_info:v}),S=(null==C?void 0:C.count)===0&&"ticket-cap"===C.reason,E=!!(r.valid_start_at||r.valid_end_at),A=eb({ticket_type:r,now:_}),M=X.EventTicketType.flexibleSymbol({ticketType:r}),P=!!(d&&r.currency&&r.currency!=d),R=!!(c&&!(0,J.isEmpty)(r.ethereum_token_requirements)&&(0,F.default)(c)!==(0,F.default)(r.ethereum_token_requirements)),L=!A||P||R||m||r.is_disabled||0===T&&(null==C?void 0:C.count)===0,I=[];return S?I.push((0,a.jsx)(V.Pill,{label:w(H.CT.SoldOut),size:"tiny"},"sold-out")):((null==C?void 0:C.reason)==="ticket-cap"&&C.count<=10&&I.push((0,a.jsx)(V.Pill,{label:w({defaultMessage:"{count, plural, other {# Left}}",id:"CyqNDp",description:"Number of tickets remaining for a ticket type."},{count:C.count}),size:"tiny"},"ticket-cap")),r.is_hidden&&I.push((0,a.jsx)(V.Pill,{label:w({defaultMessage:"Exclusive",id:"NzNpU5",description:"Indicating this ticket type is exclusive (hidden)."}),size:"tiny",color:Z.LumaColor.Cranberry},"hidden")),b&&I.push((0,a.jsx)(V.Pill,{label:w(H.CT.RequireApproval),size:"tiny",color:Z.LumaColor.Yellow},"approval-required")),j.length>0&&I.push((0,a.jsx)(V.Pill,{label:w(H.CT.TokenHolderExclusive),size:"tiny",color:Z.LumaColor.Purple},"token-holder-exclusive"))),(0,a.jsxs)("button",{type:"button",onClick:()=>{0===T&&l(1)},disabled:L,className:"jsx-427f393d8eebd120 "+((0,U.default)("btn ticket-type-btn",{selected:k,multi:n})||""),children:[(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 top flex-start",children:[!n&&(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 flex-center-center icon animated",children:(0,a.jsx)(Y.CheckCircleThickFilled16Icon,{})}),(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 flex-1",children:[(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 flex-start spread gap-2",children:[(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 "+((0,U.default)("flex-start min-width-0",{"flex-column":n,"spread flex-1 gap-1":!n})||""),children:[(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 name flex-center flex-wrap",children:[(0,a.jsx)("span",{className:"jsx-427f393d8eebd120 "+((1===I.length?"space-right":"")||""),children:r.name}),1===I.length&&I]}),(0,a.jsx)("div",{className:"jsx-427f393d8eebd120",children:(0,a.jsx)(z.AfterMounted,{children:r.cents?(0,a.jsx)(W.OptionalTooltip,{tooltipLabel:!S&&X.EventTicketType.flexiblePricingInfo({ticketType:r,t:w}),children:(0,a.jsxs)("span",{className:"jsx-427f393d8eebd120",children:[(0,a.jsx)("span",{className:"jsx-427f393d8eebd120",children:(0,G.formatPrice)({cents:t.amountWithTax({amount:r.cents,tax_config:u?g.tax_config:null}),currency:r.currency,locale:x})}),M&&(0,a.jsx)("span",{className:"jsx-427f393d8eebd120 text-tinted",children:M})]})}):w(H.CT.Free_Price)})})]}),n&&(0,a.jsx)(O.CountSelector,{count:T,setCount:l,max:null==C?void 0:C.count,maxTooltipLabel:w({defaultMessage:"This is all that’s remaining.",id:"VFhEXq",description:"Ticket type selector. Shown when the user has selected the maximum number of tickets."}),nestedInButton:!0,disabled:L,collapseAtMin:!0})]}),I.length>1&&(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 flex-center flex-wrap gap-1 mt-1 pills",children:I}),r.description&&(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 fs-xs text-tinted description break-word",children:r.description.trim().split(/\r?\n/).map(e=>e.trim()).map((e,t)=>(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 "+((0,U.default)({empty:!e})||""),children:e},t))}),(0,a.jsx)(es,{ticketType:r,t:w,tiers:y,className:"fs-xs text-tinted ticket-info-row"}),E&&!S&&(0,a.jsx)(ed,{ticket:r,className:"fs-xs text-tinted ticket-info-row",event:h},"validity-period")]})]}),j.length>0&&(0,a.jsx)(D.LuxCollapse,{show:k,children:(0,a.jsxs)("div",{className:"jsx-427f393d8eebd120 token-req fs-xs",children:[(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 divider"}),(0,a.jsx)("div",{className:"jsx-427f393d8eebd120 reqs",children:j.map((e,t)=>(0,a.jsxs)("span",{className:"jsx-427f393d8eebd120 token-info",children:[(0,a.jsx)("span",{className:"jsx-427f393d8eebd120 fw-medium",children:e.name}),e.desc&&(0,a.jsxs)("span",{className:"jsx-427f393d8eebd120",children:[" (",e.desc,")"]})]},t))})]})}),(0,a.jsx)(B.default,{id:"427f393d8eebd120",children:'.ticket-type-btn.jsx-427f393d8eebd120{background-color:var(--opacity-light);width:100%;color:var(--secondary-color-alpha);border:1px solid var(--opacity-0);padding:.5rem .75rem}.ticket-type-btn.multi.jsx-427f393d8eebd120{padding-right:.5rem}.ticket-type-btn.jsx-427f393d8eebd120:disabled{cursor:not-allowed}@media (hover:hover){.ticket-type-btn.jsx-427f393d8eebd120:hover:not(:disabled){border-color:var(--opacity-light);background-color:var(--opacity-second-light)}}.ticket-type-btn.selected.jsx-427f393d8eebd120:not(:disabled),.ticket-type-btn.selected.jsx-427f393d8eebd120:not(:disabled):hover{color:var(--primary-or-tinted-color);background-color:var(--bg-opacity-48);border-color:var(--primary-or-tinted-color)}.icon.jsx-427f393d8eebd120{opacity:0;margin-top:.25rem}.selected.jsx-427f393d8eebd120:not(:disabled) .icon.jsx-427f393d8eebd120{opacity:1}.top.jsx-427f393d8eebd120{gap:.625rem}.name.jsx-427f393d8eebd120,.description.jsx-427f393d8eebd120,.token-req.jsx-427f393d8eebd120,.ticket-info-row{text-align:left;font-weight:var(--font-weight-regular)}.ticket-info-row{line-height:var(--reduced-line-height);margin-top:.1875rem}.ticket-info-row+.ticket-info-row{margin-top:.125rem}.ticket-info-row:last-child{margin-bottom:1px}.name.jsx-427f393d8eebd120{font-weight:var(--font-weight-medium);flex:1}.name.jsx-427f393d8eebd120 .space-right.jsx-427f393d8eebd120{margin-right:.375rem}.name.jsx-427f393d8eebd120 span.jsx-427f393d8eebd120{word-break:break-word}.pills.jsx-427f393d8eebd120{margin-bottom:.125rem}.description.jsx-427f393d8eebd120{margin-top:.125rem}.description.jsx-427f393d8eebd120 div.jsx-427f393d8eebd120:first-child:not(:last-child){margin-top:.25rem}.description.jsx-427f393d8eebd120 .empty.jsx-427f393d8eebd120{height:.5rem}.description.jsx-427f393d8eebd120 .empty.jsx-427f393d8eebd120+.empty.jsx-427f393d8eebd120{height:0}.description.jsx-427f393d8eebd120+.ticket-info-row{margin-top:.5rem}.token-req.jsx-427f393d8eebd120{margin-left:1.75rem;padding-top:.375rem}.token-req.jsx-427f393d8eebd120 .divider.jsx-427f393d8eebd120{border-top:1px solid var(--opacity-16);padding-top:.375rem}.token-req.jsx-427f393d8eebd120 .token-info.jsx-427f393d8eebd120:not(:last-child):after{content:", "}.multi.jsx-427f393d8eebd120 .token-req.jsx-427f393d8eebd120{margin-left:0}'})]})},eh=e=>{let{ticketTypeToSelection:t,setTicketTypeToSelection:i,disallowRequireApprovalAndCrypto:s,addTax:n,hideUnavailable:r,className:o}=e,{ticket_types:l,can_register_for_multiple_tickets:d}=eN(),c=(0,K.useNow)();return(0,a.jsx)("div",{className:o,children:(0,a.jsx)("div",{className:"ticket-types flex-column gap-2 full-width",children:l.map(e=>{let o=eb({ticket_type:e,now:c,disallow_require_approval_and_crypto:s});return r&&!o?null:(0,a.jsx)(ex,{canRegisterForMultipleTickets:d,ticketType:e,requiredCurrency:eg({can_register_for_multiple_tickets:d,ticket_types:l,ticketTypeToSelection:t}),requiredTokenGate:ey({can_register_for_multiple_tickets:d,ticket_types:l,ticketTypeToSelection:t}),disabled:!o,ticketTypeToSelection:t,addTax:n,setCount:a=>{var s,n;if(d)return void i({...t,[e.api_id]:{amount:(null!=(s=e.cents)?s:0)*a,count:a}});a&&i({...Object.fromEntries(l.map(e=>[e.api_id,{count:0,amount:0}])),[e.api_id]:{count:a,amount:(null!=(n=e.cents)?n:0)*a}})}},e.api_id)})})})},ev=e=>{let{ticket_types:t,can_register_for_multiple_tickets:a}=e;if(!t||0===t.length)return!0;if(a)return!1;if(1===t.length){let[e]=t;if(!e.valid_start_at&&!e.valid_end_at&&!e.max_capacity)return!0}return!1},eg=e=>{let{can_register_for_multiple_tickets:t,ticket_types:a,ticketTypeToSelection:i}=e;if(!t||a.length<=1)return null;for(let e of a){var s,n;if(e.cents&&e.currency&&(null!=(n=null==(s=i[e.api_id])?void 0:s.count)?n:0)>0)return e.currency}return null},ey=e=>{let{can_register_for_multiple_tickets:t,ticket_types:a,ticketTypeToSelection:i}=e;if(!t||a.length<=1)return null;for(let e of a){var s,n;if(!(0,J.isEmpty)(e.ethereum_token_requirements)&&(null!=(n=null==(s=i[e.api_id])?void 0:s.count)?n:0)>0)return e.ethereum_token_requirements}return null},eb=e=>{let{ticket_type:t,now:a,skip_capacity_check:s,disallow_require_approval_and_crypto:n}=e;if(t.valid_start_at&&a<i.DateTime.fromISO(t.valid_start_at)||t.valid_end_at&&a>i.DateTime.fromISO(t.valid_end_at)||!s&&0===(null!=t.max_capacity?Math.max(t.max_capacity-t.num_guests,0):null))return!1;if(n){var r;if(t.require_approval||(null==(r=t.ethereum_token_requirements)?void 0:r.length)>0)return!1}return!0},ej=(0,n.createContext)(null),e_=e=>{let{initialData:t,eventApiId:i,loadingState:r,children:o,proxyKey:l,newStyle:c,isEmbed:u,inviteSecretKey:m,referringTicketKey:p,openedFrom:f,couponCode:x,onEventUpdated:h}=e,v=!!(0,s.useRouter)().query.one,[g,y]=(0,n.useState)(null!=x?x:null),{data:b,refresh:j}=(0,w.useAPI)({path:"/event/get",args:{event_api_id:i,invite_secret_key:m,referring_ticket_key:p,coupon_code:g},swrConfig:{fallbackData:null!=t?t:void 0,revalidateOnMount:!t}});(0,d.useUpdateEffect)(()=>{b&&(null==h||h(b))},[b]);let _=(0,n.useCallback)(async e=>{y(e),await j()},[y,j]);return b?(0,a.jsx)(ew,{refreshEvent:j,eventPageData:b,proxyKey:l,newStyle:c||v,isEmbed:u,openedFrom:f,setCouponCode:_,children:o}):null!=r?r:null},ew=e=>{var t,s,l,d,u;let{children:m,proxyKey:b,refreshEvent:w,setCouponCode:E,eventPageData:A,newStyle:M,isEmbed:P,openedFrom:R,disableHotkeys:L}=e,{user:I,refreshUser:B}=(0,j.useUserContext)(),{waitForTurnstile:U}=(0,_.useCaptchaContext)(),F=(0,p.useT)(),{event:z,has_available_ticket_types:O,calendar:D,can_register_for_multiple_tickets:W,sold_out:V,meta_pixel_id:K,google_measurement_id:Y,sessions:Q,guest_data:H,ticket_types:G,coupon:Z}=A,J=(0,o.useCounter)(),[X,$]=(0,n.useState)(null),[ee,et]=(0,n.useState)(()=>0===G.length?{}:ek({ticket_types:G,now:i.DateTime.now(),allow_waitlist:z.waitlist_enabled,can_register_for_multiple_tickets:W,coupon:Z})),[ea,ei]=(0,n.useState)(null),es=Q.filter(e=>(0,h.getEventState)({event:e})!==h.EventState.Ended),{track_meta_ads_from_luma:en}=D,er=(0,n.useCallback)(e=>{var t;(0,S.setApiCookie)(x.EventReferral.registeredCookie({event_api_id:z.api_id,user_api_id:e.user_api_id})),$(e),N.Analytics.trackEventRegistration({event:z,cents_paid:e.cents,currency:null!=(t=e.currency)?t:null,meta_pixel_ids:[K,en?y.MetaTypes.LUMA_META_PIXEL_ID:null],google_measurement_id:Y,coupon_code:null==Z?void 0:Z.code}),E(null)},[en,z,$,K,Y,Z,E]);eT({onRegister:er}),(0,T.useHotkeys)(L?{}:{".":async e=>{e.metaKey&&(e.preventDefault(),await (0,r.copyToClipboard)({text:A.api_id,t:F,success:F({defaultMessage:"Copied event ID to clipboard. 📋",id:"3k5tow"})}))}});let eo=(0,n.useCallback)(()=>{$(null),E(null)},[$,E]),el=q({ticketTypeToSelection:ee,ticket_types:G}),ed=null!=X?X:I,ec=null!=(t=null==X?void 0:X.approval_status)?t:H.approval_status,eu=null!=(s=null==X?void 0:X.user_api_id)?s:null==I?void 0:I.api_id,em=ed&&ec&&eu&&ec!==g.GuestApprovalStatus.Invited?{email:ed.email,user_api_id:eu,email_verified:ed.email_verified,avatar_url:ed.avatar_url,ticket_key:null!=(l=null==X?void 0:X.ticket_key)?l:H.ticket_key,approval_status:ec,event_tickets:null!=(d=null==X?void 0:X.event_tickets)?d:H.event_tickets}:null,ep=(0,n.useCallback)(()=>{let e=i.DateTime.now();et(t=>(0,f.sum)(Object.values(t).map(e=>{let{count:t}=e;return t}))>0?Object.fromEntries(Object.entries(t).map(t=>{let[a,i]=t,s=G.find(e=>e.api_id===a);return s?[a,eb({ticket_type:s,now:e})?i:{count:0,amount:0}]:[a,{count:0,amount:0}]})):ek({ticket_types:G,now:e,allow_waitlist:z.waitlist_enabled,can_register_for_multiple_tickets:W,coupon:Z})),J.increment()},[J,G,et,z,W,Z]),ef=(0,n.useMemo)(()=>!!(H.payments.some(e=>e.amount_cents-e.amount_refunded_cents>0)||H.event_tickets.some(e=>e.amount>0)),[H]),[ex,eh]=(0,n.useState)(null),[ev,eg]=(0,n.useState)(null),ey=(0,n.useCallback)(async e=>{let{phoneNumber:t}=e;await (0,c.callWithToast)(async()=>{let{sent_via:e}=await C.APIClient.post("/auth/sms/request-verification-code",{phone_number:t,ensure_phone_number_free:!0},{waitForTurnstile:U});eh(t),eg(e)},{error:F({defaultMessage:"There was a problem linking that phone number.",id:"/XGF/1"})})},[eh,U,F]),e_=(0,n.useMemo)(()=>z.waitlist_enabled&&v.EventWaitlist.supportsWaitlist({event:z,ticket_types:G})&&O&&V,[z,G,O,V]);return(0,a.jsxs)(ej.Provider,{value:{hasPaid:ef,proxyKey:b,upcomingSessions:es,refreshEvent:w,waitlistActive:e_,onUnregister:eo,setCouponCode:E,registeredGuestInfo:em,onRegister:er,cryptoRequirement:el,ticketTypeToSelection:ee,setTicketTypeToSelection:et,startPhoneVerification:ey,hasTicketPrice:G.some(e=>"free"!==e.type),cryptoInfo:ea,setCryptoInfo:ei,newStyle:!!M,rerender:ep,rerenderId:J.count,featured_info:null!=(u=A.featured_infos[0])?u:null,isEmbed:P,openedFrom:null!=R?R:null,...A},children:[m,(0,a.jsx)(k.VerifyPhoneNumberModal,{phoneNumber:ex,codeSentVia:ev,title:F({defaultMessage:"Verify Phone Number",id:"pOjRa/"}),desc:F({defaultMessage:"Verify your phone number so you can use it to sign in and receive event reminders.",id:"D7nq/4"}),onHide:()=>eh(null),onCode:async e=>{let{code:t,phoneNumber:a}=e;await C.APIClient.post("/auth/sms/link-phone-number",{phone_number:a,code:t}),eh(null),await B()}})]})},eT=e=>{let{onRegister:t}=e,a=(0,s.useRouter)(),i=(0,p.useT)(),r=(0,n.useCallback)(async e=>{await (0,c.callWithToast)(async()=>{t(await E.TaskUtils.poll({func:async()=>{let t=await C.APIClient.get("/event/guest/get-payment-status",e);return t.status===b.Task.Status.Success?{status:b.Task.Status.Success,data:t}:t}}))},{error:i({defaultMessage:"There was an issue processing your payment. Please try again.",description:"Event page. Shown when we if there is an issue with payment after the user completed payment in a different site / app.",id:"buBuwF"}),loading:i({defaultMessage:"Processing your payment...",description:"Event page. Shown when we are loading the payment after the user completed payment in a different site / app.",id:"wyFtsv"}),success:i({defaultMessage:"Payment successful!",description:"Event page. Shown when we successfully processed the payment after the user completed payment in a different site / app.",id:"06Yr41"})})},[t,i]);(0,l.useOnMount)(()=>{let e=a.query.payment_intent;"string"==typeof e&&setTimeout(()=>{r({stripe_payment_intent_id:e}),(0,m.removeArgFromUrl)("payment_intent","payment_intent_client_secret","payment_intent","redirect_status")},5)})},ek=e=>{var t,a;let i,{ticket_types:s,allow_waitlist:n,now:r,can_register_for_multiple_tickets:o,disallow_require_approval_and_crypto:l,coupon:d}=e,c=!1,u=null!=(t=null==d?void 0:d.event_ticket_type_api_id)?t:null;if(u){let e=s.find(e=>e.api_id===u),t=!!e&&eb({ticket_type:e,now:r,disallow_require_approval_and_crypto:l})&&!e.is_disabled;e&&t&&(i=e,c=!0)}if(i||(i=s.find(e=>eb({ticket_type:e,now:r,disallow_require_approval_and_crypto:l})&&!e.is_disabled)),!i&&n&&(i=s.find(e=>eb({ticket_type:e,now:r,skip_capacity_check:!0})&&!e.is_disabled)),o&&i&&"free"!==i.type){let e=i.currency;(null==(a=s.find(t=>t.currency&&t.currency!==e&&eb({ticket_type:t,now:r})))?void 0:a.currency)&&!c&&(i=void 0)}let m={};return s.forEach(e=>{var t;m[e.api_id]={count:+(e.api_id===(null==i?void 0:i.api_id)),amount:e.api_id===(null==i?void 0:i.api_id)&&null!=(t=e.cents)?t:0}}),m},eN=(0,u.createUseAppContext)(ej)},188795,e=>{"use strict";e.s(["EventContentCard",()=>o,"EventContentCardLoading",()=>d]);var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(206046),n=e.i(405155),r=e.i(171548);let o=e=>{let{titleIcon:s,titleLabel:n,titleRight:o,children:d,className:c}=e,{newStyle:u}=(0,r.useEventPageContext)();return u?(0,t.jsxs)("div",{className:"jsx-fcd70e50c8120a32 "+((0,i.default)("content-card",c)||""),children:[n&&(0,t.jsxs)("div",{className:"jsx-fcd70e50c8120a32 card-title flex-center gap-2 spread",children:[(0,t.jsx)("div",{className:"jsx-fcd70e50c8120a32 title-label text-tinted fs-sm",children:n}),o]}),(0,t.jsx)("div",{className:"jsx-fcd70e50c8120a32 content",children:d}),(0,t.jsx)(a.default,{id:"fcd70e50c8120a32",children:".card-title.jsx-fcd70e50c8120a32{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}.title-label.jsx-fcd70e50c8120a32{font-weight:var(--font-weight-medium);font-family:var(--title-font)}"})]}):(0,t.jsx)(l,{titleIcon:s,titleLabel:n,titleRight:o,className:c,children:d})},l=e=>{let{titleIcon:s,titleLabel:r,titleRight:o,children:l,className:d}=e,c=(0,n.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" "+((0,i.default)("content-card",d)||""),children:[r&&(0,t.jsxs)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" card-title flex-center gap-2 spread",children:[(0,t.jsxs)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" flex-baseline gap-2",children:[s&&(0,t.jsx)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" title-icon flex-center-center",children:s}),(0,t.jsx)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" title-label",children:r})]}),o]}),(0,t.jsx)("div",{className:a.default.dynamic([["bb041e8ee0ce645",[c.tiny,c.tiny,c.tiny]]])+" content",children:l}),(0,t.jsx)(a.default,{id:"bb041e8ee0ce645",dynamic:[c.tiny,c.tiny,c.tiny],children:".content-card.__jsx-style-dynamic-selector{background-color:var(--card-bg-color);border-radius:var(--large-border-radius);-webkit-backdrop-filter:var(--card-backdrop-filter);backdrop-filter:var(--card-backdrop-filter);box-shadow:var(--card-shadow);--content-card-vertical-padding:.75rem;--content-card-horizontal-padding:1rem}.card-title.__jsx-style-dynamic-selector{padding:var(--content-card-vertical-padding)var(--content-card-horizontal-padding);height:calc(var(--content-card-vertical-padding)*2 + 1.5rem);border-bottom:1px solid var(--divider-color)}@media (max-width:".concat(c.tiny,"){.card-title.__jsx-style-dynamic-selector{height:calc(var(--content-card-vertical-padding)*2 + 1.3125rem)}}.title-icon.__jsx-style-dynamic-selector{color:var(--tint-color);transform:translateY(.125rem)}@media (max-width:").concat(c.tiny,"){.title-icon.__jsx-style-dynamic-selector{width:.875rem;height:.875rem;transform:translateY(.15625rem)}}.title-label.__jsx-style-dynamic-selector{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);font-family:var(--title-font);line-height:1}@media (max-width:").concat(c.tiny,"){.title-label.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}.content.__jsx-style-dynamic-selector{padding:var(--content-card-vertical-padding)var(--content-card-horizontal-padding)}.content.__jsx-style-dynamic-selector hr.edge-to-edge{margin-left:calc(-1*var(--content-card-horizontal-padding));margin-right:calc(-1*var(--content-card-horizontal-padding))}")})]})},d=e=>{let{children:n,className:r}=e;return(0,t.jsxs)("div",{className:"jsx-83bc5bf8d629f2b0 "+((0,i.default)("content-card-loading",r)||""),children:[(0,t.jsx)("div",{className:"jsx-83bc5bf8d629f2b0 card-title",children:(0,t.jsx)(s.TextShimmer,{size:"sm",width:"5rem"})}),(0,t.jsx)("div",{className:"jsx-83bc5bf8d629f2b0 content",children:n}),(0,t.jsx)(a.default,{id:"83bc5bf8d629f2b0",children:".card-title.jsx-83bc5bf8d629f2b0{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}"})]})}},560531,(e,t,a)=>{t.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],i=0;i<e.rangeCount;i++)a.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},308328,(e,t,a)=>{"use strict";var i=e.r(560531),s={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(e,t){var a,n,r,o,l,d,c,u,m=!1;t||(t={}),r=t.debug||!1;try{if(l=i(),d=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=s[t.format]||s.default;window.clipboardData.setData(i,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))}),document.body.appendChild(u),d.selectNodeContents(u),c.addRange(d),!document.execCommand("copy"))throw Error("copy command was unsuccessful");m=!0}catch(i){r&&console.error("unable to copy using execCommand: ",i),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(i){r&&console.error("unable to copy using clipboardData: ",i),r&&console.error("falling back to prompt"),a="message"in t?t.message:"Copy to clipboard: #{key}, Enter",n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",o=a.replace(/#{\s*key\s*}/g,n),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(d):c.removeAllRanges()),u&&document.body.removeChild(u),l()}return m}},806335,(e,t,a)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.CopyToClipboard=void 0;var s=o(e.r(191788)),n=o(e.r(308328)),r=["text","onCopy","options","children"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&c(l,e);var t,a,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,a=m(l);return e=t?Reflect.construct(a,arguments,m(this).constructor):a.apply(this,arguments),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function l(){var e;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return p(u(e=o.call.apply(o,[this].concat(a))),"onClick",function(t){var a=e.props,i=a.text,r=a.onCopy,o=a.children,l=a.options,d=s.default.Children.only(o),c=(0,n.default)(i,l);r&&r(i,c),d&&d.props&&"function"==typeof d.props.onClick&&d.props.onClick(t)}),e}return a=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=function(e,t){if(null==e)return{};var a,i,s=function(e,t){if(null==e)return{};var a,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,r),i=s.default.Children.only(t);return s.default.cloneElement(i,d(d({},a),{},{onClick:this.onClick}))}}],function(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(l.prototype,a),Object.defineProperty(l,"prototype",{writable:!1}),l}(s.default.PureComponent);a.CopyToClipboard=f,p(f,"defaultProps",{onCopy:void 0,options:void 0})},958925,(e,t,a)=>{"use strict";var i=e.r(806335).CopyToClipboard;i.CopyToClipboard=i,t.exports=i},713189,723053,240467,561985,312455,907336,e=>{"use strict";e.s(["LiquidGlass",()=>c],713189);var t,a=e.i(391398),i=e.i(359626),s=e.i(272043),n=e.i(191788),r=e.i(767193),o=e.i(824015);let l=e=>{let{id:t,displacementScale:i,aberration:s,width:n,height:r}=e;return(0,a.jsx)("svg",{style:{position:"absolute",width:n,height:r},"aria-hidden":"true",children:(0,a.jsxs)("defs",{children:[(0,a.jsxs)("radialGradient",{id:"".concat(t,"-edge-mask"),cx:"50%",cy:"50%",r:"50%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"black",stopOpacity:"0"}),(0,a.jsx)("stop",{offset:"".concat(Math.max(30,80-2*s),"%"),stopColor:"black",stopOpacity:"0"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"white",stopOpacity:"1"})]}),(0,a.jsxs)("filter",{id:t,x:"-35%",y:"-35%",width:"170%",height:"170%",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feImage",{id:"feimage",x:"0",y:"0",width:"100%",height:"100%",result:"DISPLACEMENT_MAP",href:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/2wCEAAQDAwMDAwQDAwQGBAMEBgcFBAQFBwgHBwcHBwgLCAkJCQkICwsMDAwMDAsNDQ4ODQ0SEhISEhQUFBQUFBQUFBQBBQUFCAgIEAsLEBQODg4UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/CABEIAQABAAMBEQACEQEDEQH/xAAxAAEBAQEBAQAAAAAAAAAAAAADAgQIAQYBAQEBAQEBAQAAAAAAAAAAAAMCBAEACAf/2gAMAwEAAhADEAAAAPjPor6kOgOiKhKgKhKgOhKhOhKxKgKhOgKhKhKgKxOhKhOgKhKhKgKwKhKgKgKwG841nns9J/nn2KVCdCdCVAVCVCVAdCVCdiVAVidCVAVCVAdiVCVCdAVCVCVAVCVAVAViVZxsBrPPY6R/NvsY6E6ErEqAqE6ErAqE6E7E7ErA0ErArAqAqEuiVAXRLol0S6J0JUBWBUI0BXnG88djpH81+xjoToSoSoCoTsSoYQTsTsTQSsCsCsCsCsCoC6A0JeAuiXSLwn0SoioCoCoBsBrPFH0j+a/Yx0J0JUJUJ2BUMIR2MIRoBoJIBXnJAK840BUA0BdAegXhLpF4S8R+IuiVgVANAV546fSH5r9jHRHQFQlYxYnZQgnYwhQokgEgEmckzjecazlYD3OPQHoD0S8JcI/EXiPxF0SoSvONBFF0j+a/YxdI7EqA6KLGEKEKEGFI0AlA0AUzimYbzjecazjWce5w6BdEeCXhPhFwz8R+MuiVgVAdF0j+a/Yp0RUJ0MWUIUWUIUKUIJqBoArnJM4pmBMw3nCsw1mCs4+AegPBLxHwi4Z8KPGXSPojYH0ukfzX7FOiKhiyiylDiylDhBNRNQJAJcwpnBMopmC84XlCswdzj3OPQHwlwS8R8M+HHDPxl0ioDoukfzT7GOhOyiimzmzhDlShBNBNBJc4rmFMwJlBMwXlC82esoVmHucOgXgHxH4j4Zyccg/GfiOiKh6R/NPsY6GLOKObOUObOUI0KEAlEkzimYFygmUEyheXPeULzZ6yhWce5x8BeEuGfCj0HyI5EdM/EdD0h+a/Yx0U0cUflxNnNnCHCCdgSiSZgTMK5c6ZQvLnTLnvJnvKFZgrMHc5dAeiXijhn445E8g/RHTPpdI/mn2KdlFR5RzcTUTZxZwglYGgCmcEzAuUEyZ0y57yZ0yZ7yheUKzh3OPc5dEvEfij0RyI9E+iPGfT6T/NPsQ6OKiKmajy4ijmyOyKwNAFM4JlBMudMmdMue8mdMme8me8wVmGsw0A9A+kfjjxx6J9EememfT6W/MvsMqOamKiamKmKOKM7ErErAUzAmYLyZ0y50yZ0yZkyZ7yBeULzBeYazl0T6R9KPRPYj0T2J9B9Ppj8x+wjo4qY7M9iKmKg6MrIrErALzBeYEyZ0y50yZkyZ7x50yheXPeUbzjWcqA6I+lHYnsT6J7E9iOx0z+YfYBUc1MdmexHZjsHRlRBRDYBecEzZ7yAmXNeTOmTOmPOmXOmULyjeYbzlYnQxRx057E9mexPYij6a/L/r86OOzPpjsR6Y7B9MqIaILDPYZ7zZ0y57y50yZ0x5kyAmXPeUEyjeYUznQnYnRTUTUT2JqJ7EUfTn5d9fFRx2Z9EdmPTHjLsF0h6I2OegzXmzJmzplz3lzJjzpkBMudMoplBM5JnOwOyiimzmomomonsHRdO/l318VFHYj0x6I9McgumXiHpDQ56DPebMmbNebMmXMmQEy50yguQEzCmYkA7GLGEKaObibiaOKOKPp38s+vCsj7EeiPTHIP0Hwx6ReMKDP0M95895syZ815cy5c6ZQTKCZRXMKZiQDQYQYsps5uJs5qIsjounvyz68KyLpx4z9Mcg+GXoLxl4g6IUGes+a8+e82ZM2dMuZMoJmBcwrlJM5IBoMKMoUWc2c3E0cWRUXT/wCV/XQ2R0RdiPQfDPkFwy9BeIOiHQz0Ges+e82dM2ZM2dMwLmBcwpmJc5qBoMIUIUoU2c2cWZ0R0PT/AOV/XQ2RUJdM+wfDL0Hwy5A+EfEHQz0AUGe8+dM2e82dcwJnFcwrnJc5IEKUIMIUoUWc2cWRUJ0PT/5V9dFYjZFRF0z8ZeM+QPDLxD4Q6OfoBQhefPeYEz50ziucUzCoEuclCEKFGUKEKLOLI7E6EqHqD8o+uhsRsisSoi6ZeM+QPiHhj0R8IUIdALALzgmcEzimcVAlzioGomgyhQgwhRZHZFQHQlQ9Qfk/10NiVkNiNiVGXiPxj4x8Q9IfCFCPRCwC84oA3nFQFM5KBKJIMKEIUWRoUUJWJUJ0BUPUH5L9dDZFYigjYjZHRF0x8Q9IvEHRHojQjQhecUAUAkEkziomgGgkoxZGgxZFQFQlYnQHRdPfj/10KCSCKESCNiVkViPSLpD0h6I0Q0I0A2IoBWBIJIBKBIJoJIJ2R2J0JWBUJ0JUB0XTv479dFZDYiglYigkhEgjZFQjRFQjRFQjQigFYigHYigmgEgmglYlYnQlQlYlQHQlQnQ9P/kf1yVkNiNCNkNiVENiNiViNEViNkVCVgKCViViViSCViSCVgdCViVCViVCdgVCVCdD1D+U/XBWQ2I0I2Q2JUQ2I0JWQ0I2JUQ2JUI2JUI2J0JWJWJWA2R0BWJ0I2JUJ2BUJUJ0P//EABkQAQEBAQEBAAAAAAAAAAAAAAECABEDEP/aAAgBAQABAgB1atWrVq1atWrVq1atWrVq1atWrVq1atWrVq+OrVq1atWrVq1atWrVq1atWrVq1atWrVq1atXxVppppppdWrVq1atWrVq1NNNNNNNNNNNPVWmmmmms6tWrVq1atWpppppppppppppp6q0000uc51atWrVq1ammmmmmmmmmmmmt1Vpppc5znVq1atWrVqaaaaaaaaaaaaaeqtNLnOc51atWrVq1ammmmmmmmmmmmmnqrS5znOc6tWrVq16222mmmmmmlVppp6tKuc5znOrVq1a9TbbbbTTTTTSq000qtLnOc5zq1atWrW0222200000qqqtKqrnOc5zq1atTbbbbbbbbTTTSqqqqqq5znOc6tTTTbbbbbbbbTTTSqqqqrlVznOctNNNtttttttttNNNNKqqqrqznKqrTTTTbbbbbbbbbTTTSqqqqrqznOc5aaaabbbbbbbbbaaaaVVVVVdWc5znVq1NNttttttttttNNKqqqqudWc5znVq16tbbbbbbbbbbTTSqqqq5XVnOc6tWrVrb1tttttttttNNKqqqqrWrK5VWmmm2230bbbbbbaaaXOc5zlVa1KuVVppptttt9G22222mmlzlVznK6tWVVWmmmm2222222222mlznOc5znLWppVVWmmm22222229bTWrOc5znOcq1qaaVpWmm222222229erVqznOc5znKtatStK0rTbTTbbbberXr1as5znOc5aVpppppWlabaabbbb1ta9WrVnOc5znU0rTTTTTTTTTbTTbbbTWvVq1as5znOdTTStNNNNNNNNNtNNtttN6tWvVq1ZznOrU00rTTTTTTTTTTTTTbTWvVq1atWrOc6tTTTStNNNNNNNNNNtNNtNa9WrVq1Z1Z1NNNNNK1q1NNNNNNNNNNNtNatWrVq1atWrU00000rWrVq1atWrVq1alaaa1atWrVq1NNNammmmla1atWrVq1aterVq16tWrVnVqa1NK1qaaaVX/xAAWEAADAAAAAAAAAAAAAAAAAAAhgJD/2gAIAQEAAz8AaExf/8QAGhEBAQEBAQEBAAAAAAAAAAAAAQISEQADEP/aAAgBAgEBAgDx48ePHjx48ePHjx48ePHjx48ePHjx48ePHj86IiIiIiInjx48ePHjx48IiIiIj0oooooooooRERER73ve60UUUUUUVrWiiiiiihERERER73ve97ooooorRWiiiiihKERERER73ve973RRRRWtFFFFFFCIiIiIiPe973ve60UUVrRRRRRRQiIlCIiI973ve973pRRWiiiiiiiiiiiiiiihEe973ve973RRWtFFFFFFFFFFFFFFFFFFa13ve973WitaKKKKKKKKKKKKKKKKKK1rWtd1rutFa1oooooooooooosssooorWta1rWta1rRRRRRRRRRRZZZZZZZZZWta1rWta1rRRRRRRRRZZZZZZZZZZZZe9a1rWta1rWitaKLLLLLLLLLLLLLLLLL3rWta1rWtFbLLLLLLLLLLLLLLLLLLLL3vWta1rWita1ssssssss+hZZZZZZZZe961rWta0Vre97LLLLLLLLLLLPoWWWWWXrWta1oorWta3ssss+hZZZZ9Cyyyyyyyyiita1orWta1ve9llllllllllllllllFFa0VorWta1ve9llllllllllllllllllFFFaK1rWta1rWiyyyyyyyyyyyyiiiiiiitFFa1rWta1oosoosssssoooosoooorRRRWta1rWta0UUUUUWUUUUUUUUUUUVoooorWta1rWtaKKKKKKmiiiiiiiiiiiiiiitd73ve61oSiiipoqaKKKKKKKKKK0UUUVrve973vREREZoSihEooooorRRRRWtd73ve9EREREREoSiiiiitFllllla73ve9ERERERESiiiiiitH0PoWWWWVrXe96IiIiMoiJRRRRRRWjwlFFllllFFd6IiIiIlCUUUUUUUUUePHjx48ePCIiIiIiIiUUUUUUUUUUUePHjx48ePHjx48ePHjx48IiUUUUUUJRRRX//xAAWEQADAAAAAAAAAAAAAAAAAAABYJD/2gAIAQIBAz8AtEV7/8QAFxEBAQEBAAAAAAAAAAAAAAAAAAECEP/aAAgBAwEBAgCtNNNNNNNNNNNNNNNNNNNNNNNNNNNNNcrTTTTTTTTTTTTTTTTTTTTTTTTTTTTTXKrTTTTTTTU000000000000000000001FVpppppqampqaaaaaaaaaaaaaaaaaaaa5Vaaaaampqampqammmmmmmmmmmlaaaaaaiq0001NTU1NTU1NTTTTTTTTTTSqqtNNNcqtNNSyzU1LNTU1NTTTTTTTTTSqqq001ytNLLLLNTU1NTU1NTbbbTTTTTSqqq001ytNLLLLLNTU1NTU3NttttNNNNNKqq001KrSyyyyyzU1NTU3Nzc02220000qqqqrSqqyyyyyzU1NTU3Nzc3NttttNNNKqqqqqqssssss1NTU3Nzc3NzbbbbTTTSqqqqqqrLLLLLNTU1Nzc3Nzc22220000qqqqqqqqssss1NTU3Nzc3NzbbbbbTTSqqqqqqqqqqzU1NTc3Nzc3Nzbc22000qqqqqqqqqqqtTU3Nzc3Nzc3NtzbTTSqqqqrKqqqqqtNNzc23Nzc3Nzc3NTU1KqqqrKqqqqqtNNNNttzc3Nzc3NzU1NLLLLLKqqqqqqqq0022223Nzc3NzU1NSyyyyyyqqqqqqqrTTbbbbc3Nzc3NTU1LLLLLLKsqqqqqqrTTTTbbbc3Nzc1NTUsssssssqqqqqqrTTTTTbbbTc3NTU1NTUsssssqqqqqqqq0000222023NTU1NTUsssssqqqqqqqq000000003NTU1NTU1LLLLLNKrTSqqqqtNNNNNNtNNTU1NSzUssss00qq0qqqqrTTTTTTTTTU1NTUs1LLLNNNKrTTTSqqq00000000001NTU1LNTU0000qtNNNKqqqtNNNNNNNNTU1NTUs1NNNNNKss1NNNK00qtK0000001NNTU0s000000qq000001NKrStNNNNK1NNNNStNNNNNKqtNNNNNNNK0000000rU0000rTTTTTSq00000rTTTTTTTTTTTTTTTTStNNNNKr/xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAEDAQM/AAAf/9k=",preserveAspectRatio:"xMidYMid slice"}),(0,a.jsx)("feColorMatrix",{in:"DISPLACEMENT_MAP",type:"matrix",values:"0.3 0.3 0.3 0 0 0.3 0.3 0.3 0 0 0.3 0.3 0.3 0 0 0 0 0 1 0",result:"EDGE_INTENSITY"}),(0,a.jsx)("feComponentTransfer",{in:"EDGE_INTENSITY",result:"EDGE_MASK",children:(0,a.jsx)("feFuncA",{type:"discrete",tableValues:"0 ".concat(.05*s," 1")})}),(0,a.jsx)("feOffset",{in:"SourceGraphic",dx:"0",dy:"0",result:"CENTER_ORIGINAL"}),(0,a.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:-1*i,xChannelSelector:"R",yChannelSelector:"B",result:"RED_DISPLACED"}),(0,a.jsx)("feColorMatrix",{in:"RED_DISPLACED",type:"matrix",values:"1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0",result:"RED_CHANNEL"}),(0,a.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:i*(-1-.05*s),xChannelSelector:"R",yChannelSelector:"B",result:"GREEN_DISPLACED"}),(0,a.jsx)("feColorMatrix",{in:"GREEN_DISPLACED",type:"matrix",values:"0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",result:"GREEN_CHANNEL"}),(0,a.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:i*(-1-.1*s),xChannelSelector:"R",yChannelSelector:"B",result:"BLUE_DISPLACED"}),(0,a.jsx)("feColorMatrix",{in:"BLUE_DISPLACED",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",result:"BLUE_CHANNEL"}),(0,a.jsx)("feBlend",{in:"GREEN_CHANNEL",in2:"BLUE_CHANNEL",mode:"screen",result:"GB_COMBINED"}),(0,a.jsx)("feBlend",{in:"RED_CHANNEL",in2:"GB_COMBINED",mode:"screen",result:"RGB_COMBINED"}),(0,a.jsx)("feGaussianBlur",{in:"RGB_COMBINED",stdDeviation:Math.max(.1,.5-.1*s),result:"ABERRATED_BLURRED"}),(0,a.jsx)("feComposite",{in:"ABERRATED_BLURRED",in2:"EDGE_MASK",operator:"in",result:"EDGE_ABERRATION"}),(0,a.jsx)("feComponentTransfer",{in:"EDGE_MASK",result:"INVERTED_MASK",children:(0,a.jsx)("feFuncA",{type:"table",tableValues:"1 0"})}),(0,a.jsx)("feComposite",{in:"CENTER_ORIGINAL",in2:"INVERTED_MASK",operator:"in",result:"CENTER_CLEAN"}),(0,a.jsx)("feComposite",{in:"EDGE_ABERRATION",in2:"CENTER_CLEAN",operator:"over"})]})]})})},d=e=>{let{children:t,displacementScale:i=25,aberration:s=2,saturation:o=130}=e,d=(0,n.useId)(),[c,u]=(0,r.useMeasure)();return(0,a.jsxs)("div",{ref:c,className:"glass-container relative animated",children:[(0,a.jsx)(l,{id:d,displacementScale:i,aberration:s,width:u.width,height:u.height}),(0,a.jsxs)("div",{className:"glass",style:{borderRadius:"var(--liquid-glass-border-radius)",position:"relative",overflow:"hidden",padding:"var(--liquid-glass-padding)"},children:[(0,a.jsx)("span",{style:{filter:"url(#".concat(d,")"),backdropFilter:"blur(4px) saturate(".concat(o,"%)"),position:"absolute",inset:"0"}}),(0,a.jsx)("div",{className:"relative",children:t})]})]})};function c(e){let{children:t,displacementScale:r=70,aberration:l=2,className:c}=e,{isDark:u}=(0,n.useContext)(o.LightnessContext);return(0,a.jsxs)("div",{className:"jsx-77d2a1eaeefb0e48 "+((0,s.default)("liquid-glass relative",c)||""),children:[(0,a.jsx)(d,{displacementScale:r,aberration:l,saturation:u?125:100,children:t}),(0,a.jsx)("span",{style:{mixBlendMode:"screen",opacity:.25},className:"jsx-77d2a1eaeefb0e48 border"}),(0,a.jsx)("span",{style:{mixBlendMode:"overlay"},className:"jsx-77d2a1eaeefb0e48 border"}),(0,a.jsx)(i.default,{id:"77d2a1eaeefb0e48",children:".border.jsx-77d2a1eaeefb0e48{border-radius:var(--liquid-glass-border-radius);pointer-events:none;-webkit-mask-composite:xor;width:100%;height:100%;padding:1.5px;position:absolute;top:0;left:0;box-shadow:inset 0 0 0 .5px rgba(255,255,255,.5),inset 0 1px 3px rgba(255,255,255,.25),0 1px 4px rgba(0,0,0,.35);-webkit-mask:linear-gradient(#000 0,#000 0) content-box,linear-gradient(#000 0,#000 0);mask:linear-gradient(#000 0,#000 0) content-box,linear-gradient(#000 0,#000 0)}.liquid-glass.jsx-77d2a1eaeefb0e48{border-radius:var(--liquid-glass-border-radius);box-shadow:0 1px 4px rgba(0,0,0,.05),0 2px 10px rgba(0,0,0,.02)}@-moz-document url-prefix(){.liquid-glass.jsx-77d2a1eaeefb0e48 .glass{-webkit-backdrop-filter:var(--backdrop-blur);backdrop-filter:var(--backdrop-blur)}}"})]})}e.s(["LumaIcs",()=>t],723053),e.i(89695);var u=e.i(103800),m=e.i(11634),p=e.i(476979),f=e.i(331835),x=e.i(494948),h=e.i(521759),v=e.i(257983),g=e.i(878206),y=e.i(442357);!function(e){function t(e){let{event:t,role:a}=e;return t.location_type===v.EventLocationType.Offline?t.geo_address_info&&"shown"===t.geo_address_info.mode?t.geo_address_info.full_address||t.geo_address_info.address:y.LumaRoutes.event.publicUrl({event:t,permanent:!0}):(null==a?void 0:a.type)==="guest"&&(null==a?void 0:a.proxy_key)?y.LumaRoutes.eventJoinUrl({key:a.proxy_key}):(null==a?void 0:a.type)==="host"&&(null==a?void 0:a.secret_key)?y.LumaRoutes.eventJoinUrl({key:a.secret_key}):t.virtual_info.has_access&&t.virtual_info.raw_join_url?t.virtual_info.raw_join_url:y.LumaRoutes.event.publicUrl({event:t,permanent:!0})}function a(e){let{card:t,role:a,description_mirror:s,t:n}=e,r=[],{event:o}=t;if(a&&"host"===a.type)r.push(n({defaultMessage:"You are hosting this event. View the public page at {url}",id:"+Gf+On",description:"Calendar invite. Information about the event's URL."},{url:y.LumaRoutes.event.publicUrl({event:o})})),"manager"===a.access_level?r.push(n({defaultMessage:"Manage the event at {url}",description:"Calendar invite. Information about how to manage the event.",id:"gi8Iu9"},{url:y.LumaRoutes.event.manageUrl({event:o})})):"check-in"===a.access_level&&r.push(n({defaultMessage:"Check in guests from the Luma mobile app or on web at {url}",description:"Calendar invite. Information about how to check in to the event.",id:"EYyA4p"},{url:y.LumaRoutes.event.checkInUrl({event:o})}));else{let e=y.LumaRoutes.event.publicUrl({event:o,proxy_key:null==a?void 0:a.proxy_key});r.push(n({defaultMessage:"Get up-to-date information at: {url}",id:"kYEBd3",description:"Calendar invite. Information about the event's URL."},{url:e}))}if(o.location_type===v.EventLocationType.Offline){var l;if((null==(l=o.geo_address_info)?void 0:l.mode)==="shown"){let e=[o.geo_address_info.address,o.geo_address_info.description,"city_state"in o.geo_address_info&&o.geo_address_info.city_state,"country"in o.geo_address_info&&o.geo_address_info.country].filter(Boolean).join("\n");r.push(n({defaultMessage:"Address:\n{address}",id:"jUeQoz",description:"Calendar invite. Information about the event's address."},{address:e}))}else r.push(n({defaultMessage:"Address:\nCheck event page for more details.",id:"tPspuo",description:"Calendar invite. Information about the event's address."}))}else if(a&&"guest"===a.type&&(null==a?void 0:a.proxy_key)){let e=y.LumaRoutes.eventJoinUrl({key:a.proxy_key});r.join(n({defaultMessage:"Click to join: {url}",id:"EdBGvl",description:"Calendar invite. Information about how to join the event."},{url:e}))}else if(a&&"host"===a.type&&a.secret_key){let e=y.LumaRoutes.eventJoinUrl({key:a.secret_key});r.push(n({defaultMessage:"Click to join: {url}",id:"EdBGvl",description:"Calendar invite. Information about how to join the event."},{url:e}))}return f.SparkTypes.hasContent(s)&&r.push((0,h.truncateTextByWord)({text:f.SparkTypes.getPlainText({docValue:s}),maxLength:600})),r.push(i({hosts:t.hosts,t:n})),r.filter(e=>e).join("\n\n")}e.buildForLumaEvent=e=>{var i;let{lifecycle:s,card:n,role:r,description_mirror:o,t:l,recipient_email:d}=e,c=a({card:n,t:l,description_mirror:o,role:r}),{event:m,calendar:p,hosts:f}=n,h=(null==r?void 0:r.type)==="guest"&&u.DateTime.fromISO(m.end_at).diff(u.DateTime.fromISO(m.start_at)).as("hours")>6,v=p.is_personal?"":p.name;return x.IcsUtils.buildIcs({id:m.api_id,description:c,email:d,end_at:m.end_at,organizer:v||(null==(i=f[0])?void 0:i.name)||"Luma Event",coordinate:m.coordinate,lifecycle:s,location:t({...n,role:r}),name:m.name,start_at:m.start_at,nonblocking:h})},e.buildForEvents=e=>{let{name:i,events:s,t:n}=e;return x.IcsUtils.buildIcsWithMultipleEvents({name:i,events:s.map(e=>{var i,s;let{event:r,hosts:o,role:l}=e,d=null!=(s=null==(i=o.find(e=>e.name))?void 0:i.name)?s:"Luma Event",c=(null==l?void 0:l.type)==="guest"&&u.DateTime.fromISO(r.end_at).diff(u.DateTime.fromISO(r.start_at)).as("hours")>6;return{name:r.name,organizer:d,description:a({card:e,t:n,role:l,description_mirror:e.description_mirror}),location:t({...e,role:l}),coordinate:r.coordinate,id:r.api_id,start_at:r.start_at,end_at:r.end_at,lifecycle:x.EventLifecycle.Publish,nonblocking:c}})})},e.buildForLumaCalendar=e=>{let{calendar:i,items:s,t:n}=e;return x.IcsUtils.buildIcsWithMultipleEvents({name:i.name,events:s.map(e=>{var s,r,o,l;let d="luma"===e.platform?null!=(r=null==(s=e.hosts.find(e=>e.name))?void 0:s.name)?r:"Luma Event":null!=(o=e.event.host)?o:i.name,c="luma"===e.platform?e.event.end_at:u.DateTime.fromISO(e.event.start_at).plus(m.Duration.fromISO(e.event.duration_interval)).toISO();return{id:"luma"===e.platform?e.event.api_id:e.api_id,name:e.event.name,organizer:d,description:"luma"===e.platform?a({card:e,t:n,description_mirror:null,role:e.role}):"Find more information on ".concat(y.LumaRoutes.calendar.publicUrl({calendar:i})),location:"luma"===e.platform?t(e):e.event.url,coordinate:null!=(l=e.event.coordinate)?l:null,start_at:e.event.start_at,end_at:c,lifecycle:x.EventLifecycle.Publish}})})},e.buildForLumaEvents=e=>{let{name:i,items:s,t:n}=e;return x.IcsUtils.buildIcsWithMultipleEvents({name:i,events:s.map(e=>{var i,s;let r=null!=(s=null==(i=e.hosts.find(e=>e.name))?void 0:i.name)?s:"Luma Event",o=e.event.end_at;return{name:e.event.name,organizer:r,description:a({card:e,t:n,role:e.role,description_mirror:e.description_mirror}),location:t(e),coordinate:e.event.coordinate,id:e.event.api_id,start_at:e.event.start_at,end_at:o,lifecycle:x.EventLifecycle.Publish}})})},e.buildCalendarUrl=function(i){let{card:s,t:n,recipient_email:r,calendar_platform:o,role:l,description_mirror:d}=i,{event:c}=s,m=u.DateTime.fromISO(c.end_at).diff(u.DateTime.fromISO(c.start_at)),f=a({card:s,t:n,role:l,description_mirror:d});switch(o){case x.CalendarPlatform.Google:let h=x.IcsUtils.formatISOString(c.start_at),v=x.IcsUtils.formatISOString(c.end_at);return"https://calendar.google.com/calendar/render?"+p.default.stringify({action:"TEMPLATE",dates:"".concat(h,"/").concat(v),text:c.name,location:t({event:c,role:l}),details:f});case x.CalendarPlatform.Yahoo:let g=Math.floor(m.as("hours")),y=m.minus({hours:g}).as("minutes"),b="".concat(g,":").concat(y>=10?y:"0"+y);return"https://calendar.yahoo.com/?"+p.default.stringify({v:60,view:"d",type:20,title:c.name,st:x.IcsUtils.formatISOString(c.start_at),dur:b,desc:f});case x.CalendarPlatform.Outlook:return"https://outlook.office.com/calendar/0/deeplink/compose?"+p.default.stringify({rru:"addevent",startdt:u.DateTime.fromISO(c.start_at).toUTC().toISO(),enddt:u.DateTime.fromISO(c.end_at).toUTC().toISO(),subject:c.name,body:f,allday:!1,uid:c.api_id,path:"/calendar/action/compose",location:t({event:c,role:l})});default:return e.buildForLumaEvent({card:s,role:l,recipient_email:r,lifecycle:x.EventLifecycle.Create,t:n,description_mirror:d})}};let i=e=>{let{hosts:t,t:a}=e;return 0===t.length?"":(0,g.hostedByDisplayString)({hosts:t,t:a})}}(t||(t={})),e.s(["SignInAfterRegistrationModal",()=>q],561985);var b=e.i(424017),j=e.i(224950),_=e.i(373641),w=e.i(826420);e.s(["useStepHistory",()=>T],240467);let T=e=>{let[t,a]=(0,n.useState)([e]),i=(0,n.useCallback)(e=>{a(t=>[...t,e])},[a]),s=(0,n.useCallback)(()=>{a(e=>e.slice(0,Math.max(e.length-1,1)))},[a]);return{currentStep:(0,n.useMemo)(()=>t[t.length-1],[t]),goBack:s,setStep:i,previousStep:(0,n.useMemo)(()=>t.length<=1?null:t[t.length-2],[t])}};var k=e.i(988124),N=e.i(82602),C=e.i(897983),S=e.i(44002),E=e.i(922323),A=e.i(86316),M=e.i(655794),P=e.i(109001),R=e.i(829900),L=e.i(523080),I=e.i(348688);let q=e=>{let{show:t,onHide:i,email:s,onSuccess:r,emailVerified:o}=e,l=(0,A.useT)(),{signIn:d}=(0,R.useUserContext)(),c=(0,w.useBoolean)(),{currentStep:u,setStep:m,goBack:p}=T({step:"start"}),f=(0,n.useCallback)(async e=>{await d(e),i(),null==r||r(),(0,N.toastSuccess)(o?l({defaultMessage:"Welcome back! You’re now signed in.",id:"IYpyTS",description:"Sign in modal. Success toast."}):l({defaultMessage:"Thank you for verifying your email address.",id:"zYAugn",description:"Sign in modal. Success toast. This is for users signing in for the first time after registering for an event."}))},[r,d,i,l,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.LuxMultiStepModal,{show:t,onHide:i,currentStep:u.step,onBack:p,steps:{start:{content:(0,a.jsx)(B,{email:s,onSentEmail:()=>m({step:"enter-email-code"}),onEmailBounced:c.setTrue})},"enter-email-code":{title:l({defaultMessage:"Enter Code",id:"viLrN+"}),content:(0,a.jsx)(U,{email:s,onCode:async e=>{let{code:t}=e,a=await I.APIClient.post("/auth/email/sign-in-with-code",{code:t,email:s});a.signed_in?await f(a):m({step:"two-factor",response:a})}})},"two-factor":{title:l({defaultMessage:"Two-Factor Authentication",id:"AJyYQz"}),content:"two-factor"===u.step?(0,a.jsx)(F,{twoFactorResponse:u.response,onSuccess:f}):null}},icon:o?(0,a.jsx)(S.default,{}):(0,a.jsx)(C.default,{}),title:o?l(M.CT.SignIn):l({defaultMessage:"Verify Email",id:"8mVcs0"}),desc:o?(0,a.jsx)(E.T,{defaultMessage:"We will email a code to {email} that you can enter to sign in.",id:"/IILDY",values:{email:(0,a.jsx)("b",{children:s},"email")}}):(0,a.jsxs)("div",{className:"flex-column gap-2",children:[(0,a.jsx)(E.T,{tagName:"div",defaultMessage:"We will send you a code to {email} to verify your email.",id:"h1pRu/",values:{email:(0,a.jsx)("b",{children:s},"email")}}),(0,a.jsx)(E.T,{tagName:"div",defaultMessage:"You can then manage your registration and use it to sign in to Luma later.",id:"nAlPhj"})]})}),(0,a.jsx)(L.EmailBouncedModal,{email:c.value?s:null,onHide:c.setFalse})]})},B=e=>{let{email:t,onSentEmail:i,onEmailBounced:s}=e,n=(0,A.useT)();return(0,a.jsx)(b.LuxButton,{label:n({defaultMessage:"Send Email",id:"sZRjzc"}),className:"mt-1",fullWidth:!0,onClick:async()=>{await (0,k.callWithToast)(async()=>{await I.APIClient.post("/auth/email/send-sign-in-code",{email:t}),i()},{error:e=>e&&e instanceof P.FetchError&&400===e.status&&"email-bounced"===e.code?(s(),e.message):n({defaultMessage:"There was a problem sending the email.",id:"ny5nNJ"})})}})},U=e=>{let{email:t,onCode:i}=e,s=(0,A.useT)(),n=(0,w.useBoolean)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-secondary-alpha mb-3",children:(0,a.jsx)(E.T,{defaultMessage:"We’ve sent you a sign in code to {email}. Please enter it below.",id:"Hje4MZ",values:{email:(0,a.jsx)("b",{children:t},"email")}})}),(0,a.jsx)(_.MultiCodeInput,{autoFocus:!0,className:"pb-1",onFullCode:async e=>{n.setTrue();try{await i({code:e})}finally{n.setFalse()}}}),(0,a.jsx)(b.LuxButton,{className:"mt-3",label:s(M.CT.Continue),fullWidth:!0,disabled:!0,loading:n.value})]})},F=e=>{let{twoFactorResponse:t,onSuccess:i}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(E.T,{tagName:"div",className:"text-secondary-alpha mb-3",defaultMessage:"Your account is protected with two-factor authentication. Please enter the code generated by your authenticator.",id:"ATKdqq"}),(0,a.jsx)(_.MultiCodeInput,{className:"mb-1",autoFocus:!0,onFullCode:async e=>{let a=await I.APIClient.post("/auth/sign-in-with-two-factor",{two_factor_otp:e,two_factor_shallow_secret:t.two_factor_shallow_secret,user_api_id:t.user_api_id,front_auth_secret:null,sign_in_method:"email-code"});await i(a)},showPasteCodeButton:!0})]})};e.s(["CompleteProfileModal",()=>Y],312455);var z=e.i(538865),O=e.i(532127),D=e.i(454657),W=e.i(992354),V=e.i(883720),K=e.i(465028);let Y=e=>{let{show:t,onHide:i,desc:s}=e,{user:n,refreshUser:r}=(0,R.useUserContext)();return n?(0,a.jsx)(W.LuxModalContainer,{onHide:i,variant:"lux-alert",children:t&&(0,a.jsx)(z.Formik,{initialValues:{avatar_url:n.avatar_url,name:n.name},onSubmit:async e=>{let{avatar_url:t,name:a}=e;await (0,k.callWithToast)(async()=>{await I.APIClient.post("/user/update",{avatar_url:t,name:a}),await r(),i()},{error:"There was a problem updating your information."})},children:(0,a.jsx)(z.Form,{children:(0,a.jsxs)("div",{className:"flex-column gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-1",children:"Your Profile"}),(0,a.jsx)("div",{className:"fs-sm text-secondary-alpha",children:s})]}),(0,a.jsxs)("div",{className:"flex-center gap-3",children:[(0,a.jsx)(O.AvatarUploadField,{name:"avatar_url",size:64,destination:{bucket:"images.lumacdn.com",folder:"avatars"},createPresignedUrl:K.createPresignedUrl}),(0,a.jsx)(D.LuxInputField,{className:"flex-1",name:"name",placeholder:"Your Name",label:"Name"})]}),(0,a.jsx)(V.LuxSubmitButton,{label:"Save",fullWidth:!0})]})})})}):null};e.s(["ShareLinkInput",()=>G],907336);var Q=e.i(958925),H=e.i(715512);let G=e=>{let{urlToShare:t,description:s}=e,r=(0,A.useT)(),o=r({defaultMessage:"Share the link:",id:"o11nMX",description:"Share link input label."}),l=n.default.useRef(null),[d,c]=n.default.useState(!1);return(0,a.jsxs)("div",{className:"jsx-970ec539c941aff",children:[(0,a.jsx)(H.LuxInputLabel,{text:null!=s?s:o}),(0,a.jsx)(Q.default,{text:t,onCopy:()=>{var e;null==(e=l.current)||e.setSelectionRange(0,t.length),c(!0),setTimeout(()=>c(!1),2e3)},children:(0,a.jsxs)("div",{className:"jsx-970ec539c941aff ticket-share-url",children:[(0,a.jsx)("input",{type:"text",ref:l,value:t,readOnly:!0,onClick:e=>{e.currentTarget.setSelectionRange(0,t.length)},className:"jsx-970ec539c941aff lux-input"}),(0,a.jsx)("div",{className:"jsx-970ec539c941aff ticket-share-url-copy ml-2",children:(0,a.jsx)(b.LuxButton,{label:r(d?{defaultMessage:"Copied!",id:"wW22xm",description:"Share link input button label. Temporary state after copying."}:{defaultMessage:"Copy",id:"WgRgtG",description:"CTA button."}),color:"light"})})]})}),(0,a.jsx)(i.default,{id:"970ec539c941aff",children:".ticket-share-url.jsx-970ec539c941aff{flex-direction:row;align-items:stretch;display:flex}.ticket-share-url.jsx-970ec539c941aff input.jsx-970ec539c941aff{background-color:var(--input-bg-color);color:var(--secondary-color);line-height:var(--input-line-height);border-radius:var(--border-radius);border:1px solid var(--input-border-color);height:var(--input-height);padding:var(--input-padding);flex:1}"})]})}},881796,e=>{"use strict";e.s(["SocialShare",()=>j,"buildRedirectUrl",()=>T]);var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(476979),n=e.i(958925),r=e.i(566119),o=e.i(254662),l=e.i(82602),d=e.i(510011),c=e.i(101975),u=e.i(144152),m=e.i(535345),p=e.i(224307),f=e.i(75773),x=e.i(128039),h=e.i(86316),v=e.i(222236),g=e.i(581455);let y={[v.SharePlatform.Facebook]:{sharePrompt:e=>e({defaultMessage:"Share on Facebook",id:"QDpuFX",description:"CTA button."}),icon:(0,t.jsx)(d.default,{})},[v.SharePlatform.WhatsApp]:{sharePrompt:e=>e({defaultMessage:"Share on WhatsApp",id:"RHPEGH",description:"CTA button."}),icon:(0,t.jsx)(m.default,{}),onlyMobile:!0},[v.SharePlatform.Sms]:{sharePrompt:e=>e({defaultMessage:"Share via SMS",id:"7SB+Do",description:"CTA button."}),icon:(0,t.jsx)(f.default,{}),onlyMobile:!1},[v.SharePlatform.LinkedIn]:{sharePrompt:e=>e({defaultMessage:"Share on LinkedIn",id:"ARQxcL",description:"CTA button."}),icon:(0,t.jsx)(c.default,{})},[v.SharePlatform.Twitter]:{sharePrompt:e=>e({defaultMessage:"Share on X (Twitter)",id:"jeIVaw",description:"CTA button."}),icon:(0,t.jsx)(p.default,{})},[v.SharePlatform.Messenger]:{sharePrompt:e=>e({defaultMessage:"Share via Messenger",id:"PwkTZh",description:"CTA button."}),icon:(0,t.jsx)(u.default,{}),onlyMobile:!0}},b=[v.SharePlatform.Facebook,v.SharePlatform.Twitter,v.SharePlatform.LinkedIn,v.SharePlatform.Sms,v.SharePlatform.WhatsApp,v.SharePlatform.Messenger];function j(e){let{className:s,name:r,mode:d,hideClipboard:c,iconCls:u,path:m}=e,p=(0,h.useT)(),f=(0,o.useIsMobileBrowser)(),v="".concat(g.config.WEB_URL,"/").concat(m);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-e74beaadc8d93761 "+((0,i.default)("flex-start share-icons",u,s)||""),children:[b.map(e=>!f&&y[e].onlyMobile?null:(0,t.jsx)("div",{className:"jsx-e74beaadc8d93761 icon-wrapper",children:(0,t.jsx)(_,{platform:e,path:m,mode:d,name:r})},e)),!c&&(0,t.jsx)(n.default,{text:v,onCopy:()=>{(0,l.toastSuccess)(p({defaultMessage:"Copied to clipboard!",id:"9j0fO7"}))},children:(0,t.jsx)("button",{className:"jsx-e74beaadc8d93761 btn copy-btn flex-start",children:(0,t.jsx)(x.default,{})})})]}),(0,t.jsx)(a.default,{id:"e74beaadc8d93761",children:".share-icons.jsx-e74beaadc8d93761{display:inline-flex}.share-icons.jsx-e74beaadc8d93761 a{color:var(--tertiary-color-alpha)}.share-icons.jsx-e74beaadc8d93761 a:hover{color:var(--brand-color)}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761{color:var(--tertiary-color-alpha)}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:hover{color:var(--brand-color)}.share-icons.jsx-e74beaadc8d93761 svg{height:1.2rem}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761{padding:0}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:focus,.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:active{box-shadow:none}.share-icons.jsx-e74beaadc8d93761 .copy-btn.jsx-e74beaadc8d93761 svg{stroke-width:2.5px}.icon-wrapper.jsx-e74beaadc8d93761{margin-right:1rem}.icon-wrapper.jsx-e74beaadc8d93761:last-child{margin-right:0}"})]})}let _=e=>{let{platform:a,mode:i,name:s,path:n}=e,o=(0,h.useT)(),l=(0,v.getShareUrl)({name:s,mode:i,platform:a,path:n});return(0,t.jsx)(r.LuxTooltip,{content:y[a].sharePrompt(o),children:(0,t.jsx)("a",{className:"social-icon animated",target:"_blank",href:l,children:y[a].icon})})},w=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[i,...s]=t;for(let e of s)i+="/"+e.replace(/^\//,"");return i},T=e=>{let{platform:t,mode:a,name:i,path:n}=e;if(!n)return g.config.WEB_URL;let r=w(g.config.WEB_URL,n),o=(0,v.getShareText)({mode:a,name:i});if(o){let e=(e=>{let{platform:t,url:a,text:i}=e;switch(t){case v.SharePlatform.Facebook:return"https://www.facebook.com/sharer.php?".concat(s.default.stringify({u:a}));case v.SharePlatform.Twitter:return"https://twitter.com/intent/tweet?".concat(s.default.stringify({url:a,text:i,via:"LumaHQ"}));case v.SharePlatform.LinkedIn:return"https://www.linkedin.com/shareArticle?".concat(s.default.stringify({mini:!0,url:a}));case v.SharePlatform.WhatsApp:return"whatsapp://send?".concat(s.default.stringify({text:"".concat(i," ").concat(a)}));case v.SharePlatform.Messenger:return"fb-messenger://share?".concat(s.default.stringify({link:a}));case v.SharePlatform.Sms:return"sms:?&body=".concat(i," ").concat(a);case v.SharePlatform.Email:return"mailto:?&body=".concat(i," ").concat(a);default:return""}})({platform:t,url:r,text:o});if(e)return e.replace(/[^\x20-\x7e]/g,"")}return r}},405670,45591,628031,e=>{"use strict";e.s(["ShareEventModal",()=>T],405670);var t=e.i(391398),a=e.i(359626),i=e.i(476979),s=e.i(427133),n=e.i(992354),r=e.i(254662),o=e.i(405155),l=e.i(510011),d=e.i(101975),c=e.i(144152),u=e.i(535345),m=e.i(224307),p=e.i(340180),f=e.i(30424),x=e.i(45038),h=e.i(573862),v=e.i(86316),g=e.i(224631),y=e.i(222236),b=e.i(383294),j=e.i(907336),_=e.i(881796);let w=[{id:y.SharePlatform.Facebook,label:e=>e({defaultMessage:"Share",id:"L0qwSj",description:"Share event modal. CTA button to share on Facebook."}),icon:(0,t.jsx)(l.default,{})},{id:y.SharePlatform.Twitter,label:e=>e({defaultMessage:"Tweet",id:"67IR6S",description:"Share event modal. CTA button."}),icon:(0,t.jsx)(m.default,{})},{id:y.SharePlatform.LinkedIn,label:e=>e({defaultMessage:"Post",id:"RNrp1g",description:"Share event modal. CTA button to post on LinkedIn."}),icon:(0,t.jsx)(d.default,{})},{id:y.SharePlatform.Email,label:e=>e({defaultMessage:"Email",id:"bvd6V1",description:"Share event modal. CTA button to send an Email."}),icon:(0,t.jsx)(f.default,{}),preventOpeningInNewTab:!0},{id:y.SharePlatform.Native,label:e=>e({defaultMessage:"Share",id:"qGEVQ/",description:"Share event modal. CTA button to share natively."}),icon:(0,t.jsx)(h.default,{}),isSupported:"undefined"!=typeof navigator&&!!navigator.share,onClick:async e=>{let{name:t,mode:a,path:i}=e,s=(0,y.getShareText)({mode:a,name:t}),n=(0,_.buildRedirectUrl)({name:t,mode:a,platform:y.SharePlatform.Native,path:i});try{await navigator.share({text:s,url:n})}catch(e){}}},{id:y.SharePlatform.Sms,label:e=>e({defaultMessage:"Text",id:"QgwhZs",description:"Share event modal. CTA button to share via a text message."}),icon:(0,t.jsx)(p.default,{}),preventOpeningInNewTab:!0},{id:y.SharePlatform.Messenger,label:e=>e({defaultMessage:"Send",id:"1xYUNJ",description:"Share event modal. CTA button to send via Messenger."}),icon:(0,t.jsx)(c.default,{}),isSupported:(0,r.isMobileBrowser)()},{id:y.SharePlatform.WhatsApp,label:e=>e({defaultMessage:"Send",id:"d4MrTK",description:"Share event modal. CTA button to send via WhatsApp."}),icon:(0,t.jsx)(u.default,{}),isSupported:(0,r.isMobileBrowser)()}],T=e=>{let{event:r,ticketKey:l,show:d,onHide:c,title:u,description:m}=e,p=(0,v.useT)(),f=(e=>{let{event:t,ticketKey:a}=e,s=t.url,n=i.default.stringify({[g.EventReferral.REFERRED_BY_PARAM]:a||void 0});return n&&(s+="?".concat(n)),s})({event:r,ticketKey:l}),h="".concat(b.WEB_URL,"/").concat(f),_=y.ShareMode.JoinEvent,T=r.name,N=w.filter(e=>{var t;return null==(t=e.isSupported)||t}).slice(0,6);return(0,t.jsx)(n.LuxModalContainer,{onHide:c,variant:"compact",children:d&&(0,t.jsxs)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]]),children:[(0,t.jsx)(s.LuxAlertTop,{icon:(0,t.jsx)(x.default,{}),title:u,desc:m,className:"mb-2"}),(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-section",children:(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-platforms",children:N.map(e=>{let{onClick:i,...s}=e;return(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-platform",children:(0,t.jsx)(k,{icon:s.icon,label:s.label(p),color:s.color,target:s.preventOpeningInNewTab?void 0:"_blank",href:i?void 0:(0,y.getShareUrl)({name:T,mode:_,platform:s.id,path:f}),onClick:()=>{null==i||i({name:T,mode:_,path:f})}})},s.id)})})}),(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" mt-3",children:(0,t.jsx)(j.ShareLinkInput,{urlToShare:h})}),(0,t.jsx)(a.default,{id:"91531a9a8907c679",dynamic:[o.ResponsiveBreakpoint.tiny],children:".share-modal-section.__jsx-style-dynamic-selector{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}.share-modal-section.__jsx-style-dynamic-selector:last-child{border-bottom:0;margin-bottom:0}.share-modal-platforms.__jsx-style-dynamic-selector{grid-template-columns:repeat(5,1fr);display:grid}@media (max-width:".concat(o.ResponsiveBreakpoint.tiny,"){.share-modal-platforms.__jsx-style-dynamic-selector{grid-template-columns:repeat(3,1fr)}}")})]})})},k=e=>{let{icon:i,label:s,color:n,...r}=e;return(0,t.jsxs)("a",{...r,className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" "+(r&&null!=r.className&&r.className||"share-platform"),children:[(0,t.jsx)("div",{className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" share-platform-icon mb-25",children:i}),(0,t.jsx)("div",{className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" share-platform-label fs-sm",children:s}),(0,t.jsx)(a.default,{id:"fa7f5da51cb316a0",dynamic:[n||"var(--secondary-color)"],children:".share-platform.__jsx-style-dynamic-selector{color:".concat(n||"var(--secondary-color)",";border-radius:var(--border-radius);flex-direction:column;align-items:center;padding:1rem .25rem .5rem;display:flex}.share-platform.__jsx-style-dynamic-selector:hover{background:var(--hover-bg-color)}.share-platform.__jsx-style-dynamic-selector svg{width:2rem;height:2rem}")})]})};e.s(["CalendarButtons",()=>P],45591);var N=e.i(272043),C=e.i(961455),S=e.i(408510),E=e.i(62208),A=e.i(462974),M=e.i(494948);let P=e=>{let{size:i="small",onClickCalendar:s}=e,n=[{name:(0,v.useT)()({defaultMessage:"Google Calendar",id:"kjenxG"}),type:M.CalendarPlatform.Google,icon:(0,t.jsx)(C.default,{})},{name:"Yahoo",type:M.CalendarPlatform.Yahoo,icon:(0,t.jsx)(E.default,{})},{name:"Outlook.com",type:M.CalendarPlatform.Outlook,icon:(0,t.jsx)(S.default,{})},{name:"iCal (Apple / Outlook)",type:M.CalendarPlatform.Apple,icon:(0,t.jsx)(A.default,{})}];return(0,t.jsxs)("div",{className:"jsx-d6ffadba02ec7036 flex-column gap-2",children:[n.map(e=>(0,t.jsxs)("button",{onClick:()=>s(e.type),className:"jsx-d6ffadba02ec7036 "+((0,N.default)("btn with-svg svg-left cal-btn ".concat(e.type,"-cal-btn"),i)||""),children:[e.icon,(0,t.jsx)("span",{className:"jsx-d6ffadba02ec7036",children:e.name})]},e.type)),(0,t.jsx)(a.default,{id:"d6ffadba02ec7036",children:".cal-btn.jsx-d6ffadba02ec7036{text-align:center;width:100%}.cal-btn.jsx-d6ffadba02ec7036 .jsx-d6ffadba02ec7036{pointer-events:none}.cal-btn.jsx-d6ffadba02ec7036:focus,.cal-btn.jsx-d6ffadba02ec7036:active{box-shadow:none}.cal-btn.medium.jsx-d6ffadba02ec7036{padding:.375rem .5rem}.google-cal-btn.jsx-d6ffadba02ec7036{color:#4f82e6;background-color:rgba(79,130,230,.133)}.google-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#4f82e6}.apple-cal-btn.jsx-d6ffadba02ec7036{color:#86868b;background-color:rgba(134,134,139,.133)}.apple-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#86868b}.outlook-cal-btn.jsx-d6ffadba02ec7036{color:#f5bc45;background-color:rgba(245,188,69,.133)}.outlook-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#f5bc45}.yahoo-cal-btn.jsx-d6ffadba02ec7036{color:#571dca;background-color:#ebe0ff}.yahoo-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#571dca}"})]})};e.s(["Base11Card",()=>R],628031);let R=e=>{let{children:i}=e;return(0,t.jsxs)("div",{className:"jsx-8a4601317127ef46 base-11-card",children:[i,(0,t.jsx)(a.default,{id:"8a4601317127ef46",children:".base-11-card.jsx-8a4601317127ef46{padding:var(--event-card-padding);background-color:var(--one-to-one-card-bg-color);border:1px solid var(--one-to-one-card-border-color);border-radius:var(--card-border-radius);-webkit-backdrop-filter:var(--card-backdrop-filter);backdrop-filter:var(--card-backdrop-filter);box-shadow:var(--one-to-one-card-shadow)}"})]})}},371593,445730,108770,21316,438361,717063,587987,214371,517254,666172,615198,e=>{"use strict";e.s(["RegOrPostRegCard",()=>sn],371593);var t,a=e.i(391398),i=e.i(171548),s=e.i(359626),n=e.i(272043);e.i(89695);var r=e.i(103800),o=e.i(191788),l=e.i(344731),d=e.i(684412),c=e.i(164930),u=e.i(713189),m=e.i(427133),p=e.i(424017),f=e.i(31197),x=e.i(992354),h=e.i(370612),v=e.i(826420),g=e.i(254662),y=e.i(106946),b=e.i(426426),j=e.i(405155),_=e.i(988124),w=e.i(99354),T=e.i(96203),k=e.i(193354),N=e.i(462974),C=e.i(438728),S=e.i(592496),E=e.i(135959),A=e.i(212511),M=e.i(903910),P=e.i(23015),R=e.i(572721),L=e.i(279639),I=e.i(258070),q=e.i(482848),B=e.i(928541),U=e.i(987345),F=e.i(949764),z=e.i(922323),O=e.i(86316),D=e.i(655794),W=e.i(9572),V=e.i(386595),K=e.i(257983),Y=e.i(136266),Q=e.i(64964),H=e.i(657896),G=e.i(443415),Z=e.i(723053),J=e.i(442357),X=e.i(353775),$=e.i(761619),ee=e.i(829900),et=e.i(603149),ea=e.i(687836),ei=e.i(561985),es=e.i(312455),en=e.i(679476),er=e.i(405670),eo=e.i(348688),el=e.i(45591),ed=e.i(628031),ec=e.i(188795),eu=e.i(538865),em=e.i(497061),ep=e.i(315912),ef=e.i(715512),ex=e.i(224950),eh=e.i(883720),ev=e.i(355521),eg=e.i(82602),ey=e.i(988353),eb=e.i(584974),ej=e.i(851800),e_=e.i(145897),ew=e.i(692303),eT=e.i(558573);e.s(["CheckoutButtonSection",()=>e9],108770);var ek=e.i(145876),eN=e.i(206046),eC=e.i(431275),eS=e.i(361941),eE=e.i(498643),eA=e.i(581254);e.s(["PaymentMethodKind",()=>eP,"handlePaymentError",()=>eI],445730);var eM=e.i(109001),eP=function(e){return e.SavedCard="saved-card",e.NewCard="new-card",e.Other="other",e}({});let eR=new Set(["amount_too_large","amount_too_small","card_declined","email_invalid","expired_card","incorrect_cvc","incorrect_number","incorrect_zip","invalid_card_type","invalid_characters","invalid_expiry_month","invalid_expiry_year","postal_code_invalid"]);class eL extends Error{}let eI=e=>{var t,a,i;let{error:s,t:n}=e;if(console.error(s),!(s instanceof eL)){if("validation_error"===s.type||"card_error"===s.type)return void(0,eg.toastError)(s.message);s instanceof eM.FetchError&&s.status<500?(0,eg.toastError)(s.message):(null==(t=s.response)?void 0:t.status)<500&&(null==(i=s.response)||null==(a=i.data)?void 0:a.message)?(0,eg.toastError)(s.response.data.message):s.code&&s.message&&eR.has(s.code)?(0,eg.toastError)(s.message):(0,eg.toastError)(n({defaultMessage:"We encountered an issue processing your payment.",id:"ZmJh8d",description:"Payment error toast."}))}};var eq=e.i(746349),eB=e.i(139681),eU=e.i(89685),eF=e.i(219769);class ez extends Error{constructor(e){super(e),(0,eq._)(this,"skipToast",void 0),this.name="LocalWalletError",this.skipToast=!1}}let eO=e=>{let{disabled:t,payment_currency:i}=e,s=(0,O.useT)(),n=(0,y.useModalState)(),{errors:r,submitCount:l,isSubmitting:d,handleSubmit:c}=(0,eu.useFormikContext)(),u=l>0&&!(0,eU.isEmpty)(r),m=(0,o.useRef)(null),f=(0,o.useCallback)(()=>new Promise((e,t)=>{m.current={resolve:e,reject:t},n.onShow()}),[n]),x=(0,o.useCallback)(e=>{m.current&&(m.current.resolve(e),m.current=null),n.onHide()},[n]),h=(0,o.useCallback)(()=>{if(m.current){let e=new ez("You did not choose a wallet.");e.skipToast=!0,m.current.reject(e),m.current=null}n.onHide()},[n]),v=(0,o.useCallback)(async e=>{e.preventDefault(),d||await (0,_.callWithToast)(async()=>{let e=await f(),{wallet:t}=await e.connect();window.paymentInfo={platform:"crypto",wallet_connection:e,solana_address:t,payment_currency:i},c()},{error:s({defaultMessage:"There was an issue connecting to your wallet.",id:"U2y+kt",description:"Error message when there was an issue connecting to your wallet."})})},[f,c,d,s,i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.LuxButton,{onClick:v,disabled:d||u||t,label:s({defaultMessage:"Pay with Wallet",id:"zXo0lG",description:"Button CTA to pay with a crypto wallet like Metamask."}),fullWidth:!0,icon:(0,a.jsx)(eB.SolanaBrandIcon,{}),color:"solana",loading:d}),(0,a.jsx)(eF.ChooseSolanaWalletModal,{show:n.show,onHide:h,onConnect:x})]})};var eD=e.i(569644),eW=e.i(279905),eV=e.i(255941),eK=e.i(620317),eY=e.i(726256),eQ=e.i(861365),eH=e.i(581455);let eG=e=>{let{stripeAccountId:t,currency:i,paymentFor:s,children:n,config:l}=e,{isLoading:d,info:c}=(e=>{let{stripeAccountId:t,currency:a,paymentFor:i,config:s}=e,n=(0,v.useBoolean)(!0),[l,d]=(0,o.useState)(null),c=(0,eK.default)(s),u=(0,o.useCallback)(async e=>{let{cents:i,paymentFor:o}=e;if(!i||i<=0){d(null),n.setFalse();return}l&&l.payment_request.update({total:{label:o,amount:i}});try{let e=t!==eH.config.STRIPE_PLATFORM_ACCOUNT_ID,n=(await (0,eV.loadStripe)(eH.config.STRIPE_PUBLIC_KEY,{stripeAccount:e?t:void 0})).paymentRequest({country:"US",currency:a||eS.Currency.USD,total:{label:o,amount:i},requestPayerEmail:!0,disableWallets:["link"],applePay:(e=>{let{config:t,paymentFor:a,cents:i}=e;if("subscription"===t.mode)return{recurringPaymentRequest:{paymentDescription:a,managementURL:t.managementURL,regularBilling:{amount:i,label:"Subscription Fee",recurringPaymentIntervalUnit:t.cadence}}};if("payment_authorization"===t.mode){let e=r.DateTime.fromISO(t.payment_date),s=r.DateTime.now().plus({days:30});return{deferredPaymentRequest:{paymentDescription:a,managementURL:window.location.href,deferredBilling:{amount:i,label:a,deferredPaymentDate:(e>s?e:s).toJSDate()}}}}})({config:s,paymentFor:o,cents:i})}),l=await n.canMakePayment();l&&(l.applePay||l.googlePay)&&d({payment_request:n,type:l.applePay?"apple_pay":"google_pay"})}finally{n.setFalse()}},[n,a,t,l,c]);return(0,o.useEffect)(()=>{u({cents:"payment"===s.mode||"payment_authorization"===s.mode||"subscription"===s.mode?s.amount:null,paymentFor:i})},[c,i]),{isLoading:n.value,info:l}})({stripeAccountId:t,currency:i,paymentFor:s,config:l});return(0,a.jsx)(a.Fragment,{children:n({isLoading:d,info:c,stripeAccountId:t})})},eZ=e=>{let{info:t,className:i,disabled:n,entity:r}=e,{handleSubmit:o,isSubmitting:l}=(0,eu.useFormikContext)(),d=(0,v.useBoolean)(),c=(0,eW.useElements)(),u=(0,eW.useStripe)(),m=async e=>{if(e.preventDefault(),l||!c||!u)return;d.setTrue();let{payment_method_id:a}=await eJ({paymentRequest:t.payment_request});window.paymentInfo={platform:"stripe",elements:c,stripe:u,payment_method:{id:a,type:"card",source:"apple_pay"===t.type?"apple-pay":"google-pay"},entity:r},o()};return(0,a.jsxs)("div",{className:"jsx-7e37f05d28349dab "+(i||""),children:[(0,a.jsx)(p.LuxButton,{className:"native-pay-button",icon:"apple_pay"===t.type?(0,a.jsx)(eY.default,{}):(0,a.jsx)(eQ.default,{}),iconPlacement:"icon-only",label:"apple_pay"===t.type?"Apple Pay":"Google Pay",disabled:n,loading:l&&d.value,onClick:m,hideTooltipForIconOnly:!0,fullWidth:!0}),(0,a.jsx)(s.default,{id:"7e37f05d28349dab",children:".native-pay-button svg{width:auto;height:1.125rem}"})]})},eJ=async e=>{let{paymentRequest:t}=e;return t.show(),await new Promise((e,a)=>{t.on("cancel",()=>{a()}),t.on("paymentmethod",async t=>{try{var i,s;t.complete("success"),e({payment_method_id:t.paymentMethod.id,email:null!=(i=t.payerEmail)?i:null,name:null!=(s=t.payerName)?s:null})}catch(e){console.error(e),t.complete("fail"),a(e)}})})};var eX=e.i(801560),e$=e.i(638892);let e0=e=>{var t,i;let{alternativePaymentTypes:r,className:l,disabled:d,label:c,paymentMethod:u,savedCards:m,setPaymentMethod:p}=e,f=(0,O.useT)(),x=(0,v.useBoolean)(!1),h=(0,o.useCallback)(e=>{let t=m.find(t=>t.id===e);t?p({kind:eP.SavedCard,card:t}):r.includes(e)?p({kind:eP.Other,type:e}):p({kind:eP.NewCard})},[r,m,p]),g=(0,o.useMemo)(()=>{let e=[];return m.length>0&&(e.push({type:"header",name:f({defaultMessage:"Saved Cards",id:"Tn2ZTy",description:"Header for user saved credit cards for payment."}),isAccessory:!0}),e.push(...m.map(e=>{var t,i,s;return{key:e.id,name:(0,a.jsx)("span",{className:"mono-number",children:(e.nickname?e.nickname:(0,e$.paymentMethodName)({type:"card",brand:null==(t=e.card)?void 0:t.brand,t:f}))+((null==(i=e.card)?void 0:i.last4)?" •••• ".concat(e.card.last4):"")}),icon:(0,a.jsx)(e$.PaymentMethodIcon,{type:"card",brand:null==(s=e.card)?void 0:s.brand,width:20}),onClick:()=>{h(e.id)}}})),0===r.length&&e.push({type:"divider",isAccessory:!0})),m.length>0&&r.length>0&&e.push({type:"header",name:f({defaultMessage:"Other Payment Methods",id:"xFBXOu",description:"Header for payment methods other than saved cards."}),isAccessory:!0}),e.push({key:eP.NewCard,name:m.length>0?f({defaultMessage:"New Credit or Debit Card",id:"vos7f+",description:"Label in payment selector for choosing to enter a new credit card."}):f({defaultMessage:"Credit or Debit Card",id:"fczAPH",description:"Label for card payment method."}),icon:(0,a.jsx)(e$.PaymentMethodIcon,{type:"card",brand:null,width:20}),onClick:()=>{h(eP.NewCard)}}),r.length>0&&e.push(...r.sort((e,t)=>{let a=eE.PaymentMethodTypeToInfo[e].title,i=eE.PaymentMethodTypeToInfo[t].title;return a.localeCompare(i)}).map(e=>({key:e,name:eE.PaymentMethodTypeToInfo[e].title,icon:(0,a.jsx)(e$.PaymentMethodIcon,{type:e,brand:null,width:20}),onClick:()=>{h(e)}}))),e},[m,r,f,h]),y=(0,o.useMemo)(()=>u.kind===eP.SavedCard?u.card.id:u.kind===eP.Other?u.type:eP.NewCard,[u]),b=u.kind===eP.Other?u.type:"card",j=u.kind===eP.SavedCard?null==(t=u.card.card)?void 0:t.brand:null;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eX.LuxMenu,{checkmarkPosition:"right",trigger:(0,a.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 "+((0,n.default)("highlight-label lux-input-wrapper",{disabled:d,focused:x.value},l)||""),children:[c&&(0,a.jsx)(ef.LuxInputLabel,{text:c}),(0,a.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 payment-selector flex-center full-width lux-input gap-2",children:[(0,a.jsx)(e$.PaymentMethodIcon,{type:b,brand:j,width:28}),(0,a.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 flex-1 flex-center gap-1",children:[(0,a.jsx)("span",{className:"jsx-5ae6f0a2bac50102 text-ellipses",children:u.kind===eP.SavedCard&&u.card.nickname?u.card.nickname:(0,e$.paymentMethodName)({type:b,brand:j,t:f})}),u.kind===eP.SavedCard&&(0,a.jsx)(e$.CreditCardLast4,{last4:null==(i=u.card.card)?void 0:i.last4})]}),(0,a.jsx)("div",{className:"jsx-5ae6f0a2bac50102 chevron flex-shrink-0 animated",children:(0,a.jsx)(E.default,{})})]})]}),open:x.value,setOpen:x.setValue,selectedKey:y,rows:g,placement:"bottom",fullWidth:!0,showArrow:!1,allowFlip:!1}),(0,a.jsx)(s.default,{id:"5ae6f0a2bac50102",children:".payment-selector.jsx-5ae6f0a2bac50102{padding:var(--input-vertical-padding)}.payment-selector.jsx-5ae6f0a2bac50102 .lux-menu-item .menu-icon{width:auto}.lux-input-wrapper.disabled.jsx-5ae6f0a2bac50102{pointer-events:none}.chevron.jsx-5ae6f0a2bac50102{color:var(--opacity-32)}.lux-input-wrapper.jsx-5ae6f0a2bac50102:hover .chevron.jsx-5ae6f0a2bac50102{color:var(--secondary-color-alpha)}.lux-input-wrapper.focused.jsx-5ae6f0a2bac50102 .lux-input.jsx-5ae6f0a2bac50102{background-color:var(--input-focus-bg-color);border-color:var(--input-focus-border-color)}.lux-input-wrapper.focused.jsx-5ae6f0a2bac50102 .chevron.jsx-5ae6f0a2bac50102{color:var(--input-focus-border-color)}"})]})};var e2=e.i(275885);let e1=e=>{let{currentPaymentCard:t,disabled:i,entity:s,config:n}=e,{errors:r,submitCount:o,isSubmitting:l,handleSubmit:d}=(0,eu.useFormikContext)(),c=o>0&&!(0,eU.isEmpty)(r),u=(0,eW.useElements)(),m=(0,eW.useStripe)(),f=!u||!m,x=(0,v.useBoolean)(),h=(0,O.useT)(),g=async e=>{if(e.preventDefault(),l||!u||!m)return;x.setTrue();let{error:a}=await (0,_.callWithToast)(async()=>{if(t)window.paymentInfo={platform:"stripe",elements:u,stripe:m,entity:s,payment_method:{type:"card",source:"saved-card",id:t.id}};else{let e=u.getElement(eW.CardElement),{error:t,paymentMethod:a}=await m.createPaymentMethod({type:"card",card:e});if(t)throw t;window.paymentInfo={platform:"stripe",elements:u,stripe:m,entity:s,payment_method:{type:"card",source:"new-card",id:a.id}}}d()},{error:e=>{var t;return null!=(t=e.message)?t:h({defaultMessage:"There was an issue processing that card.",id:"/dlNrL",description:"Payment error toast."})}});if(a)if("type"in a){if("validation_error"===a.type)return;e2.captureException(Error("Payment error: ".concat(a.type).concat(a.code?" (".concat(a.code,")"):"")),{extra:{stripeError:a}})}else e2.captureException(a)};return(0,a.jsx)(p.LuxButton,{type:"button",onClick:g,disabled:l||c||f||i,label:n.buttonCta?n.buttonCta:h({defaultMessage:"Pay with Card",id:"xfRXV0",description:"Button on checkout form."}),loading:l&&x.value,color:"brand",fullWidth:!0})};var e5=e.i(334311),e7=e.i(964162);let e4=e=>{let{message:t}=e,i=(0,O.useT)();return(0,a.jsxs)("div",{className:"jsx-273d4778f7930fa6 no-payment text-warning",children:[(0,a.jsx)("div",{className:"jsx-273d4778f7930fa6 icon",children:(0,a.jsx)(e7.default,{})}),(0,a.jsx)("div",{className:"jsx-273d4778f7930fa6 fs-sm",children:null!=t?t:i({defaultMessage:"There is a problem and we are currently unable to collect payments.",id:"fGvaW9"})}),(0,a.jsx)(s.default,{id:"273d4778f7930fa6",children:".no-payment.jsx-273d4778f7930fa6{background-color:var(--warning-pale-bg-color);border-radius:var(--card-border-radius);padding:1rem 1.125rem}.no-payment.jsx-273d4778f7930fa6 .icon.jsx-273d4778f7930fa6{margin-bottom:.625rem}.no-payment.jsx-273d4778f7930fa6 svg{width:2rem;height:2rem}"})]})};var e6=e.i(824015);let e3=e=>{let{stripeAccountId:t,currency:i,entity:s,payment_method_types:n,config:r}=e,{isDark:l}=(0,o.useContext)(e6.LightnessContext);return(0,a.jsx)(e5.StripeElementsProvider,{stripeAccount:t,options:{mode:"payment_authorization"===r.mode?"payment":r.mode,currency:i||eS.Currency.USD,amount:"setup"===r.mode?void 0:r.amount,setup_future_usage:"payment_authorization"===r.mode?"off_session":void 0,capture_method:"payment_authorization"===r.mode?"manual":void 0,appearance:{theme:l?"night":"stripe",variables:{fontSizeBase:"16px",spacingUnit:"0.25rem",borderRadius:"0.5rem",colorPrimary:l?"#F6539D":"#F31A7C",colorBackground:l?"#313335":"#E7E8E9"},rules:{".AccordionItem":{backgroundColor:"none",boxShadow:"none",borderColor:l?"#313335":"#E7E8E9",borderRadius:"1rem"},".Input":{boxShadow:"none",padding:"0.625rem 0.875rem",borderWidth:"0"},".Label":{fontSize:"0.875rem",fontWeight:"500",color:l?"#D1D1D1":"#656668",marginBottom:"0.375rem"}}},payment_method_types:n},children:(0,a.jsxs)("div",{className:"flex-column gap-4",children:[(0,a.jsx)(eW.PaymentElement,{options:{layout:"tabs",fields:{billingDetails:{name:"never",email:"never"}}}}),(0,a.jsx)(e8,{config:r,entity:s,payment_method_types:n})]})})},e8=e=>{let{config:t,entity:i,payment_method_types:s}=e,{errors:n,submitCount:r,isSubmitting:o,handleSubmit:l}=(0,eu.useFormikContext)(),d=r>0&&!(0,eU.isEmpty)(n),c=(0,O.useT)(),u=(0,eW.useElements)(),m=(0,eW.useStripe)(),f=(0,v.useBoolean)(),x=async e=>{if(e.preventDefault(),o)return;if(!u||!m)return void(0,eg.toastError)(c({defaultMessage:"Our payment provider failed to load. Please try again.",id:"etyf9c",description:"Event checkout. Error toast message."}));let{error:t}=await u.submit();if(t){e2.captureException(t),(0,eg.toastError)(c({defaultMessage:"There was a problem processing your payment.",id:"WCZdE2",description:"Event checkout. Error toast message."}));return}f.setTrue(),window.paymentInfo={platform:"stripe",stripe:m,elements:u,entity:i,payment_method:{source:"payment-element",id:null,types:s}},l()};return(0,a.jsx)(p.LuxButton,{label:t.buttonCta?t.buttonCta:c({defaultMessage:"Submit Payment",description:"Event checkout. CTA for the payment button.",id:"g+ka+Q"}),color:"brand",loading:o,disabled:d,onClick:x,fullWidth:!0})},e9=e=>(0,a.jsx)(e5.StripeElementsProvider,{children:(0,a.jsx)(te,{...e})}),te=e=>{var t;let{config:i,currency:s,disabled:n,entity:r,exclude_saved_payment_methods:l,stripeAccountId:d,acceptUsdcForUsd:c,sellerEntity:u}=e,{isSubmitting:m}=(0,eu.useFormikContext)(),{savedCards:p,paymentMethod:f,setPaymentMethod:x,isLoading:h}=(e=>{var t;let{entity:a,exclude_saved_payment_methods:i,currency:s}=e,{user:n}=(0,ee.useUserContext)(),{data:r}=(0,eA.useAPI)("user"===a.type?{path:"/payments/payment-methods",pause:!n}:{path:"/calendar/admin/plus/get-payment-methods",args:{calendar_api_id:a.calendar_api_id}}),l=eS.CryptoCurrencies.has(s),[d,c]=(0,o.useState)(l?{kind:eP.Other,type:eE.PaymentMethodType.Crypto_Solana}:{kind:eP.NewCard});return(0,o.useEffect)(()=>{i||c(e=>e.kind===eP.NewCard&&(null==r?void 0:r.default_payment_method)?{kind:eP.SavedCard,card:r.default_payment_method}:e)},[r]),{isLoading:!!(!r&&n),paymentMethod:d,setPaymentMethod:c,savedCards:i?[]:null!=(t=null==r?void 0:r.payment_methods)?t:[]}})({entity:r,exclude_saved_payment_methods:l,currency:s}),v=eS.CryptoCurrencies.has(s),g=(0,eC.useDebounce)(i,500),{data:y}=(0,eA.useAPI)({path:"/payments/get-payment-method-types",args:{amount:null!=(t=g.amount)?t:0,currency:s,separate_authorize_and_capture:"payment_authorization"===g.mode,support_off_session:"setup"===g.mode,...u},swrConfig:{revalidateOnFocus:!1,revalidateOnReconnect:!1}}),b=(0,o.useMemo)(()=>{var e;if(eS.CryptoCurrencies.has(s))return[];let t=null!=(e=null==y?void 0:y.payment_methods)?e:[];return c&&s===eS.Currency.USD&&!t.includes(eE.PaymentMethodType.Crypto_USDC)&&"payment"===i.mode&&(t=[...t,eE.PaymentMethodType.Crypto_USDC]),t},[c,s,null==y?void 0:y.payment_methods,i.mode]),j=p.length>0,_=b.length>0,w=!!((j||_)&&!v&&d),T=ta(f);return((0,o.useEffect)(()=>{eS.CryptoCurrencies.has(s)?"stripe"===T&&x({kind:eP.Other,type:eE.PaymentMethodType.Crypto_Solana}):"crypto"===T&&x({kind:eP.NewCard})},[s]),("payment"===i.mode||"payment_authorization"===i.mode)&&i.amount<=0)?null:h?(0,a.jsx)(eN.Shimmer,{width:"100%",height:"var(--input-height)"}):(0,a.jsxs)("div",{children:[w&&(0,a.jsx)(e0,{className:"full-width",disabled:m,savedCards:null!=p?p:[],paymentMethod:f,setPaymentMethod:x,alternativePaymentTypes:null!=b?b:[]}),"stripe"===T?(0,a.jsx)(tt,{...e,paymentMethod:f,canChoosePaymentMethod:w}):(0,a.jsx)("div",{className:w?"pt-3":"",children:(0,a.jsx)(eO,{disabled:n,payment_currency:f.kind===eP.Other&&f.type===eE.PaymentMethodType.Crypto_USDC?eS.Currency.SOL_USDC:null})}),i.disclaimer&&(0,a.jsx)("div",{className:"text-secondary-alpha fs-xs pt-2 mt-1 text-center",children:i.disclaimer})]})},tt=e=>{let{paymentMethod:t,stripeAccountId:i,currency:s,entity:n,disabled:r,config:o,canChoosePaymentMethod:l,noStripeWarningMessage:d,paymentFor:c}=e;return i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.LuxCollapse,{show:[eP.NewCard,eP.SavedCard].includes(t.kind),children:(0,a.jsxs)("div",{className:l?"pt-3":"",children:[(0,a.jsx)(f.LuxCollapse,{show:t.kind===eP.NewCard,children:(0,a.jsx)(ti,{className:"pb-3"})}),(0,a.jsx)(e1,{entity:n,config:o,currentPaymentCard:t.kind===eP.SavedCard?t.card:null,disabled:r})]})}),(0,a.jsx)(ek.LuxAnimateIn,{children:t.kind===eP.Other&&(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(e3,{payment_method_types:t.kind===eP.Other?[t.type]:[],config:o,stripeAccountId:i,currency:s,entity:n})})}),(0,a.jsx)(eG,{config:o,stripeAccountId:i,paymentFor:c,currency:s,children:e=>{let{isLoading:t,info:i}=e;return t||!i?null:(0,a.jsx)("div",{className:"pt-25",children:(0,a.jsx)(eZ,{info:i,disabled:r,entity:n},"native-controls")})}})]}):(0,a.jsx)(e4,{message:d})},ta=e=>e.kind===eP.SavedCard||e.kind===eP.NewCard?"stripe":eE.PaymentMethodTypeToInfo[e.type].platform,ti=e=>{let{className:t}=e,{isSubmitting:i}=(0,eu.useFormikContext)(),[s,n]=(0,o.useState)(!1),r=(0,O.useT)();return(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)(ef.LuxInputLabel,{text:r({defaultMessage:"Credit or Debit Card *",id:"Uj5xzn"}),focused:s}),(0,a.jsx)(eD.CreditCardInput,{disabled:i,onFocus:()=>n(!0),onBlur:()=>n(!1)})]})};e.s(["PaymentError",()=>ts,"confirmPaymentIntent",()=>tn],21316);class ts extends Error{constructor(e){super(null!=e?e:"Your payment failed."),this.name="PaymentError",Object.setPrototypeOf(this,ts.prototype)}}let tn=async e=>{let{client_secret:t,stripe_account_id:a,payment_method_id:i,payment_info:s,only_authorize:n}=e;if("stripe"!==s.platform)throw new ts("We were not able to complete the payment.");if("payment-element"===s.payment_method.source){var r;let{elements:e,stripe:a,entity:i}=s,{error:n}=await a.confirmPayment({elements:e,clientSecret:t,redirect:"if_required",confirmParams:{return_url:document.location.href,payment_method_data:{billing_details:{email:i.email,name:null!=(r=i.name)?r:""}}}});if(n)throw n;return}let o=await (0,eV.loadStripe)(eH.config.STRIPE_PUBLIC_KEY,{stripeAccount:a}),{paymentIntent:l,error:d}=await o.confirmCardPayment(t,{payment_method:i});if(d)throw new ts(d.message);if(n){if("requires_capture"!==l.status)throw new ts("We were not able to authorize the payment.")}else if("succeeded"!==l.status)throw new ts("We were not able to complete the payment.")};var tr=e.i(90618),to=e.i(977470),tl=e.i(639298);e.s(["EnsureSignedIn",()=>tc],438361);var td=e.i(152790);let tc=e=>{let{children:t}=e,{user:i}=(0,ee.useUserContext)(),s=(0,y.useModalState)(),n=(0,o.useRef)(null),r=(0,o.useRef)(null),l=(0,o.useCallback)(async()=>{if(!s.show&&!i)return new Promise((e,t)=>{n.current=e,r.current=t,s.onShow()})},[s,i]);return(0,a.jsxs)(a.Fragment,{children:[t({ensureSignedIn:l}),(0,a.jsx)(td.SignInModal,{canClickOutToDismiss:!0,show:s.show,onHide:()=>{var e;s.onHide(),null==(e=r.current)||e.call(r)},onSignIn:()=>{var e;null==(e=n.current)||e.call(n)}})]})};e.s(["ContactHostButton",()=>tx,"ContactHostForm",()=>tv,"ContactHostModal",()=>th],717063);var tu=e.i(522476),tm=e.i(897983),tp=e.i(231436);let tf=e=>e({defaultMessage:"Contact the Host",id:"TaptBu",description:"Label for contacting the host of an event."}),tx=()=>{let e=(0,y.useModalState)(),t=(0,O.useT)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tc,{children:i=>{let{ensureSignedIn:s}=i;return(0,a.jsx)(p.LuxButton,{color:"secondary",variant:"link",size:"small",label:tf(t),onClick:async()=>{await s(),e.onShow()}})}}),(0,a.jsx)(th,{...e})]})},th=e=>{let{show:t,onHide:i}=e,{user:s}=(0,ee.useUserContext)(),n=(0,O.useT)();if(s)return(0,a.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(m.LuxAlertTop,{title:tf(n),icon:(0,a.jsx)(tm.default,{}),desc:n({defaultMessage:"Have a question about the event? You can send a message to the host.",id:"VhkxtH",description:"Description for contact host modal."})}),(0,a.jsx)(tv,{onSubmit:i})]})})},tv=e=>{let{placeholder:t,onSubmit:s}=e,{event:n}=(0,i.useEventPageContext)(),{user:r}=(0,ee.useUserContext)(),{waitForTurnstile:o}=(0,tp.useCaptchaContext)(),l=(0,O.useT)();if(r)return(0,a.jsx)(eu.Formik,{initialValues:{message:""},onSubmit:async e=>{await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/events/message-host",{event_api_id:n.api_id,message:e.message},{waitForTurnstile:o}),s()},{success:l({defaultMessage:"Your message is on its way to the host!",id:"Gv3uOF",description:"Success toast message."}),error:l({defaultMessage:"There was an error sending your message.",id:"lirBnv",description:"Error toast message."})})},children:(0,a.jsxs)(eu.Form,{className:"flex-column gap-2 mt-3",children:[(0,a.jsx)(tu.LuxTextareaField,{name:"message",placeholder:t||l({defaultMessage:"What’s your question for the host?",id:"ZAM5Yz",description:"Placeholder text for contact host input."}),minRows:3,required:!0,autoFocus:!0}),(0,a.jsx)("div",{className:"text-tertiary-alpha fs-xs",children:(0,a.jsx)(z.T,{defaultMessage:"The host will send replies to {email}.",id:"bJ5lPG",description:"Text for contact host modal.",values:{email:(0,a.jsx)("span",{className:"fw-medium",children:r.email})}})}),(0,a.jsx)(eh.LuxSubmitButton,{className:"mt-2",label:l({defaultMessage:"Send Message",id:"wCIpLl",description:"Label for CTA to send a message."}),fullWidth:!0})]})})},tg=()=>{let e=(0,y.useModalState)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.T,{defaultMessage:"This event is currently not configured to accept payments. If you believe this to be an error, please <contact>contact the host</contact>.",id:"Y23YQf",description:"Shown when payment is not configured for an event.",values:{contact:t=>(0,a.jsx)(tc,{children:i=>{let{ensureSignedIn:s}=i;return(0,a.jsx)("button",{type:"button",onClick:async()=>{await s(),e.onShow()},className:"jsx-5270e2a9219c203b button-reset link fw-medium animated",children:t})}},"contact")}}),(0,a.jsx)(th,{...e}),(0,a.jsx)(s.default,{id:"5270e2a9219c203b",children:".link.jsx-5270e2a9219c203b{border-bottom:1px solid var(--warning-pale-bg-color)}.link.jsx-5270e2a9219c203b:hover{color:var(--warning-active-color);border-bottom-color:var(--warning-active-color)}"})]})},ty=e=>{let{label:t,price:i,desc:n}=e;return(0,a.jsxs)("div",{className:"jsx-59b782d3edeee115 price-display",children:[(0,a.jsx)("div",{className:"jsx-59b782d3edeee115 fs-sm text-tinted",children:t}),(0,a.jsxs)("div",{className:"jsx-59b782d3edeee115 flex-baseline gap-2",children:[(0,a.jsx)("div",{className:"jsx-59b782d3edeee115 price reduced-line-height",children:i}),n&&(0,a.jsx)("div",{className:"jsx-59b782d3edeee115 desc fs-sm text-tinted",children:n})]}),(0,a.jsx)(s.default,{id:"59b782d3edeee115",children:".price-display.jsx-59b782d3edeee115{margin-bottom:-.25rem}.price.jsx-59b782d3edeee115{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-medium)}"})]})},tb=e=>{let t,{priceInfo:i,allowMulti:s}=e,n=(0,ej.useLocale)(),r=(0,O.useT)(),o=r(D.CT.TicketPrice);return i.flexible?0===i.minCents?(o=r({defaultMessage:"Suggested Donation",id:"oRL8Y3",description:"Suggested donation label in the registration card for flexible ticket types. This is if the minimum price is 0."}),t=r({defaultMessage:"Pay what you want",id:"PT83eq",description:"Pay what you want price description in the registration card."})):(o=r(D.CT.SuggestedPrice),t=r(s?{defaultMessage:"Minimum {price} per ticket",id:"jVFu2M",description:"Minimum price per ticket description in the registration card."}:{defaultMessage:"Minimum {price}",id:"nzSbgx",description:"Minimum price per ticket description in the registration card."},{price:(0,eS.formatPrice)({cents:i.minCents,currency:i.currency,locale:n})})):s&&(t=r({defaultMessage:"Per ticket",id:"6wGYRO",description:"Per ticket price description in the registration card."})),(0,a.jsx)(ty,{label:o,price:(0,eS.formatPrice)({...i,locale:n}),desc:t})},tj=e=>{let{suggested_cents:t,min_cents:a,currency:i,t:s,locale:n}=e;return a?s({defaultMessage:"Suggested: {suggested} (min {minimum})",id:"WuGigM",description:"Price description for a flexible price ticket. suggested / minimum are the prices."},{suggested:(0,eS.formatPrice)({cents:t,currency:i,locale:n,checkWholeNumber:!0}),minimum:(0,eS.formatPrice)({cents:a,currency:i,locale:n,checkWholeNumber:!0})}):s({defaultMessage:"Suggested: {suggested} (pay what you want)",id:"92Nue+",description:"Price description for a flexible price ticket with no minimum."},{suggested:(0,eS.formatPrice)({cents:t,currency:i,locale:n,checkWholeNumber:!0})})};e.s(["EventHeader",()=>tN,"calculatePaymentAmount",()=>tA,"canPayForEvent",()=>tE,"ctaButtonText",()=>tC,"showInfoPanel",()=>tS],587987);var t_=e.i(132571),tw=e.i(821384);!function(e){e.MAX_CODE_LENGTH=20,e.PublicColumns=["api_id","cents_off","code","currency","event_ticket_type_api_id","percent_off"],e.AppliedInfoZ=tw.z.object({api_id:tw.z.string().brand("coupon"),percent_off:tw.z.number().nullable(),cents_off:tw.z.number().nullable(),currency:eS.CurrencyZ.nullable(),code:tw.z.string()}),e.AdminColumns=[...e.PublicColumns,"created_at","remaining_count","used_count"],e.getCouponDiscount=e=>{let{ticket_type_to_selection:t,coupon:a}=e;if(!a)return 0;if(a.event_ticket_type_api_id){var i;let e=t[a.event_ticket_type_api_id],s=null!=(i=null==e?void 0:e.amount)?i:0;return a.percent_off?Math.round(s*(a.percent_off/100)):a.cents_off?Math.min(s,a.cents_off):0}let s=(0,e_.sum)(Object.values(t).map(e=>{let{amount:t}=e;return t}));return a.percent_off?Math.round(s*(a.percent_off/100)):a.cents_off?Math.min(s,a.cents_off):0}}(t||(t={}));var tT=e.i(451046),tk=e.i(935382);let tN=e=>{let{className:t}=e,{event:o}=(0,i.useEventPageContext)(),l=(0,ej.useLocale)(),d=(0,t_.getTimezoneIana)(),c=o.location_type===K.EventLocationType.Offline?o.timezone:void 0,u=r.DateTime.fromISO(o.start_at,{zone:c,locale:l});return(0,a.jsxs)("div",{className:"jsx-7ed2ad37e99cbb7f "+((0,n.default)("flex-center header gap-25",t)||""),children:[(0,a.jsx)(tk.EventCoverImage,{event:o,aspectRatio:o.one_to_one?1:2,mode:"fixed",width:o.one_to_one?54:108,className:"flex-shrink-0"}),(0,a.jsxs)("div",{className:"jsx-7ed2ad37e99cbb7f flex-1",children:[(0,a.jsx)("div",{className:"jsx-7ed2ad37e99cbb7f fw-medium name reduced-line-height",children:o.name}),(0,a.jsx)("div",{className:"jsx-7ed2ad37e99cbb7f text-tertiary-alpha fs-sm mt-1",children:u.toLocaleString({month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:d===c?void 0:"short"})})]}),(0,a.jsx)(s.default,{id:"7ed2ad37e99cbb7f",children:".name.jsx-7ed2ad37e99cbb7f{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}"})]})},tC=e=>{let{event_invite:t,ticket_types:a,waitlistActive:i,soldOut:s,ticketTypeToSelection:n,forceNoPayment:r,t:o}=e;if(s)return o(i?{defaultMessage:"Join Waitlist",id:"DTGWiM"}:D.CT.SoldOut);let l=!1;for(let e of a){var d,c;if((null!=(c=null==(d=n[e.api_id])?void 0:d.count)?c:0)>0){if(e.require_approval)return o(t?{defaultMessage:"Accept Invite",id:"JjuWby",description:"CTA button on event."}:{defaultMessage:"Request to Join",id:"m3SHti",description:"CTA button to register for an event that requires approval."});e.cents&&(l=!0)}}return o(l&&!r?{defaultMessage:"Get Ticket",id:"wA8882",description:"CTA button on event."}:null!=t?{defaultMessage:"Accept Invite",id:"JjuWby",description:"CTA button on event."}:D.CT.Register)},tS=e=>{let{event:t,ticket_types:a,can_register_for_multiple_tickets:i}=e;return!(0,tl.shouldHideTicketTypeSelector)({can_register_for_multiple_tickets:i,ticket_types:a})||1!==a.length||t.event_type!==G.EventType.Independent||!!a[0].cents||!!a[0].is_flexible||!!a[0].ethereum_token_requirements.length},tE=e=>{let{ticket_types:t}=e;if(t.length>0){for(let e of t)if(e.cents&&e.cents>0||e.is_flexible)return!0}return!1},tA=e=>{let{coupon:t,ticket_types:a,ticket_type_to_selection:i,tax_config:s}=e,n=(0,e_.uniq)(a.map(e=>{var t;return(null==(t=i[e.api_id])?void 0:t.count)>0?e.currency:null}).filter(e=>null!==e)),r=tP({coupon:t,ticketTypeToSelection:i,currencies:n}),{is_flexible:o,currency:l,amount_discount:d,amount_chosen:c}=tM({ticket_types:a,ticket_type_to_selection:i,coupon:r}),u=Object.values(i).every(e=>0===e.count),m=new Set(n).size>1,p=!0;m&&(p=!1),u&&(p=!1);let f=a.some(e=>{var t;return e.require_approval&&(null==(t=i[e.api_id])?void 0:t.count)>0}),x=!!l&&eS.CryptoCurrencies.has(l);if(o){let e=a.every(e=>{var t;if(!e.is_flexible)return!0;let a=i[e.api_id];if(!a)return!0;let s=(null!=(t=e.min_cents)?t:0)*a.count;return a.amount>=s});p=p&&e;let t=Math.max(c-d,0),n=tT.TaxUtils.taxAmount({amount:t,tax_config:s});return{cents_discount:d,currency:l,cents_original:c,can_register:p,cents_to_pay:t+n,cents_tax:n,coupon_applied:null!==r,is_flexible:o,require_approval:f,is_crypto:x}}let h=c-d,v=tT.TaxUtils.taxAmount({amount:h,tax_config:s});return{can_register:p,cents_discount:d,cents_original:c,cents_to_pay:h+v,cents_tax:v,coupon_applied:null!==r,currency:l,is_flexible:o,require_approval:f,is_crypto:x}},tM=e=>{let{ticket_types:a,ticket_type_to_selection:i,coupon:s}=e;if(a.every(e=>!i[e.api_id]||"free"===e.type))return{is_flexible:!1,currency:null,amount_discount:0,amount_chosen:0};let n=a.some(e=>{var t;return e.is_flexible&&(null==(t=i[e.api_id])?void 0:t.count)>0}),r=(0,e_.keyBy)(a,e=>e.api_id),o=0,l=null;for(let[e,{amount:t,count:a}]of Object.entries(i)){let i=r[e];i&&(o+=null!=t?t:0,a>0&&(l=l||i.currency))}return{is_flexible:n,amount_chosen:o,currency:l,amount_discount:t.getCouponDiscount({ticket_type_to_selection:i,coupon:s})}},tP=e=>{let{coupon:t,ticketTypeToSelection:a,currencies:i}=e;if(!t)return null;if(t.event_ticket_type_api_id){var s;if((null==(s=a[t.event_ticket_type_api_id])?void 0:s.count)>0)return t}if(t.cents_off&&t.currency){if(1!==i.length)return null;let[e]=i;if(e!==t.currency)return null}return t};var tR=e.i(222099);let tL=e=>{let{show:t,onHide:s}=e,{user:n}=(0,ee.useUserContext)(),l=(0,O.useT)(),{ticket_types:d,refreshEvent:c,guest_data:u,can_register_for_multiple_tickets:m}=(0,i.useEventPageContext)(),[p,f]=(0,o.useState)(()=>(0,i.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:r.DateTime.now(),can_register_for_multiple_tickets:m,disallow_require_approval_and_crypto:!0,coupon:null})),[x,h]=(0,o.useState)({step:"start"}),v=(0,o.useCallback)(()=>{s(),h({step:"start"}),f((0,i.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:r.DateTime.now(),can_register_for_multiple_tickets:!0,disallow_require_approval_and_crypto:!0,coupon:null}))},[s,d,h,f]),g=(0,o.useMemo)(()=>d.filter(e=>p[e.api_id].count>0&&e.is_flexible).length>0,[d,p]);return n?(0,a.jsx)(ex.LuxMultiStepModal,{show:t,variant:"lux-alert",onHide:v,canClickOutToDismiss:"start"===x.step,icon:(0,a.jsx)(eb.default,{}),title:l({defaultMessage:"Get Additional Tickets",id:"hBQb3J",description:"Title of modal that lets you register for more tickets for an event."}),desc:l({defaultMessage:"You currently have {tickets} for this event. You can register for additional tickets below.",description:"Description of modal that lets you register for more tickets for an event.",id:"6vnQYM"},{tickets:(0,a.jsx)(z.T,{defaultMessage:"{tickets, plural, one {# ticket} other {# tickets}}",id:"R4XjFT",values:{tickets:u.event_tickets.length},tagName:"span",className:"fw-medium"})}),currentStep:x.step,onBack:()=>{"checkout"===x.step&&g?h({step:"flexible"}):h({step:"start"})},steps:{start:{content:(0,a.jsx)(tq,{ticketTypeToSelection:p,setTicketTypeToSelection:f,onNext:()=>{h({step:g?"flexible":"checkout"})}})},flexible:{title:l({defaultMessage:"Name Your Price",id:"204GnZ",description:"Title of modal step to name your price for flexible pricing tickets."}),content:(0,a.jsx)(tB,{ticketTypeToSelection:p,setTicketTypeToSelection:f,onNext:()=>h({step:"checkout"})})},checkout:{title:l({defaultMessage:"Checkout",id:"Cw8lVu",description:"Title of modal that lets you register for more tickets for an event."}),content:(0,a.jsx)(tU,{ticketTypeToSelection:p,onSuccess:async e=>{let{event_tickets:t}=e;await c(),h({step:"success",event_tickets:t}),f((0,i.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:r.DateTime.now(),can_register_for_multiple_tickets:!0,coupon:null}))}})},success:{content:"success"===x.step&&(0,a.jsx)(tI,{event_tickets:x.event_tickets,onDone:v})}}}):null},tI=e=>{let{event_tickets:t,onDone:i}=e,n=(0,O.useT)();return(0,a.jsxs)("div",{className:"jsx-392006a2f2a58be6",children:[(0,a.jsxs)("div",{className:"jsx-392006a2f2a58be6 flex-column flex-center",children:[(0,a.jsx)("div",{className:"jsx-392006a2f2a58be6 check-icon flex-center-center",children:(0,a.jsx)(ey.default,{className:"svg-2rem"})}),(0,a.jsx)(z.T,{tagName:"h3",className:"text-tertiary-alpha fw-regular mb-2",defaultMessage:"You have registered for",id:"SgOBFP"}),(0,a.jsx)(z.T,{className:"fw-medium mb-25 text-center text-balance",tagName:"h3",defaultMessage:"{count, plural, one {# Ticket} other {# Tickets}}",values:{count:t.length},id:"JAUJd2"}),(0,a.jsx)(p.LuxButton,{className:"mt-3",label:n({defaultMessage:"Done",id:"JXdbo8"}),fullWidth:!0,onClick:i})]}),(0,a.jsx)(s.default,{id:"392006a2f2a58be6",children:".check-icon.jsx-392006a2f2a58be6{background-color:var(--success-pale-bg-color);width:3.5rem;height:3.5rem;color:var(--success-content-color);border-radius:100%;margin-bottom:1.25rem}"})]})},tq=e=>{let{ticketTypeToSelection:t,setTicketTypeToSelection:s,onNext:n}=e,r=(0,O.useT)(),{ticket_types:l}=(0,i.useEventPageContext)(),d=(0,o.useMemo)(()=>0===(0,e_.sum)(Object.values(t).map(e=>e.count)),[t]);return(0,a.jsxs)("div",{className:"flex-column gap-3",children:[(0,a.jsx)("div",{children:l.length>1?(0,a.jsx)(tD,{ticketTypeToSelection:t,setTicketTypeToSelection:s}):(0,a.jsx)(tO,{ticketTypeToSelection:t,setTicketTypeToSelection:s})}),(0,a.jsx)(p.LuxButton,{label:r(D.CT.Continue),disabled:d,onClick:n,color:"primary",fullWidth:!0})]})},tB=e=>{let{ticketTypeToSelection:t,setTicketTypeToSelection:r,onNext:o}=e,{ticket_types:l,calendar:d}=(0,i.useEventPageContext)(),c=(0,O.useT)(),u=(0,ej.useLocale)(),m=tA({ticket_type_to_selection:t,coupon:null,ticket_types:l,tax_config:d.tax_config}),f=l.filter(e=>{var a;return e.is_flexible&&(null==(a=t[e.api_id])?void 0:a.count)}),x=c({defaultMessage:"You have selected {count, plural, one {a ticket type} other {ticket types}} with flexible pricing. Please name your price below.",id:"bXHJUE",description:"Description for flexible pricing step."},{count:f.length});1===l.length&&(x=c({defaultMessage:"This event has flexible pricing. Please name your price below.",id:"AV8czv",description:"Description for flexible pricing step."}));let h=Object.values(t).some(e=>e.count>1);return(0,a.jsxs)("div",{className:"jsx-6e48bc6a612fa212",children:[(0,a.jsx)("div",{className:"jsx-6e48bc6a612fa212 fs-sm text-secondary-alpha",children:x}),(0,a.jsx)(ep.ListCard,{className:"my-3",children:f.map(e=>{var i,s;let{count:o,amount:d}=t[e.api_id],m=(null!=(i=e.cents)?i:0)*o,p=(null!=(s=e.min_cents)?s:0)*o;return(0,a.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.625rem 0.625rem 0.875rem",children:[(0,a.jsxs)("div",{className:"jsx-6e48bc6a612fa212 flex-baseline spread gap-2",children:[(0,a.jsx)("div",{className:"jsx-6e48bc6a612fa212 min-width-0 text-ellipses",children:l.length>1?(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsxs)("span",{className:"jsx-6e48bc6a612fa212 text-tertiary-alpha count mono-number",children:[o.toLocaleString(),"×"]}),(0,a.jsx)("span",{className:"jsx-6e48bc6a612fa212",children:e.name})]}):(0,a.jsx)("span",{className:"jsx-6e48bc6a612fa212",children:c({defaultMessage:"{count, plural, one {1 Ticket} other {# Tickets}}",id:"15ZuiX",description:"Number of tickets"},{count:o})})}),(0,a.jsx)(eT.PriceInput,{className:"flex-shrink-0",cents:d,setCents:a=>{r({...t,[e.api_id]:{...t[e.api_id],amount:a}})},error:d<p,currency:e.currency,minCents:p})]}),(0,a.jsx)("div",{className:"jsx-6e48bc6a612fa212 "+((0,n.default)("fs-xs mt-2 animated",{"text-error":d<p,"text-tertiary-alpha":d>=p})||""),children:tj({suggested_cents:m,min_cents:p,locale:u,currency:e.currency,t:c})})]},e.api_id)})}),d.tax_config&&(0,a.jsx)("div",{className:"jsx-6e48bc6a612fa212 fs-sm text-secondary-alpha",children:c({defaultMessage:"A {tax} of {percent} will be applied at checkout.",id:"4nHiT+",description:"Footer indicating a separate tax will be applied."},{tax:d.tax_config.tax_name,percent:(0,tr.formatTaxPercent)({tax_percent:d.tax_config.tax_percent,locale:u})})}),(0,a.jsx)(p.LuxButton,{label:c(D.CT.Continue),disabled:!m.can_register,onClick:o,color:"primary",fullWidth:!0,className:"mt-3"}),(0,a.jsx)(s.default,{id:"6e48bc6a612fa212",children:"div.jsx-6e48bc6a612fa212{--input-bg-color:var(--opacity-8);--input-accessory-text-color:var(--tertiary-color-alpha);--input-accessory-text-bg-color:var(--opacity-8);--input-border-color:var(--opacity-0);--input-border:var(--input-border-thickness)solid var(--input-border-color);--input-hover-bg-color:var(--opacity-8);--input-hover-border-color:var(--opacity-32);--input-focus-bg-color:var(--bg-opacity-64)}.count.jsx-6e48bc6a612fa212{margin-right:.375rem}"})]})},tU=e=>{var t;let{ticketTypeToSelection:s,onSuccess:n}=e,{user:r}=(0,ee.useUserContext)(),o=(0,O.useT)(),{event:l,ticket_types:d,calendar:c,stripe_account_id:u,accepts_usdc_for_usd:m,openedFrom:p}=(0,i.useEventPageContext)(),{tax_config:f}=c,x=tA({ticket_type_to_selection:s,coupon:null,ticket_types:d,tax_config:f}),h=x.cents_to_pay>0;return r?(0,a.jsx)(eu.Formik,{initialValues:{},onSubmit:async()=>{var e;if(!x.can_register)return void(0,eg.toastError)(o({defaultMessage:"There was an issue registering for the event.",id:"HbclMJ"}));let t=window.paymentInfo;if(x.cents_to_pay>0&&!t&&!x.is_crypto)return;let a=null!=(e=null==t?void 0:t.solana_address)?e:null;await (0,_.callWithToast)(async()=>{var e,i,r,o;let d,c=await eo.APIClient.post("/event/register-for-additional",{event_api_id:l.api_id,ticket_type_to_selection:s,payment_info:{payment_method:null!=(e=null==t?void 0:t.payment_method)?e:null,expected_amount_cents:x.cents_to_pay,expected_amount_discount:x.cents_discount,expected_amount_tax:x.cents_tax,currency:x.currency,payment_currency:null!=(i=null==t?void 0:t.payment_currency)?i:null,coupon_code:null},solana_address:a,opened_from:p});if("success"===c.status)d=c.event_tickets;else if("require-payment-confirmation"===c.status){let{payment_started_api_id:e,client_secret:a,stripe_account_id:i,connected_payment_method_id:s}=c;await tn({client_secret:a,stripe_account_id:i,payment_method_id:null!=(o=null!=s?s:null==t||null==(r=t.payment_method)?void 0:r.id)?o:null,payment_info:t}),d=(await to.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{payment_started_api_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})).event_tickets}else{let{signature:e}=c;if(!(null==t?void 0:t.wallet_connection))throw Error("There was a problem connecting to your Solana wallet.");let{wallet_connection:a}=t;await a.signAndSendTransaction({transaction_base64:c.transaction_base64,transaction_base58:c.transaction_base58}),d=(await to.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{crypto_transaction_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})).event_tickets}await n({event_tickets:d})},{error:o({defaultMessage:"There was a problem registering for additional tickets.",id:"yz1fhp",description:"Error message when registering for additional tickets fails."})})},children:(0,a.jsxs)(eu.Form,{className:"flex-column gap-3",children:[(0,a.jsx)(z.T,{tagName:"div",className:"text-secondary-alpha fs-sm",defaultMessage:"Please confirm your selection below to complete your registration.",id:"iLAhtk"}),(0,a.jsx)(tF,{ticket_type_to_selection:s,amount:x,tax_config:f}),h?(0,a.jsx)(e9,{acceptUsdcForUsd:m,noStripeWarningMessage:(0,a.jsx)(tg,{}),paymentFor:l.name||o({defaultMessage:"Event Ticket",id:"FdeAWk",description:'Event checkout. "Payment for" value.'}),currency:x.currency,stripeAccountId:u,disabled:!x.can_register,entity:{type:"user",name:r.name,email:r.email},sellerEntity:{seller_type:"event",event_api_id:l.api_id},config:{mode:"payment",amount:null!=(t=x.cents_to_pay)?t:0}}):(0,a.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:o(D.CT.Register),color:"primary"})]})}):null},tF=e=>{let{ticket_type_to_selection:t,amount:s,tax_config:n,className:r}=e,o=(0,O.useT)(),{ticket_types:l}=(0,i.useEventPageContext)(),d=s.currency||null,c=l.length>1||s.cents_tax>0,u=(0,e_.sum)(Object.values(t).map(e=>e.count));return(0,a.jsx)("div",{className:r,children:(0,a.jsxs)(ep.ListCard,{children:[(0,a.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.875rem",children:[(0,a.jsx)("div",{className:"fs-sm text-tertiary-alpha fw-medium mb-1",children:1===u?o(D.CT.AdditionalTicket):o(D.CT.AdditionalTickets)}),Object.entries(t).map(e=>{let[t,{count:i,amount:s}]=e,n=l.find(e=>e.api_id===t);if(n&&i)return(0,a.jsx)(tz,{className:"fs-sm",label:(0,a.jsxs)("div",{className:"left min-width-0 flex-baseline gap-2",children:[(0,a.jsxs)("span",{className:"mono-number count text-tertiary-alpha",children:[i.toLocaleString(),"×"]}),(0,a.jsx)("span",{className:"text-ellipses",children:n.name})]}),value:s&&d?(0,a.jsx)(ev.Price,{cents:s,currency:d}):o(D.CT.Free_Price),valueClassName:"text-tertiary-alpha"},t)})]}),c&&d&&(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.875rem",children:[(0,a.jsx)(tz,{className:"fs-sm",label:o(D.CT.Subtotal),value:(0,a.jsx)(ev.Price,{cents:s.cents_original,currency:d}),valueClassName:"text-tertiary-alpha"}),(0,a.jsx)(tz,{className:"fs-sm",label:(0,a.jsx)("div",{className:"text-ellipses",children:(0,a.jsx)(tr.TaxName,{tax_config:n})}),value:(0,a.jsx)(ev.Price,{cents:s.cents_tax,currency:d}),valueClassName:"text-tertiary-alpha"})]}),(0,a.jsx)(ep.BaseListRow,{className:"fw-medium",padding:"0.625rem 0.875rem",children:(0,a.jsx)(tz,{label:o(D.CT.Total_ToPay),value:(0,a.jsx)(ev.Price,{cents:s.cents_to_pay,currency:d})})})]})]})})},tz=e=>{let{className:t,label:i,value:r,valueClassName:o}=e;return(0,a.jsxs)("div",{className:"jsx-ce17063278720310 "+((0,n.default)("payment-row flex-baseline spread gap-2",t)||""),children:[(0,a.jsx)("div",{className:"jsx-ce17063278720310 min-width-0 text-ellipses",children:i}),(0,a.jsx)("div",{className:"jsx-ce17063278720310 "+((0,n.default)("mono-number",o)||""),children:r}),(0,a.jsx)(s.default,{id:"ce17063278720310",children:".payment-row.jsx-ce17063278720310+.payment-row.jsx-ce17063278720310{margin-top:.3125rem}"})]})},tO=e=>{var t,n;let{ticketTypeToSelection:r,setTicketTypeToSelection:o}=e,l=(0,O.useT)(),{ticket_types:d,calendar:c}=(0,i.useEventPageContext)(),[u]=d,m=(0,tR.eventPrice)({ticket_types:d,tax_config:c.tax_config});return(0,a.jsxs)("div",{className:"jsx-6a3dc87282a6428c flex-column gap-3 my-1 selector",children:["fiat-price"===u.type&&m&&(0,a.jsx)(tb,{priceInfo:m,allowMulti:!0}),(0,a.jsxs)("div",{className:"jsx-6a3dc87282a6428c flex-center gap-2 spread",children:[(0,a.jsx)("div",{className:"jsx-6a3dc87282a6428c fw-medium",children:l(D.CT.AdditionalTickets)}),(0,a.jsx)(em.CountSelector,{count:null!=(n=null==(t=r[u.api_id])?void 0:t.count)?n:1,setCount:e=>{var t;o({...r,[u.api_id]:{amount:(null!=(t=u.cents)?t:0)*e,count:e}})},min:1})]}),(0,a.jsx)(s.default,{id:"6a3dc87282a6428c",children:".selector.jsx-6a3dc87282a6428c .text-tinted{color:var(--secondary-color-alpha)}"})]})},tD=e=>{let{ticketTypeToSelection:t,setTicketTypeToSelection:s,className:n}=e,{ticket_types:r}=(0,i.useEventPageContext)(),o=(0,O.useT)(),l=(0,b.useNow)(),d=r.filter(e=>!(0,tl.isTicketTypeAvailable)({ticket_type:e,now:l,disallow_require_approval_and_crypto:!0})).length;return(0,a.jsxs)("div",{className:d>0?"mt-1":"my-1",children:[(0,a.jsx)(ef.LuxInputLabel,{text:o(D.CT.AdditionalTickets)}),(0,a.jsx)(tl.TicketTypeSelector,{className:n,ticketTypeToSelection:t,setTicketTypeToSelection:s,disallowRequireApprovalAndCrypto:!0,hideUnavailable:!0,addTax:!0}),d>0&&(0,a.jsx)("div",{className:"fs-sm text-tertiary-alpha mt-25 text-center",children:o({defaultMessage:"{count, plural, one {# unavailable ticket type} other {# ticket types}} hidden",id:"C0mCyL",description:"Indicating that unavailable ticket types are hidden."},{count:d})})]})};e.s(["RegistrationCard",()=>il,"RegistrationCardLoading",()=>iy],666172);var tW=e.i(454657),tV=e.i(764205),tK=e.i(946573),tY=e.i(801626),tQ=e.i(309525),tH=e.i(720055),tG=e.i(214383),tZ=e.i(821411),tJ=e.i(575084),tX=e.i(268620),t$=e.i(619390),t0=e.i(70355),t2=e.i(933855),t1=e.i(295787),t5=e.i(247868),t7=e.i(935296),t4=e.i(831202),t6=e.i(644872),t3=e.i(549794),t8=e.i(836953),t9=e.i(145596),ae=e.i(102729),at=e.i(202573),aa=e.i(8084),ai=e.i(579259),as=e.i(544712);let an=()=>{var e;let{event:t,sold_out:r,ticket_info:l,ticket_types:d,event_invite:c,calendar:u,membership_tiers:m}=(0,i.useEventPageContext)(),p=(0,b.useNow)({interval:{second:1}}),f=(null==l?void 0:l.is_near_capacity)===!0,x="not-started"===(0,tR.eventTicketTypesTimeAvailability)({ticket_types:d,now:p})?null:null!=(e=null==l?void 0:l.spots_remaining)?e:null,h=ao({ticket_types:d}),v=ax({ticket_types:d}),g=(0,Y.getEventState)({event:t}),y=t.event_type===G.EventType.Independent&&g===Y.EventState.Ended,j=1===d.length?(0,tR.singleTicketTypeTimeAvailability)({ticket_type:d[0],now:p}):null,_=!y&&j&&am({avail:j,now:p}),w=1===d.length?d[0].membership_restriction:null,T=!!(0,tR.eventPrice)({ticket_types:d,tax_config:u.tax_config}),k=(0,o.useMemo)(()=>{let e=[];return y?[(0,a.jsx)(av,{endTime:t.end_at},"past-event")]:(_&&e.push((0,a.jsx)(af,{avail:j,hasPayment:T,now:p},"time-availability")),r?e.push((0,a.jsx)(ac,{},"sold-out")):f&&e.push((0,a.jsx)(au,{spots:x},"limited-spots")),v&&e.push((0,a.jsx)(ah,{req:v},"crypto")),w&&e.push((0,a.jsx)(ad,{membership_tiers:m,req:w},"membership")),c?e.push((0,a.jsx)(ar,{invite:c},"invited")):!r&&h&&e.push((0,a.jsx)(al,{},"require-approval")),e)},[v,c,t,T,f,y,h,w,m,p,_,j,r,x]);return 0===k.length?null:(0,a.jsxs)("div",{className:"jsx-5b384f005caa455a "+((0,n.default)("info-rows flex-column",{one:t.one_to_one})||""),children:[k,(0,a.jsx)(s.default,{id:"5b384f005caa455a",children:".info-rows.jsx-5b384f005caa455a{gap:.75rem}.info-rows.jsx-5b384f005caa455a:not(.one){background-color:var(--opacity-light);border-radius:var(--small-border-radius);margin:-.5rem -.75rem 0;padding:.5rem .75rem}.info-rows.one.jsx-5b384f005caa455a{border-bottom:1px solid var(--divider-color);margin:-.5rem -1rem .25rem;padding:.5rem 1rem .75rem}"})]})},ar=e=>{let t,{invite:i}=e,n=(0,O.useT)(),r=n({defaultMessage:"We’d love to have you join us.",id:"QVhphp",description:"Subtitle for the invited info row in the registration card."});return(t="calendar"===i.invited_by_entity.type?i.invited_by_entity.calendar.name:i.invited_by_entity.user.name)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ag,{icon:(0,a.jsxs)("div",{className:"jsx-59b236f7604d9f91 relative",children:[(0,a.jsx)("div",{className:"jsx-59b236f7604d9f91 avatar-wrapper flex-center-center",children:"calendar"===i.invited_by_entity.type?(0,a.jsx)(aa.CalendarAvatar,{calendar:i.invited_by_entity.calendar,rem:1.5}):(0,a.jsx)(ai.UserAvatar,{user:i.invited_by_entity.user,rem:1.5})}),i.message&&(0,a.jsx)("div",{className:"jsx-59b236f7604d9f91 quote",children:(0,a.jsx)(t9.default,{})})]}),isCustomIcon:!0,title:n({defaultMessage:"You are invited by {name}",id:"sRZU1A",description:"Info row in the registration card indicating the user is invited by someone."},{name:t}),subtitle:(0,a.jsx)(t2.ExpandableLineClamp,{className:"invite-message",text:i.message||r})}),(0,a.jsx)(s.default,{id:"59b236f7604d9f91",children:".avatar-wrapper.jsx-59b236f7604d9f91{padding:.125rem}.quote.jsx-59b236f7604d9f91{color:var(--opacity-second-light);position:absolute;top:.625rem;left:1.75rem}.quote.jsx-59b236f7604d9f91 svg{width:2rem;height:2rem}.invite-message{white-space:pre-line}"})]}):(0,a.jsx)(ag,{icon:(0,a.jsx)(t8.default,{}),title:n({defaultMessage:"You are Invited",id:"+flYvC",description:"Info row in the registration card indicating the user is invited."}),subtitle:r})},ao=e=>{let{ticket_types:t}=e;return!(t.length>1)&&t[0].require_approval},al=()=>{let e=(0,O.useT)();return(0,a.jsx)(ag,{icon:(0,a.jsx)(at.default,{}),title:e({defaultMessage:"Approval Required",id:"PLs8hU",description:"Info row in the registration card indicating the user needs approval."}),subtitle:e({defaultMessage:"Your registration is subject to approval by the host.",id:"dmXUdz",description:"Subtitle for the require approval info row in the registration card."})})},ad=e=>{let{membership_tiers:t,req:i}=e,s=(0,O.useT)(),n=s({defaultMessage:"Only calendar members can register for this event.",id:"7vwNsI",description:"Subtitle for the membership required info row in the registration card."});if("memberships"===i.type){let e=i.calendar_membership_tier_api_ids.map(e=>t.find(t=>t.api_id===e)).filter(e=>void 0!==e);1===e.length?n=s({defaultMessage:"Only members of the tier {tier} can register for this event.",id:"+Gv7Y+",description:"Subtitle for the membership required info row in the registration card, followed by a list of allowed tiers."},{tier:(0,a.jsx)("span",{className:"fw-medium",children:e[0].name},"tier")}):e.length>1&&(n=s({defaultMessage:"Only members of the following tiers can register for this event: {tiers}",id:"QoAv4E",description:"Subtitle for the membership required info row in the registration card, followed by a list of allowed tiers."},{tiers:(0,a.jsx)("span",{className:"fw-medium",children:e.map(e=>e.name).join(s(D.CT.Comma_Symbol))},"tiers")}))}return(0,a.jsx)(ag,{icon:(0,a.jsx)(t5.GemFilled16Icon,{}),title:s({defaultMessage:"Members-Only Event",id:"apijsw",description:"Info row in the registration card indicating the event is members only."}),subtitle:n})},ac=()=>{let{waitlistActive:e,hasTicketPrice:t}=(0,i.useEventPageContext)(),s=(0,O.useT)();return(0,a.jsx)(ag,{icon:(0,a.jsx)(ae.default,{}),title:s(t?{defaultMessage:"Event Sold Out",id:"dcfAdl",description:"Title for the sold out info row in the registration card for paid event."}:{defaultMessage:"Event Full",id:"2z0CwG",description:"Title for the sold out info row in the registration card for free event."}),subtitle:s(e?{defaultMessage:"If you’d like, you can join the waitlist.",id:"d2Rl/A",description:"Subtitle for the sold out info row in the registration card."}:{defaultMessage:"We hope we can catch you at the next event.",id:"BGFhYI",description:"Subtitle for the sold out info row in the registration card."})})},au=e=>{let{spots:t}=e,{hasTicketPrice:s}=(0,i.useEventPageContext)(),n=(0,O.useT)();return(0,a.jsx)(ag,{icon:(0,a.jsx)(t7.default,{}),title:!t||t>10?n({defaultMessage:"Limited Spots Remaining",id:"QNL3/z",description:"Info row in the registration card indicating limited spots remaining."}):n({defaultMessage:"{count, plural, =0 {No Spots Remaining} one {One Spot Remaining} other {# Spots Remaining}}",id:"lfLCgU",description:"Number of spots remaining in the event"},{count:t}),subtitle:n(s?{defaultMessage:"Hurry up and register before the event sells out!",id:"0c0/dz"}:{defaultMessage:"Hurry up and register before the event fills up!",id:"oBYAxb"})})},am=e=>{let{avail:t,now:a}=e;return"available"===t.state?!!t.endTime&&t.endTime<a.plus({days:1}):"not-started"===t.state?t.time<a.plus({days:1}):"just-started"===t.state},ap=(e,t)=>{let a=t.diff(e,["hours","minutes","seconds"]);return 1>a.as("hours")?a.toFormat("mm:ss"):a.toFormat("h:mm:ss")},af=e=>{let{avail:t,hasPayment:s,now:n}=e,r=(0,O.useT)(),{rerender:d,sold_out:c}=(0,i.useEventPageContext)();if((0,o.useEffect)(()=>{d()},[t.state]),c)return null;if("available"===t.state){if(!t.endTime)return null;let e=ap(n,t.endTime);return(0,a.jsx)(ag,{icon:(0,a.jsx)(t6.default,{}),title:(0,a.jsx)(l.AfterMounted,{children:r(s?{defaultMessage:"Ticket sales end in {countdown}",id:"402pJY",description:"Info row indicating ticket sales ending soon. countdown is like 30:25."}:{defaultMessage:"Registration closes in {countdown}",id:"fzJSqQ",description:"Info row indicating registration ending soon. countdown is like 30:25."},{countdown:e})}),subtitle:r({defaultMessage:"Secure your spot before it’s too late!",id:"yDwRme",description:"Subtitle for info row indicating ticket sales ending soon."})})}if("ended"===t.state)return null;if("just-started"===t.state)return(0,a.jsx)(ag,{icon:(0,a.jsx)(t3.default,{}),title:r(s?{defaultMessage:"Ticket sale is now open",id:"r2nf2/",description:"Info row indicating ticket sales just opened."}:{defaultMessage:"Registration is now open",id:"xwBR2Y",description:"Info row indicating registration just opened."}),subtitle:r({defaultMessage:"Secure your spot now!",id:"mUXnJz",description:"Subtitle for info row indicating registration just opened."})});let u=ap(n,t.time);return(0,a.jsx)(ag,{icon:(0,a.jsx)(t3.default,{}),title:(0,a.jsx)(l.AfterMounted,{children:r(s?{defaultMessage:"Ticket sales start in {countdown}",id:"6+XOVw",description:"Info row indicating ticket sales starting soon. countdown is like 30:25."}:{defaultMessage:"Registration starts in {countdown}",id:"eB6mOG",description:"Info row indicating registration starting soon. countdown is like 30:25."},{countdown:u})}),subtitle:r({defaultMessage:"Check back soon!",id:"vRUOx4",description:"Subtitle for info row indicating ticket sales starting soon."})})},ax=e=>{let{ticket_types:t}=e;return t.length>1||0===t.length?null:t[0].ethereum_token_requirements.length>0?t[0].ethereum_token_requirements:null},ah=e=>{let{req:t}=e,i=(0,as.parseEventTokenFilters)(t),n=(0,O.useT)(),r=(0,a.jsx)(a.Fragment,{});return r=1===i.length?(0,a.jsx)(z.T,{defaultMessage:"You must be a holder of <token></token> to register.",id:"6Px8Ys",values:{token:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"fw-medium",children:i[0].name}),i[0].desc&&" (".concat(i[0].desc,")")]})}}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.T,{defaultMessage:"To register, you must hold one of the following:",id:"5koSYQ",description:"Subtitle for the crypto gating info row in the registration card, followed by a list of allowed tokens."}),(0,a.jsx)("div",{className:"jsx-2cfec70006cfaa3d",children:i.map((e,t)=>(0,a.jsxs)("span",{className:"jsx-2cfec70006cfaa3d token-info",children:[(0,a.jsx)("span",{className:"jsx-2cfec70006cfaa3d fw-medium",children:e.name}),e.desc&&(0,a.jsxs)("span",{className:"jsx-2cfec70006cfaa3d",children:[" (",e.desc,")"]})]},t))}),(0,a.jsx)(s.default,{id:"2cfec70006cfaa3d",children:'.token-info.jsx-2cfec70006cfaa3d:not(:last-child):after{content:", "}'})]}),(0,a.jsx)(ag,{icon:(0,a.jsx)(tV.default,{}),title:n({defaultMessage:"Token Holder Exclusive Event",id:"iELA+G",description:"Info row in the registration card indicating the event is a crypto-gated event."}),subtitle:r})},av=e=>{let{endTime:t}=e,i=(0,t1.useIsMounted)(),s=(0,O.useT)(),n=(0,ej.useLocale)(),r=(0,W.getRelativeTime)({date:t,locale:n});return(0,a.jsx)(ag,{icon:(0,a.jsx)(t4.default,{}),title:s({defaultMessage:"Past Event",id:"AhqZ0f",description:"Disclaimer on event page that the event is a past event."}),subtitle:i?s({defaultMessage:"This event ended {time_ago}.",id:"Sua2P9",description:'Message showing that the event has ended. time_ago is a string like "2 hours ago".'},{time_ago:r}):null})},ag=e=>{let{icon:t,title:i,subtitle:r,className:o,isCustomIcon:l}=e,d=(0,j.useBreakpoints)();return(0,a.jsxs)("div",{className:s.default.dynamic([["471ac6112c1f47f0",[d.tiny]]])+" "+((0,n.default)("flex-start info-row",o)||""),children:[(0,a.jsx)("div",{className:s.default.dynamic([["471ac6112c1f47f0",[d.tiny]]])+" "+((0,n.default)("icon",{"rounded standard flex-center-center":!l})||""),children:t}),(0,a.jsxs)("div",{className:s.default.dynamic([["471ac6112c1f47f0",[d.tiny]]]),children:[(0,a.jsx)("div",{className:s.default.dynamic([["471ac6112c1f47f0",[d.tiny]]])+" title fw-medium",children:i}),r&&(0,a.jsx)("div",{className:s.default.dynamic([["471ac6112c1f47f0",[d.tiny]]])+" desc text-tinted",children:r})]}),(0,a.jsx)(s.default,{id:"471ac6112c1f47f0",dynamic:[d.tiny],children:".info-row.__jsx-style-dynamic-selector{gap:.75rem}.info-row.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{flex-shrink:0;width:1.75rem;height:1.75rem;margin-top:.5rem}.info-row.__jsx-style-dynamic-selector .icon.standard.__jsx-style-dynamic-selector{background-color:var(--opacity-light);color:var(--opacity-48)}.title.__jsx-style-dynamic-selector{font-family:var(--title-font)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm);margin-top:1px}@media (max-width:".concat(d.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-xs)}}")})]})};var ay=e.i(512595),ab=e.i(666657);let aj=()=>{let{ticket_types:e}=(0,i.useEventPageContext)();return e.length>1?(0,a.jsx)(a_,{}):(0,a.jsx)(aw,{})},a_=()=>{let{ticket_types:e,ticketTypeToSelection:t,setTicketTypeToSelection:s}=(0,i.useEventPageContext)(),n=(0,b.useNow)(),r=(0,O.useT)(),o=(0,tR.eventTicketTypesTimeAvailability)({ticket_types:e,now:n}),l=r({defaultMessage:"Welcome! Please choose your desired ticket type:",id:"6jdRef"});return"not-started"===o&&(l=r({defaultMessage:"Welcome! No ticket is on sale at the moment. Please check back later.",id:"zMW7xA"})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:l}),(0,a.jsx)(tl.TicketTypeSelector,{ticketTypeToSelection:t,setTicketTypeToSelection:s,addTax:!0})]})},aw=()=>{let{event:e,ticket_info:t,can_register_for_multiple_tickets:n,sold_out:r,waitlistActive:o,calendar:l,ticket_types:d,ticketTypeToSelection:c,setTicketTypeToSelection:u}=(0,i.useEventPageContext)(),m=(0,b.useNow)(),p=(0,O.useT)();if(0===d.length)return console.error("No ticket types found for independent event",e),null;let f=(0,tR.maxAllowedCountForTicketType)({ticket_type:d[0],ticket_info:t}),x=(0,tR.eventTicketTypesTimeAvailability)({ticket_types:d,now:m});if(r)return o?(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"Please click on the button below to join the waitlist. You will be notified if additional spots become available.",id:"GM/Jy4",description:"Prompt for waitlist in the registration card."}):(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"This event is sold out and no longer accepting registrations.",id:"dRTBZg",description:"Prompt in the registration card after the event sells out."});let h=(0,tR.eventPrice)({ticket_types:d,tax_config:l.tax_config});if(n){var v,g;return(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)("div",{className:"jsx-488eea3234629503 price-display",children:(0,a.jsx)(tb,{priceInfo:h,allowMulti:!0})}),(0,a.jsxs)("div",{className:"jsx-488eea3234629503 flex-center spread ticket-count-selector",children:[(0,a.jsx)("div",{className:"jsx-488eea3234629503 icon flex-center-center rounded",children:(0,a.jsx)(ab.default,{})}),(0,a.jsxs)("div",{className:"jsx-488eea3234629503 flex-1",children:[(0,a.jsx)("div",{className:"jsx-488eea3234629503 fw-medium",children:(0,a.jsx)(z.T,{defaultMessage:"Tickets",id:"zjAOUu",description:"Label for ticket count selector in the registration card."})}),!r&&(0,a.jsx)(aT,{className:"validity fs-sm text-tinted",ticket:d[0],hasPayment:!!h})]}),(0,a.jsx)(em.CountSelector,{count:null!=(g=null==(v=c[d[0].api_id])?void 0:v.count)?g:1,setCount:e=>{var t;let a=d[0];u({...c,[a.api_id]:{amount:(null!=(t=a.cents)?t:0)*e,count:e}})},min:1,max:null==f?void 0:f.count,disabled:"available"!==x,disabledTooltipLabel:p("ended"===x?{defaultMessage:"Sale has ended",id:"4x/peY"}:{defaultMessage:"Sale has not yet started",id:"6iMe2r"})})]}),(0,a.jsx)(s.default,{id:"488eea3234629503",children:".price-display.jsx-488eea3234629503+.ticket-count-selector.jsx-488eea3234629503{border-top:1px solid var(--divider-color);padding-top:.75rem}.flex-center.jsx-488eea3234629503{gap:.625rem}.icon.jsx-488eea3234629503{background-color:var(--opacity-light);width:1.75rem;height:1.75rem;color:var(--opacity-48);flex-shrink:0}div.jsx-488eea3234629503 .validity{margin-top:.125rem;line-height:1;display:block}div.jsx-488eea3234629503 .validity:before{display:none}"})]})}let y=!!(d[0].valid_start_at||d[0].valid_end_at),j="";if(h)j=p("not-started"===x?{defaultMessage:"Welcome! Ticket sales have not yet started. Please check back later.",id:"Uft/YR"}:{defaultMessage:"Welcome! To join the event, please get your ticket below.",id:"AiYlke"});else{let e=y&&!r?(0,a.jsx)(aT,{className:"inline",ticket:d[0],includeTrailingPeriod:!0}):null;j="not-started"===x?(0,a.jsx)(z.T,{defaultMessage:"Welcome! {validity} Please check back later.",id:"99Sbqt",description:"Registration card message for events that have not yet started.",values:{validity:e}}):(0,a.jsx)(z.T,{defaultMessage:"Welcome! To join the event, please register below. {validity}",id:"RxvPr6",description:"Registration card message for events that have started. {validity} must be at the end of the message since it may be null.",values:{validity:e}})}return(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsxs)("div",{className:"jsx-4fc9988e16909c6d flex-end flex-wrap spread gap-2",children:[(0,a.jsx)(tb,{priceInfo:h,allowMulti:!1}),y&&!r&&(0,a.jsx)(aT,{className:"validity fs-sm text-tinted reduced-line-height",ticket:d[0],hasPayment:!!h})]}),(0,a.jsx)("div",{className:"jsx-4fc9988e16909c6d message",children:j}),(0,a.jsx)(s.default,{id:"4fc9988e16909c6d",children:".flex-end.jsx-4fc9988e16909c6d{border-bottom:1px solid var(--divider-color);padding-bottom:.75rem}.flex-end.jsx-4fc9988e16909c6d .validity{margin-top:-1px;transform:translateY(1.5px)}"})]})},aT=e=>{let{ticket:t,hasPayment:s,className:n,includeTrailingPeriod:o}=e,{event:l}=(0,i.useEventPageContext)(),d=l.location_type===K.EventLocationType.Offline?l.timezone:void 0,c=(0,b.useNow)(),u=(0,O.useT)(),m=o?u(D.CT.Period_Symbol):"",p=(0,tR.singleTicketTypeTimeAvailability)({ticket_type:t,now:c});if("available"===p.state&&!p.endTime||!t.valid_start_at&&!t.valid_end_at)return null;let f=t.valid_start_at?r.DateTime.fromISO(t.valid_start_at):null;if(f&&f>c){let e=(0,a.jsx)(ay.Time,{at:f,timeZone:d,timeZoneName:"short-if-different",month:"short",day:"numeric",date:"only-if-different",year:"only-if-different",hour:"numeric",minute:"numeric"});return s?(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Sales start at {time}",id:"9U8vUU",values:{time:e}}),m]}):(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Registration opens at {time}",id:"g99QBp",values:{time:e}}),m]})}let x=t.valid_end_at?r.DateTime.fromISO(t.valid_end_at):null;if(!x)return null;if(x<c)return s?(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Ticket sales have ended",id:"/o42LG"}),m]}):(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Registration has closed",id:"LmZxb+"}),m]});let h=(0,a.jsx)(ay.Time,{at:x,month:"short",day:"numeric",date:"only-if-different",year:"only-if-different",hour:"numeric",minute:"numeric",timeZone:d,timeZoneName:"short-if-different"});return s?(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Sales end at {time}",id:"lMeFWM",values:{time:h}}),m]}):(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(z.T,{defaultMessage:"Registration closes at {time}",id:"TtG6vA",values:{time:h}}),m]})};var ak=e.i(203828),aN=e.i(629075),aC=e.i(914091),aS=e.i(332587),aE=e.i(167643),aA=e.i(523080),aM=e.i(435550);e.s(["OverlayTwoPanelContainer",()=>aP],214371);let aP=e=>{let{left:t,right:i}=e;return(0,a.jsxs)(aC.LuxGlassOverlay,{className:"flex-center",children:[(0,a.jsx)("div",{className:s.default.dynamic([["1a468211faa0be49",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.medium,j.ResponsiveBreakpoint.small]]])+" "+((0,n.default)("registration-overlay",{"two-panels":i})||""),children:(0,a.jsx)(eu.Form,{className:"registration-form-container flex-column",children:(0,a.jsxs)("div",{className:s.default.dynamic([["1a468211faa0be49",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.medium,j.ResponsiveBreakpoint.small]]])+" panels flex-row-reverse flex-1 gap-5",children:[i&&(0,a.jsx)("div",{className:s.default.dynamic([["1a468211faa0be49",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.medium,j.ResponsiveBreakpoint.small]]])+" right",children:i}),(0,a.jsx)("div",{className:s.default.dynamic([["1a468211faa0be49",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.medium,j.ResponsiveBreakpoint.small]]])+" left flex-1",children:t})]})})}),(0,a.jsx)(s.default,{id:"1a468211faa0be49",dynamic:[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.medium,j.ResponsiveBreakpoint.small],children:".registration-overlay.__jsx-style-dynamic-selector{width:420px;min-height:min(85vh,700px);margin:auto;padding:3.5rem 1.25rem 5rem}.registration-overlay.two-panels.__jsx-style-dynamic-selector{width:100%;max-width:800px}@media (max-width:".concat(j.ResponsiveBreakpoint.small,"){.registration-overlay.__jsx-style-dynamic-selector{width:100%;padding:0}.registration-overlay.two-panels.__jsx-style-dynamic-selector{width:100%}}.registration-overlay.__jsx-style-dynamic-selector .registration-form-container{min-height:0}.right.__jsx-style-dynamic-selector{width:340px}.panels.__jsx-style-dynamic-selector{min-height:0}@media (max-width:").concat(j.ResponsiveBreakpoint.medium,"){.panels.__jsx-style-dynamic-selector{gap:1.25rem}.panels.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{width:320px}}@media (max-width:").concat(j.ResponsiveBreakpoint.small,"){.panels.__jsx-style-dynamic-selector{display:block}.panels.__jsx-style-dynamic-selector .left.__jsx-style-dynamic-selector{padding-bottom:2rem}.panels.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{width:100%;margin-bottom:1.5rem}}")})]})};var aR=e.i(588083);e.s(["NameAndEmailInputs",()=>aF],517254);var aL=e.i(93722),aI=e.i(523690),aq=e.i(262548),aB=e.i(87626),aB=aB;let aU=e=>{let{show:t,onHide:i,user:s,requireFnLn:n,onUpdate:r}=e,o=(0,O.useT)(),{locale:l}=(0,ej.useLocalizationContext)(),d=!!(n||s.first_name&&s.last_name),c=d&&s.name!==(0,aq.combineFirstLastNames)({first_name:s.first_name,last_name:s.last_name,locale:l});return(0,a.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:t&&(0,a.jsx)(eu.Formik,{initialValues:{name:s.name||"",first_name:s.first_name||"",last_name:s.last_name||"",update_name:!0},onSubmit:async e=>{let{name:t,first_name:a,last_name:s,update_name:n}=e,c={name:t};d&&(c={first_name:a,last_name:s},n&&(c.name=(0,aq.combineFirstLastNames)({first_name:a,last_name:s,locale:l}))),await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/user/update",c),await r(),i()},{success:o({defaultMessage:"Your name has been updated successfully.",id:"kJ0Xw8",description:"Update name modal. Success toast."}),error:o({defaultMessage:"There was a problem updating your name.",id:"GS8WNH",description:"Update name modal. Error toast."})})},children:(0,a.jsxs)(eu.Form,{children:[(0,a.jsx)(m.LuxAlertTop,{icon:(0,a.jsx)(aB.default,{}),title:o({defaultMessage:"Update Name",id:"SkMVRo",description:"Title of modal for a user to edit their name."}),desc:o({defaultMessage:"Your updated name will be saved to your Luma profile.",id:"E4NEhw",description:"Description for updating a name."})}),(0,a.jsxs)("div",{className:"flex-column gap-3 mt-3",children:[d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aL.FirstLastInputs,{showAsterisk:!1,autoFocus:!0}),c&&(0,a.jsxs)("div",{className:"flex-column gap-25",children:[(0,a.jsx)("div",{className:"text-secondary-alpha fs-sm",children:o({defaultMessage:"Your display name is currently {name}. Would you like to update it to match?",id:"1vLFHw",description:"Prompt to update display name to match first and last name entered."},{name:(0,a.jsx)("span",{className:"fw-medium text-primary",children:s.name})})}),(0,a.jsx)(h.LuxToggleFieldRow,{name:"update_name",label:o({defaultMessage:"Update Display Name",id:"yClZMq",description:"Toggle to update display name."})})]})]}):(0,a.jsx)(tW.LuxInputField,{name:"name",type:"name",placeholder:o({defaultMessage:"Jane Sparkle",id:"i5sOqU",description:"Placeholder for a name input. Localize it into a common / placeholder name in your language."}),autoFocus:!0,suppress1Password:!0}),(0,a.jsx)(eh.LuxSubmitButton,{fullWidth:!0,className:"mt-1",label:o(D.CT.Update)})]})]})})})},aF=e=>{let{autoFocus:t,nameRequirement:i}=e,{user:s,refreshUser:n}=(0,ee.useUserContext)(),r=(0,O.useT)();return s?(0,a.jsx)(aO,{user:s,nameRequirement:i,autoFocus:t,onChange:n}):(0,a.jsxs)(a.Fragment,{children:["first-last"===i?(0,a.jsx)(aL.FirstLastInputs,{autoFocus:t}):(0,a.jsx)(az,{autoFocus:t}),(0,a.jsx)(tW.LuxInputField,{name:"email",type:"email",label:r({defaultMessage:"Email *",id:"OtuYup"}),required:!0,placeholder:r({defaultMessage:"you@email.com",id:"ua/SkX",description:"Email input placeholder. Keep the whole thing in ASCII."}),inputProps:{autoComplete:"email"}})]})},az=e=>{let{autoFocus:t,className:i}=e,s=(0,O.useT)();return(0,a.jsx)(tW.LuxInputField,{name:"name",type:"name",label:s({defaultMessage:"Name *",id:"Id24hd"}),required:!0,placeholder:s({defaultMessage:"Your Name",id:"POqgFA",description:"Placeholder for name input."}),inputProps:{autoComplete:"name"},autoFocus:null!=t&&t,className:i})},aO=e=>{let{user:t,nameRequirement:i,onChange:s,autoFocus:r}=e,{locale:o}=(0,ej.useLocalizationContext)(),l=(0,O.useT)(),d=(0,y.useModalState)(),c="first-last"===i?!t.first_name||!t.last_name:!t.name,u="first-last"===i?aL.FirstLastInputs:az,m=i===G.RegistrationNameRequirement.FirstLast?(0,aq.combineFirstLastNames)({first_name:t.first_name,last_name:t.last_name,locale:o}):t.name;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex-center gap-25",children:[(0,a.jsx)(ea.Avatar,{url:null==t?void 0:t.avatar_url,px:40}),(0,a.jsxs)("div",{className:"min-width-0",children:[(0,a.jsxs)("div",{className:"flex-center gap-2",children:[(0,a.jsx)("div",{className:(0,n.default)({"fs-sm text-tertiary-alpha":!m,"fw-medium text-ellipses":m}),children:m||l({defaultMessage:"Signed in as",id:"xFV7xj",description:"Label showing that the user is signed in. What follows is the email address of the user."})}),m&&(0,a.jsx)(p.LuxButton,{icon:(0,a.jsx)(aI.Edit16Icon,{}),label:l({defaultMessage:"Update Name",id:"DNbI96",description:"Button to update the user's name."}),variant:"link",color:"secondary",iconPlacement:"icon-only",onClick:d.onShow})]}),(0,a.jsx)("div",{className:(0,n.default)({"fs-sm text-secondary-alpha":m}),children:t.email})]})]}),c&&(0,a.jsx)(u,{className:"mt-4",autoFocus:r}),(0,a.jsx)(aU,{...d,user:t,requireFnLn:"first-last"===i,onUpdate:s})]})};var aD=e.i(935010);let aW=e=>{let{requirement:t}=e,i=(0,O.useT)(),{user:r}=(0,ee.useUserContext)(),o=t===G.RegistrationRequirement.Required,l=i({defaultMessage:"Your Ethereum Address",id:"kkuv2L"});return(0,a.jsx)(eu.Field,{name:"eth_address_info",validate:e=>{if(!e&&o&&!(null==r?void 0:r.eth_address))return i(D.CT.RequiredFieldError)},children:e=>{let{meta:t,form:{values:d,setFieldValue:c}}=e;return(0,a.jsxs)("div",{className:"jsx-b642828b2709ca68 "+((0,n.default)({"has-error":t.error&&t.touched})||""),children:[(0,a.jsx)(ef.LuxInputLabel,{text:o?"".concat(l," *"):l}),(null==r?void 0:r.eth_address)?(0,a.jsx)(tW.LuxInput,{value:r.eth_address,disabled:!0,monospace:!0,onChange:()=>{}}):(0,a.jsxs)("div",{className:"jsx-b642828b2709ca68",children:[(0,a.jsx)(aD.EthereumSignMessageButton,{onSignature:async e=>{let{address:t,message:a,signature:i}=e;c("eth_address_info",{address:t,message:a,signature:i,auth_method:"signature"})},icon:(0,a.jsx)(tV.default,{}),label:d.eth_address_info?i({defaultMessage:"Connected {shortened_address}…",id:"i8jDuS",description:"Ethereum address field. Connected button label."},{shortened_address:d.eth_address_info.address.substr(0,10)}):i({defaultMessage:"Verify with Wallet",id:"OlItiN",description:"Crypto address field. CTA button."}),color:"light"}),t.error&&t.touched&&(0,a.jsx)("div",{className:"jsx-b642828b2709ca68 invalid-feedback animated",children:t.error})]}),(0,a.jsx)(s.default,{id:"b642828b2709ca68",children:".invalid-feedback.jsx-b642828b2709ca68{font-size:var(--input-label-font-size)}.has-error.jsx-b642828b2709ca68 .lux-input-label{color:var(--error-color)}.has-error.jsx-b642828b2709ca68 .invalid-feedback.jsx-b642828b2709ca68{color:var(--error-color);padding-top:.25rem}"})]})}})};var aV=e.i(250530),aK=e.i(292360),aY=e.i(254845);let aQ=e=>{let{requirement:t}=e,i=(0,O.useT)(),{user:r}=(0,ee.useUserContext)(),o=t===G.RegistrationRequirement.Required,l=i({defaultMessage:"Your Solana Address",id:"YdmlU/"});return(0,a.jsx)(eu.Field,{name:"solana_address_info",validate:e=>{if(!e&&o&&!(null==r?void 0:r.solana_address))return i(D.CT.RequiredFieldError)},children:e=>{let{meta:t,form:{values:d,setFieldValue:c}}=e;return(0,a.jsxs)("div",{className:"jsx-b642828b2709ca68 "+((0,n.default)({"has-error":t.error&&t.touched})||""),children:[(0,a.jsx)(ef.LuxInputLabel,{text:o?"".concat(l," *"):l}),(null==r?void 0:r.solana_address)?(0,a.jsx)(tW.LuxInput,{value:r.solana_address,disabled:!0,monospace:!0,onChange:()=>{}}):(0,a.jsxs)("div",{className:"jsx-b642828b2709ca68",children:[(0,a.jsx)(aY.SolanaBaseButton,{onAuthenticate:e=>{let{message:t,wallet:a,signature_base64:i}=e;return c("solana_address_info",{address:a,message:t,signature:i})},icon:(0,a.jsx)(aV.default,{}),label:d.solana_address_info?i({defaultMessage:"Connected ({shortened_address})",id:"ZZ4ACh",description:"Solana address field. Connected button label."},{shortened_address:aK.SolanaLuma.abbreviateAddress({address:d.solana_address_info.address})}):i({defaultMessage:"Verify with Wallet",id:"OlItiN",description:"Crypto address field. CTA button."}),color:"light"}),t.error&&t.touched&&(0,a.jsx)("div",{className:"jsx-b642828b2709ca68 invalid-feedback animated",children:t.error})]}),(0,a.jsx)(s.default,{id:"b642828b2709ca68",children:".invalid-feedback.jsx-b642828b2709ca68{font-size:var(--input-label-font-size)}.has-error.jsx-b642828b2709ca68 .lux-input-label{color:var(--error-color)}.has-error.jsx-b642828b2709ca68 .invalid-feedback.jsx-b642828b2709ca68{color:var(--error-color);padding-top:.25rem}"})]})}})},aH=e=>{let{eth_address_requirement:t,registration_questions:i,solana_address_requirement:s,phone_number_requirement:n,name_requirement:r}=e,o=((null==i?void 0:i.length)||0)>0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aF,{autoFocus:!0,nameRequirement:r||G.RegistrationNameRequirement.FullName}),n&&(0,a.jsx)(aG,{requirement:n}),s&&(0,a.jsx)(aQ,{requirement:s}),t&&(0,a.jsx)(aW,{requirement:t}),o&&(0,a.jsx)(aM.CustomFieldAnswerInputs,{name:"registration_answers",questions:i})]})},aG=e=>{let{requirement:t}=e,i=(0,O.useT)(),{country_code:s}=(0,$.useCountry)(),n=t===G.RegistrationRequirement.Required,r=n?" *":"";return(0,a.jsx)(aR.LuxPhoneNumberInputField,{name:"phone_number",required:n,label:i(D.CT.PhoneNumber)+r,countryCode:s})},aZ=()=>{var e,t;let{coupon:n,cryptoInfo:r,cryptoRequirement:o,eth_address_requirement:l,event:d,event_invite:c,phone_number_requirement:u,registration_questions:m,solana_address_requirement:p,name_requirement:x,stripe_account_id:h,ticketTypeToSelection:v,ticket_types:g,waitlistActive:y,sold_out:b,calendar:_,accepts_usdc_for_usd:w}=(0,i.useEventPageContext)(),{values:T}=(0,eu.useFormikContext)(),k=tA({coupon:n,ticket_types:g,ticket_type_to_selection:v,tax_config:_.tax_config}),N=k.cents_to_pay>0,C=(0,O.useT)(),S=!!(o&&!r);return(0,a.jsxs)("div",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]])+" flex-column pb-5",children:[(0,a.jsxs)("div",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]])+" mb-2 pb-4",children:[(0,a.jsx)("h3",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]])+" section-title",children:C({defaultMessage:"Your Info",id:"irwwe2",description:"Section header on event registration form."})}),(0,a.jsx)("div",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]])+" flex-column gap-4",children:(0,a.jsx)(aH,{eth_address_requirement:l,registration_questions:m,solana_address_requirement:p,name_requirement:x,phone_number_requirement:u})})]}),(0,a.jsx)(f.LuxCollapse,{show:N,children:(0,a.jsxs)("div",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]]),children:[(0,a.jsx)("h3",{className:s.default.dynamic([["9f2f2d8a52f09fdb",[j.ResponsiveBreakpoint.small]]])+" section-title",children:C({defaultMessage:"Payment",id:"RDSwx9",description:"Payment information on event registration form."})}),(0,a.jsx)(e9,{acceptUsdcForUsd:w,noStripeWarningMessage:(0,a.jsx)(tg,{}),paymentFor:d.name||C({defaultMessage:"Event Ticket",id:"FdeAWk",description:'Event checkout. "Payment for" value.'}),currency:k.currency,stripeAccountId:h,disabled:!k.can_register||S,entity:{type:"user",name:T.name,email:T.email},sellerEntity:{seller_type:"event",event_api_id:d.api_id},config:k.require_approval?{mode:"payment_authorization",amount:null!=(e=k.cents_to_pay)?e:0,buttonCta:C({defaultMessage:"Request to Join",id:"m3SHti",description:"CTA button to register for an event that requires approval."}),disclaimer:C({defaultMessage:"You will not be charged until your registration is approved.",id:"NEjdcF"}),payment_date:d.start_at}:{mode:"payment",amount:null!=(t=k.cents_to_pay)?t:0}})]})}),(0,a.jsx)(f.LuxCollapse,{show:!N,children:(0,a.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:tC({ticketTypeToSelection:v,ticket_types:g,forceNoPayment:!0,waitlistActive:y,soldOut:b,t:C,event_invite:c}),color:"primary",disabled:S||!k.can_register})}),(0,a.jsx)(s.default,{id:"9f2f2d8a52f09fdb",dynamic:[j.ResponsiveBreakpoint.small],children:".section-title.__jsx-style-dynamic-selector{font-size:var(--font-size-xxl)}@media (max-width:".concat(j.ResponsiveBreakpoint.small,"){.section-title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}")})]})};var aJ=e.i(426778),aX=e.i(88315),a$=e.i(632375),a0=e.i(677233);let a2=e=>{let{title:t}=e;return(0,a.jsx)("div",{className:"text-tertiary-alpha min-width-0",children:t})},a1=e=>{let{className:t,children:i}=e;return(0,a.jsxs)("div",{className:"jsx-fd073120d93d8690 "+((0,n.default)("info-row-wrapper",t)||""),children:[i,(0,a.jsx)(s.default,{id:"fd073120d93d8690",children:".info-row-wrapper.jsx-fd073120d93d8690{--padding:.75rem var(--side-padding)}.info-row-wrapper.jsx-fd073120d93d8690 .info-row{padding:var(--padding)}"})]})},a5=e=>{let{className:t,label:i,value:r,detail:o,expanded:l=!1,setExpanded:d}=e,c=(0,v.useBoolean)(l),u=null!=l?l:c.value;return(0,a.jsxs)(a1,{className:t,children:[(0,a.jsxs)("div",{onClick:o?()=>{let e=!u;c.setValue(e),null==d||d(e)}:void 0,className:"jsx-e44fb317f91ad842 "+((0,n.default)("info-row flex-center spread gap-2",{clickable:o})||""),children:[(0,a.jsx)("div",{className:"jsx-e44fb317f91ad842 label text-tertiary-alpha mr-2",children:i}),(0,a.jsx)("div",{className:"jsx-e44fb317f91ad842 "+((0,n.default)("value flex-1 text-right fw-medium",{"text-ellipses":"string"==typeof r})||""),children:r}),o&&(0,a.jsx)("div",{className:"jsx-e44fb317f91ad842 text-tertiary-alpha chevron",children:(0,a.jsx)(a0.Chevron,{direction:u?"down":"right"})})]}),o&&(0,a.jsx)(f.LuxCollapse,{show:u,children:(0,a.jsx)("div",{className:"jsx-e44fb317f91ad842 detail",children:o})}),(0,a.jsx)(s.default,{id:"e44fb317f91ad842",children:".info-row.clickable.jsx-e44fb317f91ad842{cursor:pointer;transition:var(--transition)}@media (hover:hover){.info-row.clickable.jsx-e44fb317f91ad842:hover{background-color:var(--hover-bg-color)}}.chevron.jsx-e44fb317f91ad842{margin-right:-.25rem}.detail.jsx-e44fb317f91ad842{background-color:var(--opacity-light);padding:1rem var(--side-padding)}"})]})},a7=e=>{var t;let{amount:n}=e,{ticket_types:r,coupon:l,setCouponCode:d,ticketTypeToSelection:c}=(0,i.useEventPageContext)(),u=(0,O.useT)(),m=(0,ej.useLocale)(),x=(0,o.useMemo)(()=>{var e;if(!l)return null;if(l.event_ticket_type_api_id&&!(null==(e=c[l.event_ticket_type_api_id])?void 0:e.count)){let e=r.find(e=>e.api_id===l.event_ticket_type_api_id);return e?u({defaultMessage:"This coupon only applies to “{ticket_type}”.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"tzGoB+"},{ticket_type:e.name}):u({defaultMessage:"This coupon does not apply to the ticket you’ve chosen.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"FCL5N0"})}return n.currency&&l.currency&&l.cents_off&&n.currency!==l.currency?u({defaultMessage:"This coupon only applies to tickets denominated in {currency}.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"SFKuFy"},{currency:(0,eS.currencyName)({currency:l.currency,locale:m})}):null},[l,c,n.currency,u,r,m]);if(!l)return(0,a.jsx)(a4,{amount:n});let h=(0,a$.couponDiscountDesc)({percent_off:l.percent_off,cents_off:l.cents_off,currency:null!=(t=l.currency)?t:n.currency,locale:m,t:u});return(0,a.jsxs)("div",{className:"jsx-632a8af74dbe65c4",children:[(0,a.jsxs)("div",{className:"jsx-632a8af74dbe65c4 flex-baseline spread coupon-row py-1",children:[(0,a.jsx)(a2,{title:u({defaultMessage:"Coupon",id:"qA2eJk"})}),(0,a.jsxs)("div",{className:"jsx-632a8af74dbe65c4 flex-baseline flex-wrap gap-2",children:[(0,a.jsx)("div",{className:"jsx-632a8af74dbe65c4 "+((x?"text-tertiary-alpha":"text-success")||""),children:n.coupon_applied&&!x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("code",{className:"jsx-632a8af74dbe65c4 fw-medium",children:l.code}),(0,a.jsxs)("span",{className:"jsx-632a8af74dbe65c4",children:[" · ",h]})]}):(0,a.jsx)("code",{className:"jsx-632a8af74dbe65c4 fw-medium strikethrough",children:l.code})}),(0,a.jsx)(p.LuxButton,{icon:(0,a.jsx)(aX.default,{}),label:u({defaultMessage:"Remove Coupon",id:"sAsAPx"}),variant:"link",color:"secondary",iconPlacement:"icon-only",size:"small",className:"remove-icon",onClick:async()=>d(null)})]})]}),(0,a.jsx)(f.LuxCollapse,{show:!!x,children:(0,a.jsx)("div",{className:"jsx-632a8af74dbe65c4 coupon-row fs-xs text-warning",children:x})}),(0,a.jsx)(s.default,{id:"632a8af74dbe65c4",children:".coupon-row.jsx-632a8af74dbe65c4{padding:.25rem 0}.coupon-row.jsx-632a8af74dbe65c4 .remove-icon{transform:translateY(1px)}"})]})},a4=e=>{let{amount:t}=e,{event:n,setCouponCode:r}=(0,i.useEventPageContext)(),l=(0,v.useBoolean)(),d=(0,o.useRef)(null),c=(0,O.useT)();return(0,o.useEffect)(()=>{l.value&&setTimeout(()=>{var e;null==(e=d.current)||e.focus()},300)},[l.value]),(0,a.jsxs)(f.LuxCollapse,{show:t.cents_original>0||!t.can_register,children:[(0,a.jsxs)("div",{className:"jsx-c9565716a7e002ac",children:[(0,a.jsxs)("div",{className:"jsx-c9565716a7e002ac flex-center spread py-1",children:[(0,a.jsx)(p.LuxButton,{label:c({defaultMessage:"Add a coupon",description:"Button CTA to enter coupon code. Keep this short.",id:"7ggsi5"}),variant:"link",className:"py-1",color:"brand",onClick:l.toggle}),(0,a.jsx)("div",{className:"jsx-c9565716a7e002ac"})]}),(0,a.jsx)(f.LuxCollapse,{show:l.value,children:(0,a.jsx)(eu.Formik,{initialValues:{code:""},validationSchema:aJ.object().shape({code:aJ.string().required().min(1)}),onSubmit:async e=>{let{code:a}=e;await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/event/coupons/check-coupon",{event_api_id:n.api_id,code:a,currency:t.currency}),await r(a),l.setFalse()},{success:c({defaultMessage:"Coupon code applied successfully!",id:"WtKKIa"}),error:c({defaultMessage:"Coupon code invalid or expired.",id:"+zNDpK"})})},children:e=>{let{values:t,submitForm:i}=e;return(0,a.jsxs)("div",{className:"jsx-c9565716a7e002ac flex-center spread gap-2 pt-1 pb-2",children:[(0,a.jsx)(eu.Field,{name:"code",children:e=>{let{field:t,form:s}=e;return(0,a.jsx)(tW.LuxInput,{className:"coupon-input flex-1",ref:d,type:"token",monospace:!0,...t,onChange:e=>s.setFieldValue(t.name,e.toUpperCase()),inputProps:{onKeyDown:e=>{"Enter"===e.key&&(i(),e.preventDefault())}}})}}),(0,a.jsx)(p.LuxButton,{label:c(D.CT.Apply_CouponCode),className:"apply-button flex-shrink-0",disabled:!t.code,onClick:i})]})}})})]}),(0,a.jsx)(s.default,{id:"c9565716a7e002ac",children:".right.jsx-c9565716a7e002ac{max-width:200px;position:relative}.right.jsx-c9565716a7e002ac .coupon-input input{padding-right:4rem}.right.jsx-c9565716a7e002ac .apply-button{top:var(--input-vertical-padding);position:absolute;right:.625rem}"})]})},a6=()=>{let{ticketTypeToSelection:e,coupon:t,ticket_types:s,calendar:n}=(0,i.useEventPageContext)();return tA({ticket_type_to_selection:e,coupon:t,ticket_types:s,tax_config:n.tax_config}).is_flexible?(0,a.jsx)(a1,{className:"row",children:(0,a.jsx)("div",{className:"info-row",children:(0,a.jsx)(a3,{})})}):null},a3=()=>{let{ticket_types:e,ticketTypeToSelection:t,setTicketTypeToSelection:r}=(0,i.useEventPageContext)(),l=(0,O.useT)(),d=(0,ej.useLocale)(),c=(0,o.useMemo)(()=>e.filter(e=>{var a;return e.is_flexible&&(null==(a=t[e.api_id])?void 0:a.count)}),[e,t]),u=c.length>0,m=Object.entries(t).filter(e=>{let[t,{count:a}]=e;return a>0}).map(e=>{let[t]=e;return t}),p=l({defaultMessage:"Name Your Price",id:"KKlz8K",description:"Label for a flexible price where the user picks the price for the event."}),x=Object.values(t).some(e=>e.count>1);if(1===m.length){var h,v;let i=e.find(e=>e.api_id===m[0]);if(!i||null==i.currency)return null;let s=t[i.api_id],o=s.amount,c=(null!=(h=i.min_cents)?h:0)*s.count,x=(null!=(v=i.cents)?v:0)*s.count;return(0,a.jsx)(f.LuxCollapse,{show:!!u,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex-baseline spread",children:[(0,a.jsx)(a2,{title:p}),(0,a.jsx)(eT.PriceInput,{cents:s.amount,setCents:e=>{r({...t,[i.api_id]:{...t[i.api_id],amount:e}})},error:o<c,currency:i.currency,minCents:c})]}),(0,a.jsx)("div",{className:(0,n.default)("fs-xs mt-2 animated",{"text-error":o<c,"text-tertiary-alpha":o>=c}),children:tj({suggested_cents:x,min_cents:c,locale:d,currency:i.currency,t:l})})]})})}return(0,a.jsx)(f.LuxCollapse,{show:!!u,children:(0,a.jsxs)("div",{className:"flex-column gap-2",children:[(0,a.jsx)("div",{className:"fw-medium",children:p}),c.map(e=>{var i,o;let{count:c,amount:u}=t[e.api_id],m=(null!=(i=e.cents)?i:0)*c,p=(null!=(o=e.min_cents)?o:0)*c;return(0,a.jsxs)("div",{className:"jsx-184f5e100eb79344",children:[(0,a.jsxs)("div",{className:"jsx-184f5e100eb79344 flex-baseline spread gap-2",children:[(0,a.jsx)(a2,{title:(0,a.jsxs)("div",{className:"jsx-184f5e100eb79344 min-width-0 text-ellipses",children:[x&&(0,a.jsxs)("span",{className:"jsx-184f5e100eb79344 text-tertiary-alpha count mono-number",children:[c.toLocaleString(),"×"]}),(0,a.jsx)("span",{className:"jsx-184f5e100eb79344",children:e.name})]})}),(0,a.jsx)(eT.PriceInput,{className:"flex-shrink-0",cents:u,setCents:a=>{r({...t,[e.api_id]:{...t[e.api_id],amount:a}})},error:u<p,currency:e.currency,minCents:p})]}),(0,a.jsx)("div",{className:"jsx-184f5e100eb79344 "+((0,n.default)("fs-xs mt-2 animated",{"text-error":u<p,"text-tertiary-alpha":u>=p})||""),children:tj({suggested_cents:m,min_cents:p,locale:d,currency:e.currency,t:l})}),(0,a.jsx)(s.default,{id:"184f5e100eb79344",children:".count.jsx-184f5e100eb79344{margin-right:.375rem}"})]},e.api_id)})]})})},a8=e=>{let{expanded:t,setExpanded:s}=e,{can_register_for_multiple_tickets:n}=(0,i.useEventPageContext)();return n?(0,a.jsx)(ie,{expanded:t,setExpanded:s}):(0,a.jsx)(a9,{expanded:t,setExpanded:s})},a9=e=>{let{expanded:t,setExpanded:s}=e,{ticket_types:n,ticketTypeToSelection:r,setCryptoInfo:l,setTicketTypeToSelection:d}=(0,i.useEventPageContext)(),c=(0,O.useT)(),u=(0,o.useMemo)(()=>{var e;if(0===(0,e_.sum)(Object.values(r).map(e=>e.count)))return c({defaultMessage:"Choose Ticket",id:"7agdWQ",description:"Event page. CTA on the ticket selector."});let t=n.find(e=>r[e.api_id].count);return null!=(e=null==t?void 0:t.name)?e:c(D.CT.Unknown)},[n,r,c]);return n.length<=1?null:(0,a.jsx)(a5,{className:"row",label:c({defaultMessage:"Ticket",id:"1TyNRB"}),value:u,detail:(0,a.jsx)(tl.TicketTypeSelector,{ticketTypeToSelection:r,setTicketTypeToSelection:async e=>{d(e),l(null)},addTax:!1}),expanded:t,setExpanded:s})},ie=e=>{let{expanded:t,setExpanded:n}=e,r=(0,O.useT)(),{ticketTypeToSelection:o,setTicketTypeToSelection:l,ticket_types:d,setCryptoInfo:c,can_register_for_multiple_tickets:u}=(0,i.useEventPageContext)(),m=(0,v.useBoolean)(t),x=null!=t?t:m.value;if(!u)return null;if(1===d.length)return(0,a.jsx)(it,{});let h=tE({ticket_types:d});return(0,a.jsxs)(a1,{className:"row",children:[(0,a.jsxs)("div",{className:"jsx-c5a48a9e208a270 flex-baseline spread info-row py-2",children:[(0,a.jsx)("div",{className:"jsx-c5a48a9e208a270 fw-medium",children:(0,a.jsx)(z.T,{defaultMessage:"Tickets",id:"wbjZNA"})}),(0,a.jsx)(p.LuxButton,{label:x?r({defaultMessage:"Done",description:"Button label to save / finish editing.",id:"DDxqKS"}):r(D.CT.Edit),variant:"link",size:"small",color:"brand",onClick:()=>{let e=!x;m.setValue(e),null==n||n(e)}})]}),(0,a.jsxs)("div",{className:"jsx-c5a48a9e208a270 pt-2 info-row",children:[(0,a.jsx)(f.LuxCollapse,{show:!x,children:(0,a.jsx)("div",{className:"jsx-c5a48a9e208a270 flex-column gap-1",children:Object.entries(o).map(e=>{let[t,{count:i,amount:s}]=e,n=d.find(e=>e.api_id===t);if(n&&i)return(0,a.jsxs)("div",{className:"jsx-c5a48a9e208a270 flex-baseline spread text-tertiary-alpha gap-2",children:[(0,a.jsxs)("div",{className:"jsx-c5a48a9e208a270 left min-width-0 flex-baseline gap-1",children:[(0,a.jsxs)("span",{className:"jsx-c5a48a9e208a270 mono-number count",children:[i.toLocaleString(),"×"]}),(0,a.jsx)("span",{className:"jsx-c5a48a9e208a270 text-ellipses",children:n.name})]}),h&&(0,a.jsx)("div",{className:"jsx-c5a48a9e208a270 mono-number",children:s?(0,a.jsx)(ev.Price,{cents:s,currency:n.currency}):r(D.CT.Free_Price)})]},t)})})}),(0,a.jsx)(f.LuxCollapse,{show:x,children:(0,a.jsx)("div",{className:"jsx-c5a48a9e208a270",children:(0,a.jsx)(tl.TicketTypeSelector,{ticketTypeToSelection:o,setTicketTypeToSelection:async e=>{l(e),c(null)},addTax:!1})})})]}),(0,a.jsx)(s.default,{id:"c5a48a9e208a270",children:".left.jsx-c5a48a9e208a270{white-space:nowrap}.count.jsx-c5a48a9e208a270{margin-right:.125rem}"})]})},it=()=>{var e,t;let{ticketTypeToSelection:s,setTicketTypeToSelection:n,ticket_types:r,ticket_info:o}=(0,i.useEventPageContext)(),l=null!=(t=null==(e=s[r[0].api_id])?void 0:e.count)?t:0,d=(0,O.useT)(),c=(0,tR.maxAllowedCountForTicketType)({ticket_type:r[0],ticket_info:o});return(0,a.jsx)(a1,{className:"row",children:(0,a.jsxs)("div",{className:"flex-baseline spread info-row",children:[(0,a.jsx)("div",{className:"fw-medium",children:(0,a.jsx)(z.T,{defaultMessage:"Tickets",id:"wbjZNA"})}),(0,a.jsx)(em.CountSelector,{count:l,setCount:e=>{var t;n({[r[0].api_id]:{count:e,amount:(null!=(t=r[0].cents)?t:0)*e}})},min:1,max:null==c?void 0:c.count,maxTooltipLabel:d({defaultMessage:"This is all that’s remaining",id:"Kq2YXT",description:"Event page. Ticket selector. Single ticket type, multiple tickets event. Message when the user can't add more tickets."})})]})})},ia=()=>{let{event:e,calendar:t,coupon:n,ticket_types:r,can_register_for_multiple_tickets:l,ticketTypeToSelection:d}=(0,i.useEventPageContext)(),c=tA({ticket_type_to_selection:d,coupon:n,ticket_types:r,tax_config:t.tax_config}),u=c.coupon_applied,m=(0,v.useBoolean)(!!(n&&!u));if((0,o.useEffect)(()=>{m.value||m.setValue(!!(n&&!u))},[n,d,c,m,u]),!tS({event:e,ticket_types:r,can_register_for_multiple_tickets:l}))return null;let p=tE({ticket_types:r});return(0,a.jsxs)("div",{className:s.default.dynamic([["4193e2466f1a0fdf",[j.ResponsiveBreakpoint.small]]])+" info-panel",children:[(0,a.jsxs)("div",{className:s.default.dynamic([["4193e2466f1a0fdf",[j.ResponsiveBreakpoint.small]]])+" info-panel-content",children:[(0,a.jsx)("h2",{className:s.default.dynamic([["4193e2466f1a0fdf",[j.ResponsiveBreakpoint.small]]]),children:(0,a.jsx)(z.T,{defaultMessage:"Registration",id:"VWf7mP",description:"Registration panel title."})}),(0,a.jsx)(tN,{className:"event-header"}),(0,a.jsx)(a8,{expanded:m.value,setExpanded:m.setValue}),(0,a.jsx)(a6,{}),(0,a.jsx)(ii,{className:"row"}),p&&(0,a.jsx)(is,{className:"row"})]}),(0,a.jsx)(s.default,{id:"4193e2466f1a0fdf",dynamic:[j.ResponsiveBreakpoint.small],children:".info-panel-content.__jsx-style-dynamic-selector .row+.row{border-top:1px solid var(--divider-color)}.info-panel.__jsx-style-dynamic-selector{border:1px solid var(--divider-color);border-radius:var(--large-border-radius);--side-padding:1rem;position:-webkit-sticky;position:sticky;top:3.5rem;overflow:hidden}.info-panel.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{display:none}.info-panel.__jsx-style-dynamic-selector .event-header{padding:var(--side-padding)}.info-panel.__jsx-style-dynamic-selector .event-header+.row .info-row{margin-top:-.5rem}@media (max-width:".concat(j.ResponsiveBreakpoint.small,"){.info-panel.__jsx-style-dynamic-selector{--side-padding:var(--overlay-padding);position:inherit;border:none;border-bottom:1px solid var(--divider-color);background-color:var(--opacity-light);margin:calc(-1*var(--overlay-padding));border-radius:0;margin-bottom:1.5rem}.info-panel.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{font-size:var(--font-size-xl);padding:1.125rem var(--overlay-padding).25rem var(--overlay-padding);margin-bottom:0;display:block}.info-panel.__jsx-style-dynamic-selector .event-header{padding:.75rem var(--side-padding)}}")})]})},ii=e=>{let{className:t}=e,{cryptoInfo:n,cryptoRequirement:r,setCryptoInfo:o}=(0,i.useEventPageContext)(),l=(0,O.useT)();if(!n)return r?(0,a.jsx)(a5,{label:l({defaultMessage:"Token",id:"MLPUrj",description:"Registration panel. Crypto requirement row title."}),value:(0,a.jsxs)("div",{className:"jsx-5e7d15607941a6b1 button-wrapper flex-baseline justify-end",children:[(0,a.jsx)(t0.GetTokenButton,{req:r,label:l({defaultMessage:"Verify Ownership",id:"iAxxI+",description:"Registration panel. Crypto requirement CTA."}),onCryptoInfo:o,size:"small",color:"ethereum",icon:(0,a.jsx)(tV.default,{})}),(0,a.jsx)(s.default,{id:"5e7d15607941a6b1",children:".button-wrapper.jsx-5e7d15607941a6b1{margin:-.1875rem 0}"})]}),className:t},"unverified-token"):null;let d="";return"erc-20"===n.token.type?d=n.token.contract_name||n.token.symbol||l({defaultMessage:"Verified",id:"IbZoVF",description:"Registration panel. Crypto requirement row. Token name fallback."}):"erc-721"===n.token.type&&(d=n.token.token_name||n.token.contract_name||l({defaultMessage:"Verified",id:"IbZoVF",description:"Registration panel. Crypto requirement row. Token name fallback."})),(0,a.jsx)(a5,{label:l({defaultMessage:"Token",id:"MLPUrj",description:"Registration panel. Crypto requirement row title."}),value:d,className:t},"verified-token")},is=e=>{let{className:t}=e,{ticketTypeToSelection:r,coupon:o,ticket_types:l,calendar:d}=(0,i.useEventPageContext)(),c=(0,O.useT)(),u=(0,ej.useLocale)(),m=tA({ticket_type_to_selection:r,coupon:o,ticket_types:l,tax_config:d.tax_config});return(0,a.jsxs)("div",{className:"jsx-6798717d5536d220 "+((0,n.default)("pricing-section",t)||""),children:[(0,a.jsxs)("div",{className:"jsx-6798717d5536d220 info",children:[(0,a.jsx)(ir,{amount:m}),(0,a.jsxs)("div",{className:"jsx-6798717d5536d220 amount-row flex-baseline spread",children:[(0,a.jsx)(a2,{title:c(D.CT.Total_ToPay)}),(0,a.jsx)("div",{className:"jsx-6798717d5536d220 amount",children:m.can_register?m.cents_to_pay>0&&m.currency?(0,eS.formatPrice)({cents:m.cents_to_pay,currency:m.currency,locale:u}):c({defaultMessage:"Free",id:"AEi7Db",description:"The total amount you will pay on the checkout section."}):"—"})]})]}),(0,a.jsx)(s.default,{id:"6798717d5536d220",children:".pricing-section.jsx-6798717d5536d220{padding:.5rem var(--side-padding)}.pricing-section.jsx-6798717d5536d220 input.lux-input:focus{background-color:var(--bg-opacity-48)}.event-header+.pricing-section{padding-top:0}.amount.jsx-6798717d5536d220{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-medium)}"})]})},ir=e=>{let{amount:t}=e,{can_register_for_multiple_tickets:s,calendar:n}=(0,i.useEventPageContext)(),r=(0,O.useT)();return 0!==t.cents_original&&t.can_register&&t.currency?s||n.tax_config?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-center spread text-tertiary-alpha gap-2 py-1",children:[(0,a.jsx)("div",{className:"text-ellipses",children:r(D.CT.Subtotal)}),(0,a.jsx)("div",{className:"mono-number",children:(0,a.jsx)(ev.Price,{cents:t.cents_original,currency:t.currency})})]}),(0,a.jsx)(a7,{amount:t}),n.tax_config&&(0,a.jsxs)("div",{className:"flex-center spread text-tertiary-alpha gap-2 py-1",children:[(0,a.jsx)("div",{className:"text-ellipses",children:(0,a.jsx)(tr.TaxName,{tax_config:n.tax_config})}),(0,a.jsx)("div",{className:"mono-number",children:(0,a.jsx)(ev.Price,{cents:t.cents_tax,currency:t.currency})})]})]}):(0,a.jsx)(a7,{amount:t}):null},io=e=>{let{show:t,onHide:s}=e,n=(0,ak.useRouter)(),{user:r}=(0,ee.useUserContext)(),{calendar:l,can_register_for_multiple_tickets:d,coupon:c,cryptoInfo:u,event:m,event_invite:p,guest_data:f,onRegister:x,openedFrom:h,phone_number_requirement:g,refreshEvent:y,registration_questions:b,sold_out:j,startPhoneVerification:w,ticketTypeToSelection:T,ticket_types:k}=(0,i.useEventPageContext)(),N=(0,t1.useIsMounted)(),{tintColor:C,lightness:S}=(0,aS.useTintContext)(),E=(0,v.useBoolean)(),A=(0,O.useT)(),{waitForTurnstile:M}=(0,tp.useCaptchaContext)(),[P,R]=(0,o.useState)(null);if(!N)return null;let L=async e=>{await x(e),s()},{email:I}=f;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aC.LuxGlassOverlayContainer,{onHide:s,closeOnEscape:!E.value,children:t&&(0,a.jsx)(eu.Formik,{initialValues:{name:(null==r?void 0:r.name)||(null==p?void 0:p.name)||n.query.name||"",first_name:(null==r?void 0:r.first_name)||"",last_name:(null==r?void 0:r.last_name)||"",email:(null==r?void 0:r.email)||I||(null==p?void 0:p.email)||n.query.email||"",phone_number:(null==r?void 0:r.phone_number)||(null==p?void 0:p.phone_number)||n.query.phone_number||"",registration_answers:(0,aM.getInitialRegistrationAnswers)({questions:null!=b?b:[],user:r}),eth_address_info:null,solana_address_info:null},onSubmit:async e=>{var t,a;let i=tA({ticket_type_to_selection:T,coupon:c,ticket_types:k,tax_config:l.tax_config});if(!i.can_register)return void(0,eg.toastError)(A({defaultMessage:"There was an issue registering for the event.",id:"HbclMJ"}));let s=window.paymentInfo;if(i.cents_to_pay>0&&!s&&!i.is_crypto)return;let{name:n,first_name:o,last_name:d,email:f,registration_answers:x,eth_address_info:v,phone_number:b,solana_address_info:N}=e,C=null!=(t=null==s?void 0:s.solana_address)?t:null,S=null!=(a=null==s?void 0:s.wallet_connection)?a:null,{error:E}=await (0,_.callWithToast)(async()=>{var e,t,a,r,l,g;let _=await eo.APIClient.post("/event/register",{name:n,first_name:o,last_name:d,email:f,event_api_id:m.api_id,for_waitlist:j,payment_method:null!=(e=null==s?void 0:s.payment_method)?e:null,payment_currency:null!=(t=null==s?void 0:s.payment_currency)?t:null,registration_answers:null!=x?x:[],coupon_code:i.coupon_applied&&null!=(a=null==c?void 0:c.code)?a:null,timezone:(0,t_.getTimezoneIana)(),token_gate_info:u,eth_address_info:v,phone_number:b,solana_address_info:N,expected_amount_cents:i.cents_to_pay,expected_amount_discount:i.cents_discount,expected_amount_tax:i.cents_tax,currency:i.currency,event_invite_api_id:null!=(r=null==p?void 0:p.api_id)?r:null,ticket_type_to_selection:T,solana_address:C,opened_from:h},{waitForTurnstile:M});if("require-payment-confirmation"===_.status){let{payment_started_api_id:e,client_secret:t,stripe_account_id:a,connected_payment_method_id:i}=_;await tn({client_secret:t,stripe_account_id:a,payment_method_id:null!=(g=null!=i?i:null==s||null==(l=s.payment_method)?void 0:l.id)?g:null,payment_info:s,only_authorize:"payment_intent_for_setup"===_.intent_type}),_=await to.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{payment_started_api_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})}else if("require-crypto-transaction"===_.status){let{signature:e}=_;if(!S)throw Error("There was a problem connecting to your Solana wallet.");await S.signAndSendTransaction({transaction_base64:_.transaction_base64,transaction_base58:_.transaction_base58}),_=await to.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{crypto_transaction_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})}await y(),await L(_)},{success:A({defaultMessage:"Thank you for registering!",id:"MFUHdQ"}),error:e=>{if(!(e instanceof ez)||!e.skipToast)return e.message?e.message:A({defaultMessage:"There was an error with your registration.",id:"3lysWU"})}});E?E instanceof eM.FetchError?"email-bounced"===E.code&&R(f):E instanceof ts||(0,aE.isNetworkError)(E)||e2.captureMessage("There was an issue registering for the event.",{extra:{values:e,amount:i,error:E},level:"error"}):g&&b&&r&&!r.phone_number&&w({phoneNumber:b})},children:(0,a.jsx)(aS.TintWrapper,{tintColor:C,lightness:S,mode:"brand-color-only",children:(0,a.jsx)(aP,{left:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aN.FormikChangeListener,{setDirty:E.setValue}),(0,a.jsx)(aZ,{})]}),right:tS({event:m,ticket_types:k,can_register_for_multiple_tickets:d})&&(0,a.jsx)(ia,{})})})})}),(0,a.jsx)(aA.EmailBouncedModal,{email:P,onHide:()=>R(null)})]})},il=e=>{let{inPanel:t}=e,s=(0,O.useT)(),{newStyle:n,theme_meta:r}=(0,i.useEventPageContext)();return n?!t&&Q.EventThemeToInfo[r.theme].liquidGlass?(0,a.jsx)(u.LiquidGlass,{children:(0,a.jsx)(id,{})}):(0,a.jsx)(ed.Base11Card,{children:(0,a.jsx)(id,{})}):(0,a.jsx)(ec.EventContentCard,{titleIcon:(0,a.jsx)(tZ.default,{}),titleLabel:s({defaultMessage:"Registration",id:"SolfwE",description:"Title of the registration card."}),children:(0,a.jsx)(im,{})})},id=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ic,{}),(0,a.jsx)("div",{className:"inner",children:(0,a.jsx)(im,{})})]}),ic=()=>{let{event:e,ticket_types:t}=(0,i.useEventPageContext)(),n=(0,O.useT)();if(e.hide_rsvp)return null;let r=n({defaultMessage:"Registration",id:"SolfwE",description:"Title of the registration card."});return tE({ticket_types:t})&&(r=n({defaultMessage:"Get Tickets",id:"k06J1n",description:"Title of the registration card when payment is allowed."})),(0,a.jsxs)(iu,{children:[(0,a.jsx)("div",{className:"jsx-d480f603df3d13ae title-label text-tinted fs-sm",children:r}),(0,a.jsx)(s.default,{id:"d480f603df3d13ae",children:".title-label.jsx-d480f603df3d13ae{font-weight:var(--font-weight-medium);font-family:var(--title-font)}"})]})},iu=e=>{let{children:t}=e;return(0,a.jsxs)("div",{className:"jsx-372de93c1b0e9919 header",children:[t,(0,a.jsx)(s.default,{id:"372de93c1b0e9919",children:".header.jsx-372de93c1b0e9919{background-color:var(--opacity-light);border-top-right-radius:calc(var(--card-border-radius) - 2px);border-top-left-radius:calc(var(--card-border-radius) - 2px);margin:calc(1px - .75rem) calc(1px - 1rem) .75rem;padding:calc(.5rem - 1px) calc(1rem - 1px)}"})]})},im=()=>{var e;let{user:t}=(0,ee.useUserContext)(),{can_register_for_multiple_tickets:n,coupon:r,cryptoRequirement:o,eth_address_requirement:l,event:d,event_invite:c,name_requirement:u,onRegister:m,openedFrom:x,phone_number_requirement:h,refreshEvent:v,registration_questions:g,setCryptoInfo:j,show_unlock_code_option:w,solana_address_requirement:T,sold_out:k,ticketTypeToSelection:N,ticket_types:C,waitlistActive:S}=(0,i.useEventPageContext)(),E=(0,y.useModalState)(),A=(0,O.useT)(),M=(0,b.useNow)(),{waitForTurnstile:P}=(0,tp.useCaptchaContext)();if(d.event_type!==G.EventType.Independent||d.hide_rsvp)return(0,a.jsx)(i_,{});if("ended"===(0,tR.eventTicketTypesTimeAvailability)({ticket_types:C,now:M}))return(0,a.jsx)(i_,{showUnlockCodeMode:w});if(k&&!S)return(0,a.jsx)(iw,{showUnlockCodeOption:w});let R=0==(0,e_.sum)(Object.values(N).map(e=>e.count)),[L]=C,I=!!(u===G.RegistrationNameRequirement.FullName&&(null==t?void 0:t.name)||u===G.RegistrationNameRequirement.FirstLast&&(null==t?void 0:t.first_name)&&(null==t?void 0:t.last_name)),q=!!(t&&I&&!o&&(null!=(e=null==g?void 0:g.length)?e:0)===0&&!k&&null===T&&null===h&&null===l&&!n&&1===C.length&&L&&"free"===L.type&&0===L.ethereum_token_requirements.length),B=A({defaultMessage:"One-Click RSVP",id:"PZUoqa",description:"Register button on the event page that requires no additional steps."});L&&L.require_approval&&(B=A({defaultMessage:"One-Click Apply",id:"0m3eYE",description:"Register button on the event page when the host needs to approve."})),c&&(B=A({defaultMessage:"Accept Invite",id:"RlFeio",description:"Register button the event page when the guest has been invited."}));let U=C.length>1&&C.filter(e=>"free"!==e.type&&e.is_flexible&&(!e.min_cents||e.min_cents<e.cents)).length>0;return(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633",children:[(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633 flex-column content",children:[(0,a.jsx)(an,{}),(0,a.jsx)(aj,{}),(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633 mt-1 flex-column content",children:[(0,a.jsx)(iT,{}),(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633 cta-wrapper",children:[(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633 cta flex-center gap-2 mb-1",children:[q&&t?(0,a.jsx)(p.LuxButton,{color:"primary",label:B,fullWidth:!0,disabled:R,onClick:async()=>{await (0,_.callWithToast)(async()=>{var e,a,i;let s=await eo.APIClient.post("/event/register",{coupon_code:null,currency:null,email:t.email,eth_address_info:null,event_api_id:d.api_id,payment_method:null,phone_number:null,ticket_type_to_selection:L?{[L.api_id]:{count:1,amount:null!=(e=L.cents)?e:0}}:{},expected_amount_cents:0,expected_amount_tax:0,expected_amount_discount:0,for_waitlist:!1,name:null!=(a=t.name)?a:"",first_name:t.first_name,last_name:t.last_name,event_invite_api_id:null!=(i=null==c?void 0:c.api_id)?i:null,payment_method_id:null,registration_answers:[],opened_from:x,solana_address_info:null,timezone:(0,t_.getTimezoneIana)(),token_gate_info:null,payment_currency:null},{waitForTurnstile:P});"success"===s.status&&(m(s),await v())},{success:A({defaultMessage:"Thank you for registering!",id:"4Z7prl",description:"Event page. Toast after registering for event."}),error:A({defaultMessage:"There was an error recording your registration.",id:"q2tdmX",description:"Event page. Toast message for error registering for event."})})}}):o?(0,a.jsx)("div",{className:"jsx-5b96bbb25927e633 flex-1",children:(0,a.jsx)(t0.GetTokenButton,{fullWidth:!0,req:o,label:tC({ticket_types:C,ticketTypeToSelection:N,event_invite:c,waitlistActive:S,soldOut:k,t:A}),disabled:R,onCryptoInfo:e=>{j(e),E.onShow()}})}):(0,a.jsx)(p.LuxButton,{color:"primary",label:tC({ticket_types:C,ticketTypeToSelection:N,event_invite:c,waitlistActive:S,soldOut:k,t:A}),fullWidth:!0,disabled:R,onClick:()=>{j(null),E.onShow()}}),(0,a.jsx)(ig,{})]}),(0,a.jsx)(f.LuxCollapse,{className:"reg-card-footer",show:!!((null==r?void 0:r.cents_off)||(null==r?void 0:r.percent_off)),children:r&&(0,a.jsx)(ih,{coupon:r})}),(0,a.jsx)(f.LuxCollapse,{show:!!o,className:"reg-card-footer",children:(0,a.jsx)(iv,{})}),U&&(0,a.jsx)("div",{className:"jsx-5b96bbb25927e633 reg-card-footer",children:(0,a.jsxs)("div",{className:"jsx-5b96bbb25927e633 footer-content text-tinted",children:[(0,a.jsx)(tH.default,{}),(0,a.jsx)("div",{className:"jsx-5b96bbb25927e633",children:A({defaultMessage:"Suggested price shown. Name your own price at checkout.",id:"0AW0Do"})})]})}),w&&(0,a.jsx)(ip,{className:"reg-card-footer"})]})]})]}),(0,a.jsx)(io,{...E}),(0,a.jsx)(s.default,{id:"5b96bbb25927e633",children:".content.jsx-5b96bbb25927e633{gap:.75rem}.content.jsx-5b96bbb25927e633 .reg-card-footer{font-size:var(--font-size-xs)}.content.jsx-5b96bbb25927e633 .reg-card-footer .footer-content{align-items:center;gap:.5rem;padding-top:.5rem;display:flex}.content.jsx-5b96bbb25927e633 .reg-card-footer svg{width:.875rem;height:.875rem}"})]})},ip=e=>{let{className:t}=e,n=(0,y.useModalState)(),{coupon:r}=(0,i.useEventPageContext)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ek.LuxAnimateIn,{children:!r&&(0,a.jsx)("div",{className:"jsx-75196dde7af4a68d "+(t||""),children:(0,a.jsxs)("div",{className:"jsx-75196dde7af4a68d footer-content text-tinted",children:[(0,a.jsx)(tJ.default,{}),(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"Have an access code? You can <link>enter it here</link>.",id:"6+whZL",values:{link:e=>(0,a.jsx)("button",{onClick:n.onShow,className:"jsx-75196dde7af4a68d button-reset inline animated",children:e})}})]})})}),(0,a.jsx)(ix,{...n}),(0,a.jsx)(s.default,{id:"75196dde7af4a68d",children:"button.jsx-75196dde7af4a68d{border-bottom:1px solid var(--brand-pale-bg-color)}@media (hover:hover){button.jsx-75196dde7af4a68d:hover{color:var(--brand-active-color);border-bottom-color:var(--brand-active-color)}}"})]})},ix=e=>{let{show:t,onHide:n}=e,r=(0,O.useT)(),{event:o,setCouponCode:l}=(0,i.useEventPageContext)();return(0,a.jsx)(x.LuxModalContainer,{onHide:n,variant:"lux-alert",children:t&&(0,a.jsx)(eu.Formik,{initialValues:{code:""},onSubmit:async e=>{let{code:t}=e;await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/event/coupons/check-coupon",{event_api_id:o.api_id,code:t,currency:null}),await l(t),n()},{success:r({defaultMessage:"Access code applied successfully.",id:"5DQLXs",description:"Toast message for entering an access code."}),error:r({defaultMessage:"There was an issue applying the code.",id:"Qm7ApN",description:"Error message for entering an access code."})})},children:(0,a.jsxs)(eu.Form,{className:"flex-column gap-3",children:[(0,a.jsx)(m.LuxAlertTop,{icon:(0,a.jsx)(tQ.default,{}),title:r({defaultMessage:"Access Code",id:"A0cWKl"}),desc:r({defaultMessage:"Have an access code? Enter it here to unlock your exclusive ticket.",id:"4oYN2n"})}),(0,a.jsx)(tW.LuxInputField,{name:"code",required:!0,monospace:!0,autoFocus:!0,placeholder:"MYCODE",className:"code-input"}),(0,a.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:r({defaultMessage:"Submit",id:"wSZR47"})}),(0,a.jsx)(s.default,{id:"11faf3af4f7f6b3d",children:".code-input input{text-transform:uppercase}"})]})})})},ih=e=>{let{coupon:t}=e;return(0,a.jsxs)("div",{className:"footer-content text-success",children:[(0,a.jsx)(tK.default,{}),(0,a.jsx)("div",{children:(0,a.jsx)(z.T,{defaultMessage:"The coupon <code></code> will be applied at checkout.",id:"P+d6Jn",values:{code:()=>(0,a.jsx)("code",{children:t.code})}})})]})},iv=()=>{let{user:e}=(0,ee.useUserContext)();return(0,a.jsxs)("div",{className:"footer-content text-tinted",children:[(0,a.jsx)(tV.default,{}),(0,a.jsx)("div",{children:(0,a.jsx)(z.T,{defaultMessage:"You will be asked to verify token ownership with your wallet<wallet></wallet>.",id:"7qLqNA",values:{wallet:()=>(null==e?void 0:e.eth_address)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:" ("}),(0,a.jsx)("code",{children:tX.Ethereum.abbreviateAddress(e.eth_address)}),(0,a.jsx)("span",{children:")"})]}):null}})})]})},ig=()=>{let{event:e,refreshEvent:t,event_invite:s}=(0,i.useEventPageContext)(),n=(0,O.useT)();return s?(0,a.jsx)(p.LuxButton,{label:n({defaultMessage:"Decline",id:"VTImE5",description:"Decline invite to join event, should be a short word."}),className:"flex-shrink-0",color:"light",variant:"solid",onClick:async()=>{await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/event/decline-my-registration",{event_api_id:e.api_id,invite_secret_key:null==s?void 0:s.secret_key}),await t()},{error:n({defaultMessage:"There was an issue declining the invitation.",id:"kbhyYO",description:"Event page. Toast message for error declining an invite."}),success:n({defaultMessage:"We’ve marked you as not going. Thank you!",id:"6omgwj",description:"Event page. Toast message after declining an invite."})})}}):null},iy=()=>(0,a.jsxs)(ed.Base11Card,{children:[(0,a.jsx)(iu,{children:(0,a.jsx)(eN.TextShimmer,{size:"sm",width:"5rem"})}),(0,a.jsx)(ib,{})]}),ib=()=>(0,a.jsxs)("div",{className:"jsx-46a258e25cd6d814",children:[(0,a.jsxs)("div",{className:"jsx-46a258e25cd6d814",children:[(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 label shimmer"}),(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 pricing shimmer"})]}),(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 desc shimmer"}),(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 desc desc-short shimmer"}),(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814"}),(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 cta flex-center-center",children:(0,a.jsx)("div",{className:"jsx-46a258e25cd6d814 shimmer"})}),(0,a.jsx)(s.default,{id:"46a258e25cd6d814",children:".label.jsx-46a258e25cd6d814{width:4rem;height:.5rem;margin-top:.25rem}.pricing.jsx-46a258e25cd6d814{width:7rem;height:1.5rem;margin-bottom:1.5rem}.desc.jsx-46a258e25cd6d814{height:.75rem}.desc-short.jsx-46a258e25cd6d814{width:40%;margin-bottom:1.5rem}.cta.jsx-46a258e25cd6d814{width:100%;height:var(--input-height);background-color:var(--opacity-light);border-radius:var(--border-radius)}.cta.jsx-46a258e25cd6d814 .shimmer.jsx-46a258e25cd6d814{width:6rem;height:.5rem;margin-bottom:0}"})]}),ij=e=>{let{icon:t,title:i,desc:n,showUnlockCodeMode:r}=e;return(0,a.jsxs)("div",{className:"jsx-516bc15417c49326",children:[(0,a.jsxs)("div",{className:"jsx-516bc15417c49326 flex-center gap-2 mt-1 mb-2",children:[(0,a.jsx)("div",{className:"jsx-516bc15417c49326 icon flex-center-center",children:t}),(0,a.jsx)("div",{className:"jsx-516bc15417c49326 fs-xl fw-medium",children:i})]}),(0,a.jsx)("div",{className:"jsx-516bc15417c49326 text-tinted mb-1",children:n}),r&&(0,a.jsx)(ip,{className:"unlock-code-wrapper mt-25 fs-xs svg-sm"}),(0,a.jsx)(s.default,{id:"516bc15417c49326",children:".icon.jsx-516bc15417c49326 svg{width:1.5rem;height:1.5rem}.unlock-code-wrapper .footer-content{align-items:center;gap:.5rem;display:flex}"})]})},i_=e=>{let{showUnlockCodeMode:t}=e,i=(0,O.useT)();return(0,a.jsx)(ij,{icon:(0,a.jsx)(tY.default,{}),title:i({defaultMessage:"Registration Closed",id:"y6nk3Z",description:"Event page. Registration section. Title for closed registration."}),desc:i({defaultMessage:"This event is not currently taking registrations. You may contact the host or subscribe to receive updates.",id:"pFM+Ok",description:"Event page. Registration section. Description for closed registration."}),showUnlockCodeMode:t})},iw=e=>{let{showUnlockCodeOption:t}=e,i=(0,O.useT)();return(0,a.jsx)(ij,{icon:(0,a.jsx)(tG.default,{}),title:i(D.CT.SoldOut),desc:i({defaultMessage:"This event is sold out and no longer taking registrations.",id:"8xoC+d",description:"Event page. Registration section. Description for sold out."}),showUnlockCodeMode:t})},iT=()=>{let{user:e}=(0,ee.useUserContext)(),{membership_info:t}=(0,i.useEventPageContext)();return e?(0,a.jsxs)("div",{className:"flex-center user-row gap-2",children:[t?(0,a.jsx)(t$.MembershipAvatar,{userAvatarUrl:null==e?void 0:e.avatar_url,tintColor:t.tier.tint_color,rem:1.75}):(0,a.jsx)(ea.Avatar,{url:null==e?void 0:e.avatar_url,rem:1.25}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,n.default)("flex-baseline flex-wrap min-width-0",{"fs-sm":t}),children:[e.name&&(0,a.jsx)("span",{className:"fw-medium mr-1 text-ellipses",children:e.name}),(0,a.jsx)("span",{className:"text-tinted email text-ellipses",children:e.email})]}),t&&(0,a.jsx)("div",{className:"text-tinted fs-xs reduced-line-height text-ellipses",children:(0,a.jsx)("span",{children:t.tier.name})})]})]}):null};e.s(["useProxyKey",()=>iS],615198);var ik=e.i(685479),iN=e.i(574058),iC=e.i(982725);let iS=e=>{let{url:t}=e,{pk:a}=(0,ak.useRouter)().query,[i,s]=((e,t)=>{let[a,i]=(0,o.useState)(iC.default.get(e)||(null==t?void 0:t.defaultValue)||null);return[a,a=>{let s={};(null==t?void 0:t.expires)&&(s.expires=t.expires),iC.default.set(e,a,s),i(a)}]})((0,iN.getProxyKeyCookie)({url:t}),{expires:r.DateTime.now().plus({days:14}).toJSDate(),defaultValue:a||null});return(0,o.useEffect)(()=>{a&&(s(a),(0,ik.removeArgFromUrl)("pk"))},[a,s]),i};var iE=e.i(771090),iA=e.i(590518),iM=e.i(331835);let iP=e=>{let{show:t,onHide:i,event:s,title:n,hasPaid:r,approvalStatus:l}=e,d=(0,O.useT)(),c=d({defaultMessage:"Cancel Registration",id:"M8a9St",description:"Event page. Modal title."}),[u,m]=(0,o.useState)("start");return(0,o.useEffect)(()=>{t||setTimeout(()=>{m("start")},300)},[t]),(0,a.jsx)(ex.LuxMultiStepModal,{show:t,onHide:i,icon:(0,a.jsx)(iE.default,{}),title:n||c,desc:d({defaultMessage:"Click on the confirm button below to cancel your registration. We’ll let the host know that you can’t make it.",id:"po54EL",description:"Description for cancel registration modal."}),iconColor:"error",currentStep:u,onBack:()=>m("start"),steps:{start:{content:(0,a.jsx)(iR,{hasPaid:r,eventApiId:s.api_id,approvalStatus:l,onViewRefundPolicy:()=>m("refund"),onContact:()=>m("contact"),onHide:i})},refund:{title:d(D.CT.RefundPolicy),content:(0,a.jsx)(iL,{onContact:()=>{m("contact")}})},contact:{title:d({defaultMessage:"Contact the Host",id:"oPCvxt",description:"Title for contact host modal."}),content:(0,a.jsx)(iI,{onHide:i})}}})},iR=e=>{let{hasPaid:t,eventApiId:n,approvalStatus:r,onViewRefundPolicy:o,onContact:l,onHide:d}=e,{refreshEvent:c,onUnregister:u,refund_policy:m}=(0,i.useEventPageContext)(),f=iM.SparkTypes.hasContent(m),x=(0,O.useT)();return(0,a.jsxs)("div",{className:"jsx-77a3725161be7039",children:[t&&(0,a.jsx)("div",{className:"jsx-77a3725161be7039 payment-info fs-sm text-secondary-alpha",children:r===G.GuestApprovalStatus.PendingApproval?(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"If there is a hold on your card, it will be removed within a few days.",id:"gD3XrJ",description:"Event page. Cancel modal message for pending approval with payment hold."}):f?(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"Please note: canceling your registration doesn’t automatically issue a refund. Please review the <refund>refund policy</refund> and <contact>contact the host</contact> if you’d like to request a refund.",id:"K5gWN+",description:"Event page. Cancel modal message.",values:{refund:e=>(0,a.jsx)("span",{onClick:o,className:"jsx-77a3725161be7039 a text-error",children:e},"refund"),contact:e=>(0,a.jsx)("span",{onClick:l,className:"jsx-77a3725161be7039 a text-error",children:e},"contact")}}):(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"Please note: canceling your registration doesn’t automatically issue a refund. <contact>Contact the host</contact> if you'd like to request a refund.",id:"9OvSik",description:"Event page. Cancel modal message.",values:{contact:e=>(0,a.jsx)("span",{onClick:l,className:"jsx-77a3725161be7039 a text-error",children:e},"contact")}})}),(0,a.jsxs)("div",{className:"jsx-77a3725161be7039 flex-center gap-2 mt-1",children:[(0,a.jsx)(p.LuxButton,{label:x(D.CT.Confirm),fullWidth:!0,color:"error",onClick:async()=>{await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/event/decline-my-registration",{event_api_id:n}),u(),await c(),d()},{success:x({defaultMessage:"You’ve canceled your registration.",id:"hHjNyx",description:"Event page. Cancel modal success toast message."}),error:x({defaultMessage:"There was an error processing your request.",id:"2KkTdg",description:"Event page. Cancel modal error toast message."})})}}),(0,a.jsx)(p.LuxButton,{label:x(D.CT.Dismiss),onClick:d,fullWidth:!0,color:"light"})]}),(0,a.jsx)(s.default,{id:"77a3725161be7039",children:".payment-info.jsx-77a3725161be7039{margin-bottom:1.25rem}"})]})},iL=e=>{let{onContact:t}=e,{refund_policy:s}=(0,i.useEventPageContext)();return(0,a.jsxs)("div",{children:[(0,a.jsx)(iA.SparkDoc,{doc:s}),(0,a.jsx)("div",{className:"fs-xs text-tertiary-alpha mt-3",children:(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"The refund policy is specified by the presenting calendar. If you have any questions, please <contact>contact the host</contact>.",id:"ufSqId",description:"Refund policy footer.",values:{contact:e=>(0,a.jsx)("span",{className:"a",onClick:t,children:e},"contact")}})})]})},iI=e=>{let{onHide:t}=e,i=(0,O.useT)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"fs-sm text-secondary-alpha",children:i({defaultMessage:"To contact the host, please enter your message below:",id:"h040Dj"})}),(0,a.jsx)(tv,{onSubmit:t,placeholder:i({defaultMessage:"Please enter your message for the host.",id:"YXdhoW",description:"Placeholder text for contact host input."})})]})};var iq=e.i(860040),iB=e.i(526583);let iU=(0,e.i(979637).safeDynamic)({loader:()=>e.A(65742).then(e=>e.EventTicketQRCode),fallback:()=>null}),iF=e=>{let{show:t,onHide:n}=e,{user:r}=(0,ee.useUserContext)(),{event:o,guest_data:l}=(0,i.useEventPageContext)(),{width:d}=(0,iq.useWindowSize)(),{event_tickets:c}=l,u=(0,O.useT)();return l.proxy_key&&r?(0,a.jsx)(x.LuxModalContainer,{onHide:n,variant:"lux-alert",children:t&&(0,a.jsxs)("div",{className:s.default.dynamic([["78ed80292976162",[j.ResponsiveBreakpoint.tiny]]])+" flex-column",children:[(0,a.jsx)("div",{className:s.default.dynamic([["78ed80292976162",[j.ResponsiveBreakpoint.tiny]]])+" flex-center-center qr-wrapper",children:(0,a.jsx)(iU,{eventApiId:o.api_id,qrKey:l.proxy_key,size:(d||0)>j.ResponsiveBreakpointNumbers.tiny?200:175})}),(0,a.jsxs)("div",{className:s.default.dynamic([["78ed80292976162",[j.ResponsiveBreakpoint.tiny]]])+" info",children:[(0,a.jsx)("div",{className:s.default.dynamic([["78ed80292976162",[j.ResponsiveBreakpoint.tiny]]])+" fs-lg fw-medium my-2",children:o.name}),(0,a.jsxs)("div",{className:s.default.dynamic([["78ed80292976162",[j.ResponsiveBreakpoint.tiny]]])+" guest-ticket",children:[(0,a.jsx)(iO,{label:u(D.CT.Name),value:r.name||u(D.CT.Anonymous)}),(0,a.jsx)(iO,{label:u(D.CT.Email),value:r.email}),(0,a.jsx)(iz,{event_tickets:c})]})]}),(0,a.jsx)(s.default,{id:"78ed80292976162",dynamic:[j.ResponsiveBreakpoint.tiny],children:".qr-wrapper.__jsx-style-dynamic-selector{margin:calc(-1*var(--modal-vertical-padding))calc(-1*var(--modal-horizontal-padding));border-bottom:2px dashed var(--divider-color);background-color:var(--bg-opacity-24);margin-bottom:.5rem;padding:2.75rem 1.5rem 2.25rem}.divider.__jsx-style-dynamic-selector{margin:.75rem calc(-.5rem - var(--modal-horizontal-padding));border-bottom:2px dotted var(--divider-color)}.guest-ticket.__jsx-style-dynamic-selector{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem;display:grid}@media (max-width:".concat(j.ResponsiveBreakpoint.tiny,"){.info.__jsx-style-dynamic-selector .fw-medium.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}")})]})}):null},iz=e=>{let{event_tickets:t}=e,{ticket_types:s}=(0,i.useEventPageContext)();return 0===t.length||t.length<=1&&s.length<=1?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-tinted fs-xs",children:(0,a.jsx)(z.T,{defaultMessage:"{count, plural, one {Ticket} other {Tickets}}",id:"0fs5if",values:{count:t.length}})}),(0,a.jsx)(iB.EventTicketsList,{event_tickets:t,ticket_types:s})]})},iO=e=>{let{label:t,value:i}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-tertiary-alpha fs-xs",children:t}),(0,a.jsx)("div",{className:"text-ellipses",children:i})]})},iD=e=>{let{guestInfo:t}=e,{event:n}=(0,i.useEventPageContext)(),{approval_status:r,avatar_url:o}=t,l=(0,Y.getEventState)({event:n}),{messageFunc:d,descFunc:c}=iX[r],u=(0,O.useT)(),m=d(u),p=null==c?void 0:c(u);return(l===Y.EventState.Ended||l===Y.EventState.EndedRecently)&&(r===G.GuestApprovalStatus.Approved||r===G.GuestApprovalStatus.Session?(m=u({defaultMessage:"Thank You for Joining",id:"KF+IEu",description:"Registration card title for after the event has ended."}),p=u({defaultMessage:"We hope you enjoyed the event!",id:"fUwFX0",description:"Registration card subtitle for after the event has ended."})):p=u({defaultMessage:"This event has ended. See you next time!",id:"G9qi+l",description:"Registration card message after event has ended for people viewing the event page but were not part of the event."})),(0,a.jsxs)("div",{className:s.default.dynamic([["d1f1b7fc97499339",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny]]])+" flex-column gap-3 series-card",children:[(0,a.jsxs)("div",{className:s.default.dynamic([["d1f1b7fc97499339",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny]]]),children:[(0,a.jsx)(ea.Avatar,{url:o,rem:2.5}),(0,a.jsx)("div",{className:s.default.dynamic([["d1f1b7fc97499339",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny]]])+" title mt-2",children:m}),p&&(0,a.jsx)("div",{className:s.default.dynamic([["d1f1b7fc97499339",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny]]])+" desc text-tinted",children:p})]}),(0,a.jsx)(s.default,{id:"d1f1b7fc97499339",dynamic:[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny],children:".series-card.__jsx-style-dynamic-selector{margin:.375rem .125rem}.title.__jsx-style-dynamic-selector{font-size:1.375rem;font-weight:var(--font-weight-bold);font-family:var(--title-font)}@media (max-width:".concat(j.ResponsiveBreakpoint.small,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}@media (max-width:").concat(j.ResponsiveBreakpoint.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-lg)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})};var iW=e.i(373641),iV=e.i(337695),iK=e.i(35805),iY=e.i(258762);let iQ=e=>{let{show:t,onHide:i}=e;return(0,a.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:t&&(0,a.jsx)(iH,{onHide:i})})},iH=e=>{let{onHide:t}=e,{refreshUser:i}=(0,ee.useUserContext)(),[s,n]=(0,o.useState)({mode:"enter-phone"});return(0,a.jsxs)("div",{className:"py-2",children:["enter-phone"===s.mode&&(0,a.jsx)(iG,{onSentCode:e=>{let{phoneNumber:t,codeSentVia:a}=e;return n({mode:"verify-phone",phoneNumber:t,codeSentVia:a})}}),"verify-phone"===s.mode&&(0,a.jsx)(iZ,{phoneNumber:s.phoneNumber,codeSentVia:s.codeSentVia,onVerified:async()=>{await i(),t()}})]})},iG=e=>{let{onSentCode:t}=e,i=(0,O.useT)(),{country_code:s}=(0,$.useCountry)(),{waitForTurnstile:n}=(0,tp.useCaptchaContext)();return(0,a.jsx)(iJ,{icon:(0,a.jsx)(iV.default,{}),title:i({defaultMessage:"Link Phone Number",id:"Ui61Dh",description:"Update phone number modal title."}),desc:i({defaultMessage:"Add a phone number to your Luma account.",id:"HluNQl",description:"Update phone number modal description."}),children:(0,a.jsx)(eu.Formik,{initialValues:{phoneNumber:""},onSubmit:async e=>{let{phoneNumber:a}=e;await (0,_.callWithToast)(async()=>{let{sent_via:e}=await eo.APIClient.post("/auth/sms/request-verification-code",{phone_number:a,ensure_phone_number_free:!0},{waitForTurnstile:n});t({phoneNumber:a,codeSentVia:e})},{error:i({defaultMessage:"There was a problem sending a verification text.",id:"aAohe5",description:"Update phone number modal. Error toast message."})})},children:(0,a.jsxs)(eu.Form,{children:[(0,a.jsx)(aR.LuxPhoneNumberInputField,{name:"phoneNumber",countryCode:s,className:"mb-3",required:!0,autoFocus:!0}),(0,a.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:i({defaultMessage:"Next",id:"xCWoVv",description:"Generic next button label. Proceeds."})})]})})})},iZ=e=>{let{phoneNumber:t,codeSentVia:i,onVerified:s}=e,n=(0,O.useT)();return(0,a.jsx)(iJ,{icon:(0,a.jsx)(iK.default,{}),desc:"whatsapp"===i?(0,a.jsx)(z.T,{defaultMessage:"We sent a verification code to {phone_number} via WhatsApp. Please enter it below.",id:"wCLRnF",description:"Update phone number modal.",values:{phone_number:(0,a.jsx)("b",{children:(0,a.jsx)(iY.FormattedPhone,{className:"text-primary",phone:t})})}}):(0,a.jsx)(z.T,{defaultMessage:"We sent a verification code to {phone_number}. Please enter it below.",id:"fBoSxb",description:"Update phone number modal.",values:{phone_number:(0,a.jsx)("b",{children:(0,a.jsx)(iY.FormattedPhone,{className:"text-primary",phone:t})})}}),title:n({defaultMessage:"Enter Verification Code",id:"yexxkB",description:"Update phone number modal."}),children:(0,a.jsx)(iW.MultiCodeInput,{onFullCode:async e=>{await eo.APIClient.post("/auth/sms/link-phone-number",{phone_number:t,code:e}),s()}})})},iJ=e=>{let{icon:t,desc:i,title:s,children:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.LuxAlertTop,{icon:t,title:s,desc:i}),(0,a.jsx)("div",{className:"mt-3",children:n})]})},iX={approved:{messageFunc:e=>e({defaultMessage:"You’re In",id:"/AvpwA",description:"Post event registration card title."})},declined:{messageFunc:e=>e({defaultMessage:"You’re Not Going",id:"7XJkaX",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We hope to see you next time!",id:"IvBomP",description:"Post event registration card subtitle."})},pending_approval:{messageFunc:e=>e({defaultMessage:"Pending Approval",id:"PzRLym",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We will let you know when the host approves your registration.",id:"z1InZw",description:"Post event registration card subtitle."})},session:{messageFunc:e=>e({defaultMessage:"Thank You",id:"fjeVhb"})},waitlist:{messageFunc:e=>e({defaultMessage:"You’re on the Waitlist",id:"7SIXey",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We will let you know if you are admitted.",id:"XiV4eA",description:"Post event registration card title for guests on waitlist."})}},i$=e=>{let{guestInfo:t,inPanel:i}=e,{approval_status:s}=t,n=(0,v.useBoolean)(!1),r=n.value&&s===G.GuestApprovalStatus.Declined;return(0,a.jsxs)("div",{children:[(0,a.jsx)(f.LuxCollapse,{show:!r,children:(0,a.jsx)(i0,{guestInfo:t,onShouldReregister:n.setTrue,inPanel:i})}),(0,a.jsx)(f.LuxCollapse,{show:r,children:(0,a.jsx)(il,{inPanel:i})})]})},i0=e=>{let{guestInfo:t,onShouldReregister:s,inPanel:n}=e,{newStyle:r,theme_meta:o}=(0,i.useEventPageContext)();return r?!n&&Q.EventThemeToInfo[o.theme].liquidGlass?(0,a.jsx)(u.LiquidGlass,{children:(0,a.jsx)(i2,{guestInfo:t,onShouldReregister:s})}):(0,a.jsx)(ed.Base11Card,{children:(0,a.jsx)(i2,{guestInfo:t,onShouldReregister:s})}):(0,a.jsx)(ec.EventContentCard,{children:(0,a.jsx)(i2,{guestInfo:t,onShouldReregister:s})})},i2=e=>{let{guestInfo:t,onShouldReregister:n}=e,{event:r}=(0,i.useEventPageContext)(),{avatar_url:o,approval_status:l,event_tickets:d}=t;return r.event_type===G.EventType.Series?(0,a.jsx)(iD,{guestInfo:t}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-40dc5c037ec13454 top flex-column gap-25",children:[(0,a.jsx)(i1,{approval_status:l,avatar_url:o,event_tickets:d}),(0,a.jsx)(se,{approval_status:l}),(0,a.jsx)(i5,{approval_status:l,onShouldReregister:n})]}),(0,a.jsx)(i3,{guestInfo:t}),(0,a.jsx)(s.default,{id:"40dc5c037ec13454",children:".top.jsx-40dc5c037ec13454{margin:.375rem .125rem 0}.top.jsx-40dc5c037ec13454:last-child{margin-bottom:.375rem}div.jsx-40dc5c037ec13454 .a{border-bottom:1px solid var(--brand-pale-bg-color)}div.jsx-40dc5c037ec13454 .a:hover{border-bottom-color:var(--brand-active-color)}"})]})},i1=e=>{let{approval_status:t,avatar_url:n,event_tickets:r}=e,{event:l,ticket_types:d}=(0,i.useEventPageContext)(),c=d.length>1,u=(0,Y.getEventState)({event:l}),{messageFunc:m,descFunc:p}=iX[t],f=(0,O.useT)(),x=m(f),h=null==p?void 0:p(f);(u===Y.EventState.Ended||u===Y.EventState.EndedRecently)&&(t===G.GuestApprovalStatus.Approved||t===G.GuestApprovalStatus.Session?(x=f({defaultMessage:"Thank You for Joining",id:"KF+IEu",description:"Registration card title for after the event has ended."}),h=f({defaultMessage:"We hope you enjoyed the event!",id:"fUwFX0",description:"Registration card subtitle for after the event has ended."})):h=f({defaultMessage:"This event has ended. See you next time!",id:"G9qi+l",description:"Registration card message after event has ended for people viewing the event page but were not part of the event."}));let v=(0,o.useMemo)(()=>{if(0===r.length)return null;if(1===r.length){if(!c)return null;let[e]=r;return"Ticket: ".concat(e.event_ticket_type_info.name)}if(!c)return"".concat(r.length," Tickets");let e=new H.EventTicketSummary({event_tickets:r,ticket_types:d}).ticketGroups.map(e=>{let{name:t,count:a}=e;return"".concat(a,"x ").concat(t)});return"Tickets: ".concat(e.join(", "))},[r,c,d]);return(0,a.jsxs)("div",{className:s.default.dynamic([["489eaa701b7af356",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small]]]),children:[(0,a.jsxs)("div",{className:s.default.dynamic([["489eaa701b7af356",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small]]])+" flex-start spread",children:[(0,a.jsx)(ea.Avatar,{url:n,rem:2.5}),(0,a.jsx)(i9,{approvalStatus:t})]}),(0,a.jsx)("div",{className:s.default.dynamic([["489eaa701b7af356",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small]]])+" title mt-2 fw-medium",children:x}),v&&(0,a.jsx)("div",{className:s.default.dynamic([["489eaa701b7af356",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small]]])+" ticket-type text-tertiary-alpha",children:v}),h&&(0,a.jsx)("div",{className:s.default.dynamic([["489eaa701b7af356",[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small]]])+" desc text-tinted",children:h}),(0,a.jsx)(s.default,{id:"489eaa701b7af356",dynamic:[j.ResponsiveBreakpoint.small,j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.small],children:".title.__jsx-style-dynamic-selector{font-size:var(--font-size-xxl);font-family:var(--title-font)}.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}@media (max-width:".concat(j.ResponsiveBreakpoint.small,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}@media (max-width:").concat(j.ResponsiveBreakpoint.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-lg)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-lg);margin-top:-.125rem;margin-bottom:.125rem}@media (max-width:").concat(j.ResponsiveBreakpoint.small,"){.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}")})]})},i5=e=>{var t;let n,{approval_status:r,onShouldReregister:o}=e,l=(0,O.useT)(),{user:d}=(0,ee.useUserContext)(),{event:c,guest_data:u,registeredGuestInfo:m,ticket_types:f,ticket_info:x,can_register_for_multiple_tickets:h,hasPaid:v}=(0,i.useEventPageContext)(),g=iS({url:c.url}),j=(0,y.useModalState)(),_=(0,b.useNow)(),w=V.EventCheckIn.supportsCheckIn(c)&&r===G.GuestApprovalStatus.Approved,T=V.EventCheckIn.supportsApplePass(c),C=c.location_type==K.EventLocationType.Offline,S=(0,Y.getEventState)({event:c});(g||u.proxy_key)&&u.approval_status===G.GuestApprovalStatus.Approved?n=J.LumaRoutes.eventJoinUrl({key:g||u.proxy_key}):(null==(t=c.virtual_info)?void 0:t.raw_join_url)&&(n=c.virtual_info.raw_join_url);let E=!!(!C&&[Y.EventState.Ongoing,Y.EventState.StartingSoon,Y.EventState.EndedRecently].includes(S)&&n),A=(0,y.useModalState)(),M=(0,y.useModalState)(),P=(0,y.useModalState)(),R=(0,y.useModalState)(),I=S===Y.EventState.Upcoming;if(!d)return I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.LuxButton,{icon:(0,a.jsx)(N.default,{}),label:l({defaultMessage:"Add to Calendar",id:"4B3qzj"}),onClick:A.onShow,color:"light",size:"small"}),(0,a.jsx)(i4,{...A,showGmailDisclaimer:!!(null==m?void 0:m.email.toLocaleLowerCase().includes("@gmail.com"))})]}):null;if(S===Y.EventState.Ended||r!==G.GuestApprovalStatus.Approved&&S===Y.EventState.EndedRecently)return null;if(console.log(u),r===G.GuestApprovalStatus.Waitlist)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fs-sm text-tinted",children:(0,a.jsx)(z.T,{defaultMessage:"If you can no longer join, you can <a>leave the waitlist</a>.",id:"93JRyu",values:{a:e=>(0,a.jsx)("span",{className:"a animated",onClick:M.onShow,children:e})}})}),(0,a.jsx)(iP,{event:c,hasPaid:v,approvalStatus:r,...M,title:l({defaultMessage:"Leave Waitlist",id:"41PkuD",description:"Event page. Modal title."})})]});if(r===G.GuestApprovalStatus.Declined)return(0,a.jsx)("div",{className:"fs-sm text-tinted",children:(0,a.jsx)(z.T,{defaultMessage:"Changed your mind? You can <a>register again</a>.",id:"iJUv3/",description:"Event page. Post registration prompt.",values:{a:e=>(0,a.jsx)("span",{className:"a animated",onClick:o,children:e})}})});let B=c.location_type===K.EventLocationType.Missing&&r===G.GuestApprovalStatus.Approved&&(S===Y.EventState.StartingSoon||S===Y.EventState.Ongoing),U=w||E||B||I,D=c.visibility===G.EventVisibility.Public?(0,a.jsx)(p.LuxButton,{className:"flex-shrink-0",label:l({defaultMessage:"Invite a Friend",id:"cvWL4T",description:"Event page. CTA button."}),icon:(0,a.jsx)(q.default,{}),onClick:R.onShow,color:"light",size:"small"}):null,W=h&&!c.hide_rsvp&&(null==x?void 0:x.spots_remaining)!=0&&f.filter(e=>(0,tl.isTicketTypeAvailable)({ticket_type:e,now:_,disallow_require_approval_and_crypto:!0})).length>0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947",children:[U&&(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center gap-2 spread flex-wrap",children:[(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center gap-2",children:[E&&(0,a.jsx)(p.LuxButton,{className:"flex-1",label:l({defaultMessage:"Join Event",id:"vHosvQ",description:"Event page. CTA button."}),href:n,openInNewTab:!0,icon:(0,a.jsx)(F.default,{}),size:"small"}),I&&(0,a.jsx)(p.LuxButton,{icon:(0,a.jsx)(N.default,{}),label:l({defaultMessage:"Add to Calendar",id:"4B3qzj"}),onClick:A.onShow,color:"light",size:"small"}),w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.LuxButton,{label:l({defaultMessage:"My Ticket",id:"nUTILX"}),icon:(0,a.jsx)(L.default,{}),onClick:P.onShow,color:I?"light":"primary",iconPlacement:I?"icon-only":"left",size:"small"}),T&&(0,a.jsx)(et.AddToAppleWalletButton,{eventApiId:c.api_id,eventName:c.name,proxyKey:u.proxy_key||g,iconPlacement:"icon-only",color:"light",size:"small"})]}),B&&(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center missing",children:[(0,a.jsx)("div",{className:"jsx-b42bbf148fd6f947 icon flex-center-center text-tinted",children:(0,a.jsx)(k.default,{})}),(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947",children:[(0,a.jsx)("div",{className:"jsx-b42bbf148fd6f947 fw-medium",children:(0,a.jsx)(z.T,{defaultMessage:"No Join Info Provided by Host",id:"c2TpNn",description:"Event page."})}),(0,a.jsx)("div",{className:"jsx-b42bbf148fd6f947 text-tinted fs-sm",children:(0,a.jsx)(z.T,{defaultMessage:"Check your email or contact the host to join the event.",id:"RGrtw0",description:"Event page."})})]})]})]}),D]}),W&&(0,a.jsx)("div",{className:"jsx-b42bbf148fd6f947 additional-tickets fs-sm text-tinted",children:(0,a.jsx)(z.T,{defaultMessage:"If needed, you can <additional>register for additional tickets</additional>.",id:"lp4jEK",values:{additional:e=>(0,a.jsx)("span",{onClick:j.onShow,className:"jsx-b42bbf148fd6f947 a animated",children:e})}})}),S!==Y.EventState.EndedRecently&&(0,a.jsxs)("div",{className:"jsx-b42bbf148fd6f947 cant-join flex-center gap-2 spread",children:[(0,a.jsx)("div",{className:"jsx-b42bbf148fd6f947 fs-sm text-tinted",children:(0,a.jsx)(z.T,{defaultMessage:"No longer able to attend? Notify the host by <cancel>canceling your registration</cancel>.",id:"SOJo8n",values:{cancel:e=>(0,a.jsx)("span",{onClick:M.onShow,className:"jsx-b42bbf148fd6f947 a animated",children:e})}})}),!U&&D]})]}),(0,a.jsx)(iP,{event:c,hasPaid:v,approvalStatus:r,...M}),(0,a.jsx)(iF,{...P}),(0,a.jsx)(i4,{...A,showGmailDisclaimer:!!(null==m?void 0:m.email.toLocaleLowerCase().includes("@gmail.com"))}),(0,a.jsx)(i7,{...R}),(0,a.jsx)(tL,{...j}),(0,a.jsx)(s.default,{id:"b42bbf148fd6f947",children:".additional-tickets.jsx-b42bbf148fd6f947:not(:first-child),.cant-join.jsx-b42bbf148fd6f947:not(:first-child){margin-top:.75rem}.additional-tickets.jsx-b42bbf148fd6f947+.cant-join.jsx-b42bbf148fd6f947{margin-top:.5rem}.missing.jsx-b42bbf148fd6f947{gap:.75rem}.missing.jsx-b42bbf148fd6f947 .icon.jsx-b42bbf148fd6f947{border:1px solid var(--divider-color);border-radius:var(--border-radius);flex-shrink:0;width:2rem;height:2rem}"})]})},i7=e=>{let{show:t,onHide:s}=e,n=(0,O.useT)(),{event:r,registeredGuestInfo:o}=(0,i.useEventPageContext)();return(0,a.jsx)(er.ShareEventModal,{show:t,onHide:s,event:r,ticketKey:null==o?void 0:o.ticket_key,title:n({defaultMessage:"Invite a Friend",id:"vO+Iqp",description:"Modal title for sharing event."}),description:n({defaultMessage:"It’s always more fun with friends. We’ll let you know when your friends accept your invite.",id:"G9A8wl",description:"Description for sharing event / referring a friend."})})},i4=e=>{let{show:t,onHide:s,showGmailDisclaimer:n}=e,{user:r}=(0,ee.useUserContext)(),o=(0,i.useEventPageContext)(),{registeredGuestInfo:l}=o,d=(0,O.useT)(),u=(0,g.useIsMobileBrowser)();return(0,a.jsx)(x.LuxModalContainer,{onHide:s,variant:"lux-alert",children:t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(m.LuxAlertTop,{icon:(0,a.jsx)(P.default,{}),title:d({defaultMessage:"Add to Calendar",id:"PGEz0A",description:"Add to web calendar (Google Calendar, etc) modal title. Not this is *not* adding to your Luma Calendar."}),desc:(0,a.jsxs)("div",{className:"flex-column gap-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)(z.T,{defaultMessage:"On registration, we sent you an email that should’ve added an event to your calendar.",id:"2Uq/aN",description:"Event page. Add to calendar modal message."})}),n?(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"If the event wasn’t added automatically, you may need to <a>update your permissions</a>.",id:"g8p8xN",values:{a:e=>(0,a.jsx)(c.ExternalLink,{href:"https://help.luma.com/en/articles/7925916-troubleshooting-google-calendar-invites",children:e})}}):(0,a.jsx)(z.T,{tagName:"div",defaultMessage:"You can also click on one of the buttons to manually add the event to your calendar.",id:"QNdR9o"})]}),className:"mb-3"}),(0,a.jsx)(el.CalendarButtons,{size:"medium",onClickCalendar:e=>{var t,a;ss({isMobile:u,card:o,role:o.role,description_mirror:o.description_mirror,recipient_email:null!=(a=null!=(t=null==r?void 0:r.email)?t:null==l?void 0:l.email)?a:null,calendar_platform:e,t:d})}})]})})},i6=e=>{let{guestInfo:t}=e,i=(0,y.useModalState)(),n=(0,O.useT)(),r=(0,a.jsx)(M.default,{}),o=n({defaultMessage:"Please verify your email to manage your registration and see more event details.",id:"kxfu3R"}),l=n({defaultMessage:"Verify Email",id:"8mVcs0"});return t.email_verified&&(r=(0,a.jsx)(B.default,{}),o=n({defaultMessage:"Please sign in to manage your registration and see more event details.",id:"9LZGX7"}),l=n(D.CT.SignIn)),(0,a.jsxs)("div",{className:s.default.dynamic([["e45767cd94d50e87",[j.ResponsiveBreakpoint.tiny]]]),children:[(0,a.jsx)("hr",{className:s.default.dynamic([["e45767cd94d50e87",[j.ResponsiveBreakpoint.tiny]]])+" edge-to-edge my-3"}),(0,a.jsxs)("div",{className:s.default.dynamic([["e45767cd94d50e87",[j.ResponsiveBreakpoint.tiny]]])+" sign-in-wrapper flex-column",children:[(0,a.jsx)("div",{className:s.default.dynamic([["e45767cd94d50e87",[j.ResponsiveBreakpoint.tiny]]])+" icon flex-center-center",children:r}),(0,a.jsx)("div",{className:s.default.dynamic([["e45767cd94d50e87",[j.ResponsiveBreakpoint.tiny]]])+" message",children:o}),(0,a.jsx)(p.LuxButton,{label:l,size:"small",color:"light",icon:(0,a.jsx)(S.default,{}),iconPlacement:"right",onClick:i.onShow})]}),(0,a.jsx)(ei.SignInAfterRegistrationModal,{...i,emailVerified:t.email_verified,email:t.email}),(0,a.jsx)(s.default,{id:"e45767cd94d50e87",dynamic:[j.ResponsiveBreakpoint.tiny],children:".sign-in-wrapper.__jsx-style-dynamic-selector{background-color:var(--opacity-light);border-radius:var(--border-radius);gap:.75rem;margin-bottom:.25rem;padding:1rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{width:2rem;height:2rem;color:var(--primary-bg-color);background-color:var(--secondary-color-alpha);border-radius:2rem}@media (max-width:".concat(j.ResponsiveBreakpoint.tiny,"){.sign-in-wrapper.__jsx-style-dynamic-selector{gap:.625rem;padding:.75rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{width:1.75rem;height:1.75rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector svg{width:var(--font-size-sm);height:var(--font-size-sm)}.sign-in-wrapper.__jsx-style-dynamic-selector .message.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})},i3=e=>{let{guestInfo:t}=e,{user:r}=(0,ee.useUserContext)(),{event:o}=(0,i.useEventPageContext)(),l=(0,O.useT)(),d=!!((null==r?void 0:r.name)&&(null==r?void 0:r.avatar_url)),c=(0,y.useModalState)(),u=(0,v.useBoolean)(!d);if(!r)return(0,a.jsx)(i6,{guestInfo:t});let m=t.approval_status;if(m===G.GuestApprovalStatus.Declined||m===G.GuestApprovalStatus.Waitlist)return null;let x=(0,Y.getEventState)({event:o});return x===Y.EventState.Ended||x===Y.EventState.EndedRecently?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{className:"jsx-a058432fc1da4b28 edge-to-edge my-3"}),(0,a.jsxs)("div",{className:"jsx-a058432fc1da4b28 bottom",children:[(0,a.jsxs)("div",{onClick:u.toggle,className:"jsx-a058432fc1da4b28 "+((0,n.default)("toggle animated flex-center spread gap-2",{expanded:u.value})||""),children:[(0,a.jsxs)("div",{className:"jsx-a058432fc1da4b28",children:[(0,a.jsx)("b",{className:"jsx-a058432fc1da4b28 noselect",children:(0,a.jsx)(z.T,{defaultMessage:"Get Ready for the Event",id:"caRzlY",description:"Message on registration card after you've registered. You click on this then we show some next steps (complete profile, reminders, etc.)."})}),(0,a.jsx)(f.LuxCollapse,{show:!u.value,children:(0,a.jsxs)("div",{className:"jsx-a058432fc1da4b28 fs-sm subtitle",children:[l(d?{defaultMessage:"Profile Complete",id:"YJCg2O",description:"Shown when the user has filled out their profile."}:{defaultMessage:"Complete Your Profile",id:"kZoWfb"})," · ",st({user:r,t:l})]})})]}),(0,a.jsx)("div",{className:"jsx-a058432fc1da4b28 flex-center chevron",children:(0,a.jsx)(E.default,{})})]}),(0,a.jsx)(f.LuxCollapse,{show:u.value,children:(0,a.jsxs)("div",{className:"jsx-a058432fc1da4b28 prompts",children:[(0,a.jsxs)(i8,{icon:(0,a.jsx)(U.default,{}),title:l({defaultMessage:"Your Profile",id:"3t83FH"}),children:[(0,a.jsxs)("div",{className:"jsx-a058432fc1da4b28 flex-center gap-2 py-2",children:[(0,a.jsx)(ea.Avatar,{url:r.avatar_url,rem:1.25}),(0,a.jsx)("div",{className:"jsx-a058432fc1da4b28 fw-medium text-ellipses",children:r.name||l(D.CT.Anonymous)})]}),(0,a.jsx)("div",{className:"jsx-a058432fc1da4b28 pt-2",children:(0,a.jsx)(p.LuxButton,{label:l(d?{defaultMessage:"Update Profile",id:"a3XVSu",description:"Prompt to update your user profile."}:{defaultMessage:"Complete Profile",id:"Q6MHBu",description:"Prompt to finish your user profile."}),fullWidth:!0,onClick:c.onShow,color:"light",size:"small"})})]}),(0,a.jsx)(i8,{icon:(0,a.jsx)(T.default,{}),title:l({defaultMessage:"Configure Reminders",id:"ww7yXA",description:"Prompt to configure email / SMS reminders for the event."}),children:(0,a.jsx)(sa,{})})]})})]}),(0,a.jsx)(es.CompleteProfileModal,{...c,desc:l({defaultMessage:"Update your picture and name to let people know who is coming.",id:"RJTStM"})}),(0,a.jsx)(s.default,{id:"a058432fc1da4b28",children:".bottom.jsx-a058432fc1da4b28{padding-bottom:.25rem}.toggle.jsx-a058432fc1da4b28{cursor:pointer;color:var(--opacity-48)}@media (hover:hover){.toggle.jsx-a058432fc1da4b28:hover{color:var(--primary-color)}}.toggle.jsx-a058432fc1da4b28 .chevron.jsx-a058432fc1da4b28{transform-origin:50%;transition:transform var(--transition-duration)var(--transition-fn);transform:rotate(-90deg)}.toggle.expanded.jsx-a058432fc1da4b28{color:var(--primary-color)}.toggle.expanded.jsx-a058432fc1da4b28 .chevron.jsx-a058432fc1da4b28{transform:rotate(0)}.subtitle.jsx-a058432fc1da4b28{padding-top:.125rem}.prompts.jsx-a058432fc1da4b28{grid-gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding-top:1rem;display:grid}"})]})},i8=e=>{let{icon:t,title:i,children:n}=e;return(0,a.jsxs)("div",{className:"jsx-4aebb8be05272dfd prompt",children:[(0,a.jsxs)("div",{className:"jsx-4aebb8be05272dfd header gap-2 flex-center fs-sm fw-medium text-tinted",children:[t,(0,a.jsx)("div",{className:"jsx-4aebb8be05272dfd",children:i})]}),(0,a.jsx)("div",{className:"jsx-4aebb8be05272dfd content",children:n}),(0,a.jsx)(s.default,{id:"4aebb8be05272dfd",children:".prompt.jsx-4aebb8be05272dfd{background-color:var(--opacity-light);border-radius:var(--border-radius);padding:.5rem .75rem .75rem}.header.jsx-4aebb8be05272dfd svg{width:var(--font-size-sm);height:var(--font-size-sm)}.content.jsx-4aebb8be05272dfd{padding-top:.25rem}"})]})},i9=e=>{let{approvalStatus:t}=e,{event:n}=(0,i.useEventPageContext)(),o=(0,b.useNow)({interval:{seconds:.5}});if(t===G.GuestApprovalStatus.Declined)return null;let d=(0,Y.getEventState)({event:n});if(d===Y.EventState.Ongoing)return(0,a.jsx)(en.EventLiveBadge,{className:"fw-medium"});if(n.location_type!==K.EventLocationType.Offline||d!==Y.EventState.Upcoming&&d!==Y.EventState.StartingSoon)return null;let c=r.DateTime.fromISO(n.start_at);return(0,a.jsxs)("div",{className:"jsx-4918e4986d8a6a78 countdown-pill text-tinted fs-xs",children:[(0,a.jsx)(z.T,{defaultMessage:"Starting in {time}",id:"DUpgJK",description:"Indicating the event is starting in {time}, such as Starting in 1h.",values:{time:(0,a.jsx)("span",{className:"jsx-4918e4986d8a6a78 mono-number text-orange fw-medium",children:(0,a.jsx)(l.AfterMounted,{children:(0,W.getDHMSTime)({date:c,base:o})})},"time")}}),(0,a.jsx)(s.default,{id:"4918e4986d8a6a78",children:".countdown-pill.jsx-4918e4986d8a6a78{background-color:var(--opacity-light);border-radius:100px;padding:.1875rem .5625rem}"})]})},se=e=>{let{approval_status:t}=e,{event:n}=(0,i.useEventPageContext)(),o=(0,b.useNow)({interval:{seconds:.5}});if(t===G.GuestApprovalStatus.Declined||n.location_type===K.EventLocationType.Offline)return null;let d=(0,Y.getEventState)({event:n});if(d!==Y.EventState.Upcoming&&d!==Y.EventState.StartingSoon)return null;let c=r.DateTime.fromISO(n.start_at);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" counter-bar text-tinted",children:[(0,a.jsxs)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" flex-center spread",children:[(0,a.jsxs)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" flex-center gap-2",children:[(0,a.jsx)(C.default,{}),(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]]),children:(0,a.jsx)(z.T,{defaultMessage:"Event starting in",id:"ScezZi"})})]}),(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" mono-number text-orange fw-medium",children:(0,a.jsx)(l.AfterMounted,{children:(0,W.getDHMSTime)({date:c,base:o})})})]}),(0,a.jsx)(f.LuxCollapse,{show:d===Y.EventState.Upcoming&&t===G.GuestApprovalStatus.Approved&&n.location_type!==K.EventLocationType.Missing,children:(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" join-info",children:(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" content",children:(0,a.jsx)(z.T,{defaultMessage:"The join button will be shown when the event is about to start.",id:"VlOvFq"})})})}),d===Y.EventState.Upcoming&&n.location_type===K.EventLocationType.Missing&&(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" join-info",children:(0,a.jsx)("div",{className:s.default.dynamic([["ae35d204987c3d1a",[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny]]])+" content",children:(0,a.jsx)(z.T,{defaultMessage:"The host will provide the join link later.",id:"GINfzr"})})})]}),(0,a.jsx)(s.default,{id:"ae35d204987c3d1a",dynamic:[j.ResponsiveBreakpoint.tiny,j.ResponsiveBreakpoint.tiny],children:".counter-bar.__jsx-style-dynamic-selector{border-radius:var(--border-radius);background-color:var(--opacity-light);padding:.5rem .875rem}.counter-bar.__jsx-style-dynamic-selector svg{flex-shrink:0}@media (max-width:".concat(j.ResponsiveBreakpoint.tiny,"){.counter-bar.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.counter-bar.__jsx-style-dynamic-selector svg{width:var(--font-size-sm);height:var(--font-size-sm)}}.join-info.__jsx-style-dynamic-selector{padding-top:.5rem}.join-info.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{border-top:1px solid var(--divider-color);font-size:var(--font-size-sm);margin-left:1.5rem;padding-top:.5rem}@media (max-width:").concat(j.ResponsiveBreakpoint.tiny,"){.join-info.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{margin-left:calc(.5rem + var(--font-size-sm));font-size:var(--font-size-xs)}}")})]})},st=e=>{let{user:t,t:a}=e,i=X.NotificationPreferences.shouldNotify({preferences:t.notification_preferences,type:"event_guest__reminder",channel:"email"}),s=!!(X.NotificationPreferences.shouldNotify({preferences:t.notification_preferences,type:"event_guest__reminder",channel:"sms"})&&t.phone_number);return a(i||s?i&&!s?{defaultMessage:"Reminder: Email",id:"FWIlJa",description:"State of reminders."}:!i&&s?{defaultMessage:"Reminder: SMS",description:"State of reminders.",id:"M8yKhO"}:{defaultMessage:"Reminder: SMS & Email",description:"State of reminders.",id:"UprQcH"}:{defaultMessage:"Reminder Off",id:"DxcgRi",description:"State of reminders."})},sa=()=>{let e=(0,O.useT)(),{user:t,refreshUser:i}=(0,ee.useUserContext)(),{sms_channel:s}=(0,$.useCountry)(),n=(0,y.useModalState)(),r=(0,y.useModalState)(),o=null==t?void 0:t.notification_preferences;if(!t||!o)return null;let l=X.NotificationPreferences.shouldNotify({preferences:o,type:"event_guest__reminder",channel:"email"}),c=!!(X.NotificationPreferences.shouldNotify({preferences:o,type:"event_guest__reminder",channel:"sms"})&&t.phone_number);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"toggle-wrapper mt-2 pt-1",children:[(0,a.jsx)(si,{icon:(0,a.jsx)(A.default,{}),title:e(D.CT.Email),right:(0,a.jsx)(h.LuxToggle,{isOn:l,onChange:async()=>{l?n.onShow():(await eo.APIClient.post("/user/update-notification-preferences",{preferences:{event_guest__reminder:{...null==t?void 0:t.notification_preferences.event_guest__reminder,email:!0}}}),await i())}})}),(0,a.jsx)(si,{icon:(0,a.jsx)(R.default,{}),title:"whatsapp"===s?"WhatsApp":e(D.CT.SMS),right:(0,a.jsx)(h.LuxToggle,{isOn:c,onChange:async()=>{if(!t.phone_number)return void r.onShow();await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/user/update-notification-preferences",{notification_preferences:{event_guest__reminder_sms:c?"off":"on"},preferences:{event_guest__reminder:{...null==t?void 0:t.notification_preferences.event_guest__reminder,sms:!c}}}),await i()},{error:e({defaultMessage:"There was an issue turning updating your reminder settings.",id:"TRHJCI"})})}})})]}),(0,a.jsx)(iQ,{...r}),(0,a.jsx)(d.DeleteConfirmationModal,{...n,text:e({defaultMessage:"You can turn back on reminders at any time from your notification settings.",id:"mPWfgK"}),title:e({defaultMessage:"Turn Off Reminders",id:"9HjzyX",description:"Title for the modal to manage reminders."}),actionButtonTitle:e({defaultMessage:"Turn Off",id:"BS1HKE",description:"Button CTA to turn off reminders."}),icon:(0,a.jsx)(I.default,{}),onConfirm:async()=>{await (0,_.callWithToast)(async()=>{await eo.APIClient.post("/user/update-notification-preferences",{preferences:{event_guest__reminder:{...null==t?void 0:t.notification_preferences.event_guest__reminder,email:!1}}}),await i(),n.onHide()},{error:e({defaultMessage:"There was an issue turning off reminders.",id:"5jblDF"})})}})]})},si=e=>{let{icon:t,title:i,right:n}=e;return(0,a.jsxs)("div",{className:"jsx-ce54a90fe660a73 prompt",children:[(0,a.jsx)("div",{className:"jsx-ce54a90fe660a73 separator"}),(0,a.jsxs)("div",{className:"jsx-ce54a90fe660a73 flex-center spread gap-2",children:[(0,a.jsx)("div",{className:"jsx-ce54a90fe660a73 flex text-tinted icon",children:t}),(0,a.jsx)("div",{className:"jsx-ce54a90fe660a73 fw-medium flex-1",children:i}),n&&(0,a.jsx)("div",{className:"jsx-ce54a90fe660a73 flex-shrink-0",children:n})]}),(0,a.jsx)(s.default,{id:"ce54a90fe660a73",children:".prompt.jsx-ce54a90fe660a73+.prompt.jsx-ce54a90fe660a73 .separator.jsx-ce54a90fe660a73{border-top:1px solid var(--divider-color);margin-top:.5rem;margin-left:1.5rem;padding-top:.5rem}"})]})},ss=e=>{let{isMobile:t,...a}=e,i=Z.LumaIcs.buildCalendarUrl(a);if(!t&&i.startsWith("BEGIN"))(0,w.downloadFile)({content:i,prefix:"Luma Event",fileType:"ics"});else{if(t&&i.startsWith("BEGIN")){let e="data:text/calendar;charset=utf8,";try{i=e+encodeURIComponent(i)}catch(t){i=e+encodeURIComponent(i.replace(/[\uD800-\uDFFF]/g,""))}}window.open(i,"_blank")}},sn=e=>{let{inPanel:t}=e,{registeredGuestInfo:s}=(0,i.useEventPageContext)();return s?(0,a.jsx)(i$,{guestInfo:s,inPanel:t}):(0,a.jsx)(il,{inPanel:t})}},974278,835061,990301,509255,e=>{"use strict";e.s(["EventThemeContainer",()=>y],974278);var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(191788),n=e.i(332587),r=e.i(67978),o=e.i(64964),l=e.i(826966),d=e.i(295787),c=e.i(860040);let u=e=>{let{video:n,image:r}=e,{width:o,height:l}=(0,c.useWindowSize)(),u=(0,d.useIsMounted)(),[m,p]=(0,s.useState)("none"),[f,x]=(0,s.useState)(""),h=(0,s.useRef)(null),v=(0,s.useRef)(null),g=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if("video"===m&&h.current&&v.current){let e=h.current,t=v.current,a=t.getContext("2d");if(!a)return;if(t.width=720,t.height=720,navigator.userAgent.toLowerCase().includes("firefox"))return void setTimeout(()=>{e.readyState>=2&&(a.drawImage(e,0,0,720,720),x(t.toDataURL("image/jpeg",.7)))},100);let i=0,s=1e3/15,n=!1,r=o=>{o-i>=s&&!n&&(e.readyState>=2&&(n=!0,a.drawImage(e,0,0,720,720),requestAnimationFrame(()=>{x(t.toDataURL("image/jpeg",.7)),n=!1})),i=o),g.current=requestAnimationFrame(r)};return r(0),()=>{g.current&&cancelAnimationFrame(g.current)}}return()=>{g.current&&cancelAnimationFrame(g.current)}},[m]),u&&o&&l)?(0,t.jsxs)("div",{className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])+" "+((0,i.default)("video-container animated",{loaded:"none"!==m})||""),children:[(0,t.jsx)("video",{ref:h,style:{display:"none"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,crossOrigin:"anonymous",onCanPlayThrough:async e=>{try{await e.currentTarget.play(),p("video")}catch(e){p("image")}},onError:()=>{p("image")},src:n,className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])}),(0,t.jsx)("canvas",{ref:v,style:{display:"none"},className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])}),(0,t.jsx)("div",{style:{backgroundImage:"video"===m&&f?"url(".concat(f,")"):"url(".concat(r,")")},className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])+" tiled-background"}),(0,t.jsx)(a.default,{id:"94e478a1c75b6691",dynamic:[720,720],children:".video-container.__jsx-style-dynamic-selector{pointer-events:none;opacity:0;width:100%;height:100%;position:fixed;top:0;left:0;overflow:hidden;transform:translateZ(0)}.video-container.loaded.__jsx-style-dynamic-selector{opacity:1}.tiled-background.__jsx-style-dynamic-selector{background-size:".concat(720,"px ").concat(720,"px;will-change:background-image;background-position:0 0;background-repeat:repeat;width:100%;height:100%;position:absolute;top:0;left:0;transform:translateZ(0)}")})]}):null};o.EventTheme.PolaroidDark,o.EventTheme.PolaroidLight,o.EventTheme.Matrix,o.EventTheme.Fireworks,o.EventTheme.HalloweenBats,o.EventTheme.FallingLeaves,o.EventTheme.SnowDark,o.EventTheme.SnowLight,o.EventTheme.PoolLight,o.EventTheme.PoolDark;let m={[o.EventTheme.PolaroidLight]:{video:"https://images.lumacdn.com/themes/video/iridescent-light-2.mp4",image:"https://images.lumacdn.com/themes/video/iridescent-light-2.png",mobileVideo:"https://images.lumacdn.com/themes/video/iridescent-light-mobile-2.mp4",mobileImage:"https://images.lumacdn.com/themes/video/iridescent-light-mobile-2.png",tiled:!1},[o.EventTheme.PolaroidDark]:{video:"https://images.lumacdn.com/themes/video/iridescent-dark-2.mp4",image:"https://images.lumacdn.com/themes/video/iridescent-dark-2.png",mobileVideo:"https://images.lumacdn.com/themes/video/iridescent-dark-mobile-2.mp4",mobileImage:"https://images.lumacdn.com/themes/video/iridescent-dark-mobile-2.png",tiled:!1},[o.EventTheme.Matrix]:{video:"https://images.lumacdn.com/themes/video/matrix.mp4",image:"https://images.lumacdn.com/themes/video/matrix.png",mobileVideo:"https://images.lumacdn.com/themes/video/matrix-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/matrix-mobile.png",tiled:!1},[o.EventTheme.Fireworks]:{video:"https://images.lumacdn.com/themes/video/fireworks.mp4",image:"https://images.lumacdn.com/themes/video/fireworks.png",mobileVideo:"https://images.lumacdn.com/themes/video/fireworks-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/fireworks-mobile.png",tiled:!1},[o.EventTheme.HalloweenBats]:{video:"https://images.lumacdn.com/themes/video/halloween-bat.mp4",image:"https://images.lumacdn.com/themes/video/halloween-bat.png",mobileVideo:"https://images.lumacdn.com/themes/video/halloween-bat-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/halloween-bat-mobile.png",tiled:!1},[o.EventTheme.FallingLeaves]:{video:"https://images.lumacdn.com/themes/video/leaves.mp4",image:"https://images.lumacdn.com/themes/video/leaves.png",mobileVideo:"https://images.lumacdn.com/themes/video/leaves-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/leaves-mobile.png",tiled:!1},[o.EventTheme.SnowDark]:{video:"https://images.lumacdn.com/themes/video/snow-dark.mp4",image:"https://images.lumacdn.com/themes/video/snow-dark.png",mobileVideo:"https://images.lumacdn.com/themes/video/snow-dark-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/snow-dark-mobile.png",tiled:!1},[o.EventTheme.SnowLight]:{video:"https://images.lumacdn.com/themes/video/snow-light.mp4",image:"https://images.lumacdn.com/themes/video/snow-light.png",mobileVideo:"https://images.lumacdn.com/themes/video/snow-light-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/snow-light-mobile.png",tiled:!1},[o.EventTheme.PoolLight]:{video:"https://images.lumacdn.com/themes/video/pool-light.mp4",image:"https://images.lumacdn.com/themes/video/pool-light.png",mobileVideo:"https://images.lumacdn.com/themes/video/pool-light.mp4",mobileImage:"https://images.lumacdn.com/themes/video/pool-light.png",tiled:!0},[o.EventTheme.PoolDark]:{video:"https://images.lumacdn.com/themes/video/pool-dark.mp4",image:"https://images.lumacdn.com/themes/video/pool-dark.png",mobileVideo:"https://images.lumacdn.com/themes/video/pool-dark.mp4",mobileImage:"https://images.lumacdn.com/themes/video/pool-dark.png",tiled:!1}},p=e=>{let{themeMeta:n}=e,r=m[n.theme],{is_mobile:o}=(0,c.useWindowSize)(),l=(0,d.useIsMounted)(),[p,f]=(0,s.useState)("none");return r&&l?r.tiled?(0,t.jsx)(u,{video:r.video,image:r.image},n.theme):(0,t.jsxs)("div",{className:"jsx-6138185c98a015dc "+((0,i.default)("video-container animated",{loaded:"none"!==p})||""),children:[(0,t.jsx)("img",{src:r.mobileImage&&o?r.mobileImage:r.image,className:"jsx-6138185c98a015dc"}),(0,t.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,onCanPlayThrough:async e=>{try{await e.currentTarget.play(),f("video")}catch(e){f("image")}},className:"jsx-6138185c98a015dc "+((0,i.default)("video"!==p&&"opacity-0")||""),children:(0,t.jsx)("source",{src:r.mobileVideo&&o?r.mobileVideo:r.video,type:"video/mp4",className:"jsx-6138185c98a015dc"})}),(0,t.jsx)(a.default,{id:"6138185c98a015dc",children:".video-container.jsx-6138185c98a015dc{pointer-events:none;opacity:0;width:100%;height:100%;position:fixed;top:0;left:0;overflow:hidden}.video-container.loaded.jsx-6138185c98a015dc{opacity:1}video.jsx-6138185c98a015dc,img.jsx-6138185c98a015dc{object-fit:cover;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}video.jsx-6138185c98a015dc::-webkit-media-controls-start-playback-button{display:none}"})]},n.theme):null};var f=e.i(979637);let x=(0,f.safeDynamic)({loader:()=>e.A(433906).then(e=>e.GradientCanvas),fallback:()=>null}),h=(0,f.safeDynamic)({loader:()=>e.A(877688).then(e=>e.ParticlesCanvas),fallback:()=>null}),v=(0,f.safeDynamic)({loader:()=>e.A(282122).then(e=>e.WarpCanvas),fallback:()=>null}),g=(0,f.safeDynamic)({loader:()=>e.A(610987).then(e=>e.EmojisCanvas),fallback:()=>null}),y=e=>{var d;let{children:c,tintColor:u,themeMeta:m,font:f,fullPage:y,newStyle:b}=e,j=null!=(d=o.EventThemeToInfo[m.theme])?d:{},_=f&&Object.values(o.WebFont).includes(f)?f:null,{theme:w,config:T}=(0,o.particlesTheme)(m),{theme:k,config:N}=(0,o.emojisTheme)(m),[C,S]=s.default.useState(""),{isDarkMode:E}=(0,r.useDarkMode)();return(0,s.useEffect)(()=>{if(y){let e=document.getElementsByClassName("event-theme full-page")[0];e&&S(window.getComputedStyle(e).getPropertyValue("--page-bg"))}},[u,y,E]),(0,t.jsxs)(n.TintWrapper,{tintColor:u,metaColor:j.metaColor,lightness:j.lightness,mode:"event-page",children:[(0,t.jsxs)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" "+((0,i.default)("event-theme",u&&"tinted",j.baseClass,m.theme,{"one-to-one":b,"full-page":y,"high-contrast":j.highContrast})||""),children:[(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background"}),(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background-glow"}),(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background-overlay"}),(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background-overlay2"}),(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background-overlay3"}),(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" background-overlay4"}),(0,t.jsx)(p,{themeMeta:m}),"video"===j.baseClass&&j.blendMode&&(u||j.tintColor)&&(0,t.jsx)("div",{style:{backgroundColor:u||j.tintColor||"#777"},className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" "+((0,i.default)("video-overlay animated",j.blendMode)||"")}),"video"===j.baseClass&&(0,t.jsx)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" video-overlay2"}),(0,o.isQuantumTheme)(m)&&(0,t.jsx)(x,{...(null==m?void 0:m.type)==="shader"?m:{},brightness:m.theme===o.EventTheme.ShaderLight?1.25:1,alpha:m.theme===o.EventTheme.ShaderLight?.5:.8,animate:!0,className:"gradient-bg animate"}),w&&(0,t.jsx)(h,{theme:w,className:"gradient-bg animate",config:T,tintColor:u}),k&&(0,t.jsx)(g,{theme:k,className:"gradient-bg animate",config:N,tintColor:u}),m.theme===o.EventTheme.Warp&&(0,t.jsx)(v,{className:"gradient-bg animate",tintColor:u}),(0,t.jsxs)("div",{className:a.default.dynamic([["5feb8ec0be8256ad",[C]]])+" page-container",children:[_&&(0,t.jsx)(l.FontLoader,{font:_,variable:"title-font"}),c]})]}),(0,t.jsx)(a.default,{id:"5feb8ec0be8256ad",dynamic:[C],children:".event-theme.__jsx-style-dynamic-selector{--card-padding:1rem;color:var(--primary-color)}.event-theme.__jsx-style-dynamic-selector .gradient-bg.animate{animation:2s forwards event-theme-fade-in}@keyframes event-theme-fade-in{0%{opacity:0}to{opacity:1}}.page-container.__jsx-style-dynamic-selector{min-height:100vh;background:0 0;min-height:100dvh;position:relative}.background.__jsx-style-dynamic-selector,.background-glow.__jsx-style-dynamic-selector,.background-overlay.__jsx-style-dynamic-selector,.video-overlay.__jsx-style-dynamic-selector,.video-overlay2.__jsx-style-dynamic-selector{z-index:0;pointer-events:none;width:100%;height:100vh;height:100lvh;position:fixed}.background-overlay2.__jsx-style-dynamic-selector,.background-overlay3.__jsx-style-dynamic-selector,.background-overlay4.__jsx-style-dynamic-selector{z-index:0;pointer-events:none;position:fixed}.video-overlay.overlay.__jsx-style-dynamic-selector{mix-blend-mode:overlay}.video-overlay.screen.__jsx-style-dynamic-selector{mix-blend-mode:screen;opacity:.3}.video-overlay.multiply.__jsx-style-dynamic-selector{mix-blend-mode:multiply}.video-overlay.color.__jsx-style-dynamic-selector{mix-blend-mode:color;opacity:.5}@supports (font:-apple-system-body) and ((-webkit-appearance:none) or (-moz-appearance:none) or (appearance:none)){.video-overlay.color.__jsx-style-dynamic-selector{mix-blend-mode:color-burn}}.full-page.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector,.full-page.__jsx-style-dynamic-selector .background-glow.__jsx-style-dynamic-selector,.full-page.__jsx-style-dynamic-selector .background-overlay.__jsx-style-dynamic-selector,.full-page.__jsx-style-dynamic-selector .video-overlay.__jsx-style-dynamic-selector,.full-page.__jsx-style-dynamic-selector .video-overlay2.__jsx-style-dynamic-selector{top:0;left:0}.background.__jsx-style-dynamic-selector{background:var(--page-bg)}html:has(.event-theme.full-page){background:".concat(C,"}html:has(.event-theme.full-page) .page-wrapper{background:").concat(C,"}")})]})};e.s(["CalendarOrHostsRow",()=>M],835061);var b=e.i(203828),j=e.i(679905),_=e.i(405155),w=e.i(268910),T=e.i(86316),k=e.i(689419),N=e.i(878206),C=e.i(442357),S=e.i(687836),E=e.i(686546),A=e.i(171548);let M=e=>{let{className:i}=e,s=(0,b.useRouter)(),n=(0,T.useT)(),{hosts:r,calendar:o,isEmbed:l}=(0,A.useEventPageContext)(),{width:d}=(0,c.useWindowSize)(),u=(null!=d?d:1e3)>_.ResponsiveBreakpointNumbers.tiny?1.125:1,m=o?C.LumaRoutes.calendar.publicPath({calendar:o}):null,p=m&&(0,k.isSameRootPath)({path1:s.asPath,path2:m,numLevels:(null==o?void 0:o.slug)?1:2});if(o&&!p&&!o.is_personal)return(0,t.jsxs)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[_.ResponsiveBreakpoint.tiny]]])+" "+(i||""),children:[(0,t.jsx)(j.LuxLink,{href:C.LumaRoutes.calendar.publicPath({calendar:o}),openInNewTab:l,children:(0,t.jsxs)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[_.ResponsiveBreakpoint.tiny]]])+" flex-center text-tinted min-width-0",children:[(0,t.jsx)(S.Avatar,{url:o.avatar_url,rem:u,isSquare:!0,className:"mr-2"}),(0,t.jsx)(P,{name:o.name}),(0,t.jsx)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[_.ResponsiveBreakpoint.tiny]]])+" chevron animated ml-05",children:(0,t.jsx)(w.default,{})})]})}),(0,t.jsx)(a.default,{id:"92d2a34dfcaf9fbc",dynamic:[_.ResponsiveBreakpoint.tiny],children:".chevron.__jsx-style-dynamic-selector{opacity:.5;transform:translateY(1px)}div.__jsx-style-dynamic-selector:hover .chevron.__jsx-style-dynamic-selector{opacity:1;transform:translate(2px)translateY(1px)}@media (max-width:".concat(_.ResponsiveBreakpoint.tiny,"){.chevron.__jsx-style-dynamic-selector{transform:translateY(.5px)}div.__jsx-style-dynamic-selector:hover .chevron.__jsx-style-dynamic-selector{transform:translate(2px)translateY(.5px)}}")})]});let f=r.filter(e=>{var t;return!!(null==(t=e.name)?void 0:t.trim())}),x=(0,N.hostedByDisplayString)({hosts:f,t:n});return""===x?null:(0,t.jsx)("div",{className:i,children:(0,t.jsxs)("div",{className:"flex-center gap-2 text-tinted",children:[(0,t.jsx)(E.Avatars,{users:f,rem:u,numCircles:5}),(0,t.jsx)(P,{name:x})]})})},P=e=>{let{name:i}=e;return(0,t.jsxs)("div",{className:a.default.dynamic([["869c1b13e54478ba",[_.ResponsiveBreakpoint.tiny]]])+" text-ellipses",children:[i,(0,t.jsx)(a.default,{id:"869c1b13e54478ba",dynamic:[_.ResponsiveBreakpoint.tiny],children:"@media (max-width:".concat(_.ResponsiveBreakpoint.tiny,"){div.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})};e.s(["DateRow",()=>$,"IconRowLoading",()=>ei,"LoadingDateRow",()=>et,"LocationRow",()=>ea],509255),e.i(89695);var R=e.i(103800),L=e.i(344731),I=e.i(677233),q=e.i(31197),B=e.i(318625),U=e.i(826420),F=e.i(97497),z=e.i(644449),O=e.i(851800),D=e.i(922323),W=e.i(151969),V=e.i(132571),K=e.i(257983),Y=e.i(136266),Q=e.i(443415),H=e.i(216279);e.s(["getTimezoneAbbr",()=>Z],990301);var G=e.i(9572);let Z=e=>{let{timezone:t,date:a,locale:i}=e;return(a?(0,G.convertToDt)(a):R.DateTime.now()).setLocale(i).setZone(t).toFormat("ZZZZ")};var J=e.i(566119);let X=e=>{let{session:s,selected:n,onClick:r}=e,o=(0,O.useLocale)(),l=s.location_type===K.EventLocationType.Offline?s.timezone:void 0,d=R.DateTime.fromISO(s.start_at,{zone:l,locale:o}),c=!r,u=s.hide_rsvp,m=(0,t.jsxs)("div",{onClick:()=>{u||c||null==r||r(s)},className:"jsx-e9c071862e1f73fb "+((0,i.default)("session-pill animated fw-medium",{soldout:u,readonly:c,selected:!u&&!c&&n})||""),children:[(0,t.jsx)("div",{className:"jsx-e9c071862e1f73fb date",children:(0,t.jsx)(L.AfterMounted,{children:d.toLocaleString({month:"short",day:"numeric",weekday:"short"})})}),(0,t.jsx)("div",{className:"jsx-e9c071862e1f73fb time animated",children:(0,t.jsx)(L.AfterMounted,{children:d.toLocaleString({hour:"numeric",minute:"2-digit"})})}),(0,t.jsx)(a.default,{id:"e9c071862e1f73fb",children:".session-pill.jsx-e9c071862e1f73fb{background-color:var(--opacity-light);border-radius:var(--border-radius);text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:1px solid var(--opacity-0);width:100%;padding:.4375rem}.session-pill.jsx-e9c071862e1f73fb:not(.soldout):not(.readonly){cursor:pointer}.session-pill.soldout.jsx-e9c071862e1f73fb{color:var(--secondary-color-alpha);opacity:.7;cursor:default}.session-pill.jsx-e9c071862e1f73fb .date.jsx-e9c071862e1f73fb,.session-pill.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{white-space:nowrap;font-size:var(--font-size-sm)}.session-pill.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{color:var(--tertiary-color-alpha)}@media (hover:hover){.session-pill.jsx-e9c071862e1f73fb:not(.soldout):not(.readonly):not(.selected):hover{background-color:var(--opacity-16)}}.session-pill.selected.jsx-e9c071862e1f73fb{color:var(--primary-or-tinted-color);border-color:var(--primary-or-tinted-color);background-color:var(--primary-bg-color)}.session-pill.selected.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{color:var(--tint-color)}"})]},s.api_id);return u?(0,t.jsx)(J.LuxTooltip,{content:(0,t.jsx)("div",{children:"Sold Out"}),children:(0,t.jsx)("div",{children:m})}):m},$=()=>{let e,s=(0,O.useLocale)(),{event:n,sessions:r}=(0,A.useEventPageContext)(),o=(0,V.getTimezoneIana)(),l=n.location_type===K.EventLocationType.Offline?n.timezone:void 0,d=R.DateTime.fromISO(n.start_at,{zone:l,locale:s}),c=R.DateTime.fromISO(n.end_at,{zone:l,locale:s}),u=d.hasSame(c,"year"),m=o===l,p=d.hasSame(c,"day"),f=c.diff(d,"hours").hours<=12,x=r.filter(e=>(0,Y.getEventState)({event:e})!=Y.EventState.Ended),h=(0,U.useBoolean)(),v=x.length>1;return e=p||f?"".concat(d.toLocaleString({hour:"numeric",minute:"2-digit"})," - ").concat(c.toLocaleString({hour:"numeric",minute:"2-digit"})).concat(m?"":" ".concat(Z({timezone:l,date:d,locale:s}))):"".concat(d.toLocaleString({hour:"numeric",minute:"2-digit"})," - ").concat(c.toLocaleString({month:"short",day:"numeric",hour:"numeric",minute:"2-digit",year:u?void 0:"numeric"})).concat(m?"":" ".concat(Z({timezone:l,date:d,locale:s}))),(0,t.jsxs)("div",{onClick:v?h.toggle:void 0,className:"jsx-d749895fa8411906 "+((0,i.default)("row-container",{"bg-hover cursor-pointer":v})||""),children:[(0,t.jsx)(L.AfterMounted,{fallback:(0,t.jsx)(et,{}),children:(0,t.jsx)(es,{icon:(0,t.jsx)(ee,{}),title:d.toLocaleString({weekday:"long",month:"long",day:"numeric",year:d.hasSame(R.DateTime.now(),"year")?void 0:"numeric"}),desc:(0,t.jsxs)(t.Fragment,{children:[e,v&&(0,t.jsxs)(t.Fragment,{children:[" · ",(0,t.jsx)(D.T,{defaultMessage:"{count, plural, one {# session} other {# sessions}}",id:"jdbsrn",values:{count:x.length}})]})]}),expandable:v})}),(0,t.jsx)(q.LuxCollapse,{show:h.value,children:(0,t.jsx)("div",{className:"jsx-d749895fa8411906 sessions pt-2",children:x.map(e=>(0,t.jsx)(X,{session:e},e.api_id))})}),(0,t.jsx)(a.default,{id:"d749895fa8411906",children:".row-container.jsx-d749895fa8411906{border-radius:var(--border-radius);margin:-.5rem;padding:.5rem}.sessions.jsx-d749895fa8411906{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.5rem;display:grid}.sessions.jsx-d749895fa8411906 .session-pill.jsx-d749895fa8411906{border-radius:var(--border-radius);background-color:var(--faint-gray);flex-direction:column;align-items:center;padding:.5rem;display:flex}.sessions.jsx-d749895fa8411906 .date.jsx-d749895fa8411906{text-transform:uppercase}"})]})},ee=()=>{let e=(0,O.useLocale)(),s=(0,_.useBreakpoints)(),{event:n}=(0,A.useEventPageContext)(),r=R.DateTime.fromISO(n.start_at,{zone:n.timezone,locale:e}),o=r.toLocaleString({month:"short"});return(0,t.jsxs)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" calendar-card text-center full-height",children:[(0,t.jsx)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" "+((0,i.default)("month nowrap",{long:o.length>6})||""),children:(0,t.jsx)(L.AfterMounted,{children:o})}),(0,t.jsx)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" day fw-medium",children:(0,t.jsx)(L.AfterMounted,{children:r.toFormat("d")})}),(0,t.jsx)(a.default,{id:"d107260cbc454511",dynamic:[s.tiny],children:".calendar-card.__jsx-style-dynamic-selector{width:100%}.calendar-card.__jsx-style-dynamic-selector .month.__jsx-style-dynamic-selector{background:var(--opacity-8);font-size:.5rem;font-weight:var(--font-weight-bold);text-transform:uppercase;padding:2px}.calendar-card.__jsx-style-dynamic-selector .month.long.__jsx-style-dynamic-selector{padding:3px 0;font-size:.4375rem}.calendar-card.__jsx-style-dynamic-selector .day.__jsx-style-dynamic-selector{transform:translateY(-1px)}@media (max-width:".concat(s.tiny,"){.calendar-card.__jsx-style-dynamic-selector .month.__jsx-style-dynamic-selector{padding:1px;font-size:.4375rem}.calendar-card.__jsx-style-dynamic-selector .month.long.__jsx-style-dynamic-selector{padding:2px 0;font-size:.375rem}.calendar-card.__jsx-style-dynamic-selector .day.__jsx-style-dynamic-selector{font-size:.875rem;transform:none}}")})]})},et=()=>{let e=(0,_.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer-wrapper",children:[(0,t.jsx)(es,{icon:(0,t.jsxs)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" calendar-card full-height",children:[(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" month"}),(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" flex-center-center",children:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" day shimmer"})})]}),title:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer title"}),desc:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer desc"})}),(0,t.jsx)(a.default,{id:"a9106e074ef0068",dynamic:[e.tiny],children:".shimmer-wrapper.__jsx-style-dynamic-selector{padding:1px 0}.calendar-card.__jsx-style-dynamic-selector{width:100%}.month.__jsx-style-dynamic-selector{background:var(--opacity-8);width:100%;height:.75rem}.day.__jsx-style-dynamic-selector{width:1.25rem;height:.5rem;margin-top:.5rem;margin-bottom:0}@media (max-width:".concat(e.tiny,"){.day.__jsx-style-dynamic-selector{margin-top:.375rem}}.title.__jsx-style-dynamic-selector{width:10rem;height:.75rem;margin-bottom:.5rem}.desc.__jsx-style-dynamic-selector{width:6rem;height:.625rem;margin-bottom:0}")})]})},ea=()=>{let{event:e,guest_data:i}=(0,A.useEventPageContext)(),s=(0,T.useT)(),n=e.location_type;if(n===K.EventLocationType.Missing&&(n=K.EventLocationType.Unknown),n===K.EventLocationType.Offline){let{geo_address_info:n}=e;if((null==n?void 0:n.mode)==="shown"){let e="shown"===n.mode?(0,W.getGoogleMapsUrl)({info:n}):null;return(0,t.jsxs)(B.OptionalLink,{href:e,className:"row-container",children:[(0,t.jsx)(es,{className:"location-row",icon:(0,t.jsx)(z.default,{}),title:(0,t.jsxs)("div",{className:"jsx-716bec2817eb1288 flex-center gap-1",children:[(0,t.jsx)("div",{className:"jsx-716bec2817eb1288 text-ellipses",children:n.address}),(0,t.jsx)("div",{className:"jsx-716bec2817eb1288 icon text-tinted animated",children:(0,t.jsx)(F.default,{})})]}),desc:"google"===n.type&&n.city_state}),(0,t.jsx)(a.default,{id:"716bec2817eb1288",children:".icon.jsx-716bec2817eb1288{opacity:.5;transform:translateY(.5px)}@media (hover:hover){:is(.location-row .title,.location-row .desc){transition:var(--transition)}.location-row:hover :-webkit-any(.title,.desc){color:var(--brand-active-color)}.location-row:hover :-moz-any(.title,.desc){color:var(--brand-active-color)}.location-row:hover :is(.title,.desc){color:var(--brand-active-color)}.location-row:hover .icon.jsx-716bec2817eb1288{color:var(--brand-active-color);opacity:1;transform:translate(1px)translateY(-.5px)}}"})]})}let r=i.approval_status===Q.GuestApprovalStatus.Approved||i.approval_status===Q.GuestApprovalStatus.PendingApproval||i.approval_status===Q.GuestApprovalStatus.Session;return(0,t.jsx)(es,{icon:(0,t.jsx)(z.default,{}),title:s(r?{defaultMessage:"To Be Announced",id:"YggJuw",description:"Location of the event isn't yet known. Shown on event page."}:{defaultMessage:"Register to See Address",id:"URs3T9",description:"Shown on event page in place of the event location. This prompts visitors to register to get more information."}),desc:null==n?void 0:n.city_state})}let{label:r,icon:o}=H.EventLocationTypeToInfo[n];return(0,t.jsx)(es,{icon:o,title:r(s)})},ei=()=>(0,t.jsxs)("div",{className:"jsx-d02035bd5a64c643 shimmer-wrapper",children:[(0,t.jsx)(es,{icon:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 flex-center-center",children:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 icon shimmer"})}),title:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 shimmer title"}),desc:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 shimmer desc"})}),(0,t.jsx)(a.default,{id:"d02035bd5a64c643",children:".shimmer-wrapper.jsx-d02035bd5a64c643{padding:1px 0}.icon.jsx-d02035bd5a64c643{width:1.25rem;height:.5rem;margin:0}.title.jsx-d02035bd5a64c643{width:10rem;height:.75rem;margin-bottom:.5rem}.desc.jsx-d02035bd5a64c643{width:6rem;height:.625rem;margin-bottom:0}"})]}),es=e=>{let{icon:s,title:n,desc:r,className:o,expandable:l}=e,d=(0,_.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["ae644bea723ce883",[d.tiny,d.tiny]]])+" "+((0,i.default)("icon-row flex-center gap-3",o)||""),children:[(0,t.jsx)("div",{className:a.default.dynamic([["ae644bea723ce883",[d.tiny,d.tiny]]])+" icon-container flex-center-center rounded overflow-hidden flex-shrink-0",children:s}),(0,t.jsxs)("div",{className:a.default.dynamic([["ae644bea723ce883",[d.tiny,d.tiny]]])+" flex-1",children:[(0,t.jsx)("div",{className:a.default.dynamic([["ae644bea723ce883",[d.tiny,d.tiny]]])+" title text-ellipses",children:n}),r&&(0,t.jsx)("div",{className:a.default.dynamic([["ae644bea723ce883",[d.tiny,d.tiny]]])+" desc text-ellipses",children:r})]}),l&&(0,t.jsx)(I.Chevron,{direction:"down",className:"text-tertiary-alpha"}),(0,t.jsx)(a.default,{id:"ae644bea723ce883",dynamic:[d.tiny,d.tiny],children:".icon-container.__jsx-style-dynamic-selector{border:1px solid var(--divider-color);width:2.5rem;height:2.5rem;color:var(--tint-color);margin:.125rem 0}.icon-container.__jsx-style-dynamic-selector svg{width:1.25rem;height:1.25rem}@media (max-width:".concat(d.tiny,"){.icon-container.__jsx-style-dynamic-selector{width:2.25rem;height:2.25rem}.icon-container.__jsx-style-dynamic-selector svg{width:1.125rem;height:1.125rem}}.title.__jsx-style-dynamic-selector{color:var(--primary-color);font-family:var(--title-font);font-weight:var(--font-weight-medium)}.desc.__jsx-style-dynamic-selector{color:var(--tint-color);font-size:var(--font-size-sm);margin-top:1px}@media (max-width:").concat(d.tiny,"){.icon-row.__jsx-style-dynamic-selector{gap:.75rem}.title.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-xs)}}")})]})}},87948,e=>{"use strict";e.s(["CoverImageWithGlow",()=>n]);var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(935382);let n=e=>{let{className:n,event:r}=e,o={medium:280,large:300};return(0,t.jsxs)("div",{className:"jsx-bf6a7880009e315e "+((0,i.default)("cover-with-glow flex-center-center",n)||""),children:[(0,t.jsx)(s.EventCoverImage,{className:"cover-image cover-image-under",event:r,mode:"aspect-ratio",shape:"rectangle",width:r.one_to_one?400:800,aspectRatio:r.one_to_one?1:2,responsiveSizes:o,allowAnimation:!0}),(0,t.jsx)("div",{className:"jsx-bf6a7880009e315e cover-image-wrapper flex-center-center",children:(0,t.jsx)(s.EventCoverImage,{className:"cover-image",event:r,mode:"aspect-ratio",shape:"rectangle",width:r.one_to_one?400:800,aspectRatio:r.one_to_one?1:2,responsiveSizes:o,allowAnimation:!0})}),(0,t.jsx)(a.default,{id:"bf6a7880009e315e",children:".cover-with-glow.jsx-bf6a7880009e315e{position:relative}.cover-with-glow.jsx-bf6a7880009e315e .cover-image-wrapper.jsx-bf6a7880009e315e{border-radius:var(--card-border-radius);width:100%;overflow:hidden}.cover-with-glow.jsx-bf6a7880009e315e .cover-image img{transform:scale(1.005)}.cover-with-glow.jsx-bf6a7880009e315e .cover-image-under{opacity:.2;filter:brightness(.8)blur(24px)saturate(1.2);-webkit-backdrop-filter:blur();mix-blend-mode:multiply;position:absolute;top:1rem;transform:translate(0)}.theme-root.dark .cover-with-glow .cover-image-under{opacity:.3;filter:brightness(.7)blur(24px)saturate(1.2)}"})]})}}]);